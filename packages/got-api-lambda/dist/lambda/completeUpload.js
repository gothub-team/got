var Zc=Object.create;var Oo=Object.defineProperty;var el=Object.getOwnPropertyDescriptor;var rl=Object.getOwnPropertyNames;var tl=Object.getPrototypeOf,ol=Object.prototype.hasOwnProperty;var R=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),nl=(r,e)=>{for(var t in e)Oo(r,t,{get:e[t],enumerable:!0})},ls=(r,e,t,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of rl(e))!ol.call(r,n)&&n!==t&&Oo(r,n,{get:()=>e[n],enumerable:!(o=el(e,n))||o.enumerable});return r};var ps=(r,e,t)=>(t=r!=null?Zc(tl(r)):{},ls(e||!r||!r.__esModule?Oo(t,"default",{value:r,enumerable:!0}):t,r)),al=r=>ls(Oo({},"__esModule",{value:!0}),r);var ms=R((Io,ds)=>{(function(r,e){typeof Io=="object"?ds.exports=Io=e():typeof define=="function"&&define.amd?define([],e):r.CryptoJS=e()})(Io,function(){var r=r||function(e,t){var o;if(typeof window<"u"&&window.crypto&&(o=window.crypto),typeof self<"u"&&self.crypto&&(o=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(o=globalThis.crypto),!o&&typeof window<"u"&&window.msCrypto&&(o=window.msCrypto),!o&&typeof global<"u"&&global.crypto&&(o=global.crypto),!o&&typeof require=="function")try{o=require("crypto")}catch{}var n=function(){if(o){if(typeof o.getRandomValues=="function")try{return o.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof o.randomBytes=="function")try{return o.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function h(){}return function($){var P;return h.prototype=$,P=new h,h.prototype=null,P}}(),i={},u=i.lib={},l=u.Base=function(){return{extend:function(h){var $=a(this);return h&&$.mixIn(h),(!$.hasOwnProperty("init")||this.init===$.init)&&($.init=function(){$.$super.init.apply(this,arguments)}),$.init.prototype=$,$.$super=this,$},create:function(){var h=this.extend();return h.init.apply(h,arguments),h},init:function(){},mixIn:function(h){for(var $ in h)h.hasOwnProperty($)&&(this[$]=h[$]);h.hasOwnProperty("toString")&&(this.toString=h.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),d=u.WordArray=l.extend({init:function(h,$){h=this.words=h||[],$!=t?this.sigBytes=$:this.sigBytes=h.length*4},toString:function(h){return(h||v).stringify(this)},concat:function(h){var $=this.words,P=h.words,I=this.sigBytes,O=h.sigBytes;if(this.clamp(),I%4)for(var k=0;k<O;k++){var he=P[k>>>2]>>>24-k%4*8&255;$[I+k>>>2]|=he<<24-(I+k)%4*8}else for(var ye=0;ye<O;ye+=4)$[I+ye>>>2]=P[ye>>>2];return this.sigBytes+=O,this},clamp:function(){var h=this.words,$=this.sigBytes;h[$>>>2]&=4294967295<<32-$%4*8,h.length=e.ceil($/4)},clone:function(){var h=l.clone.call(this);return h.words=this.words.slice(0),h},random:function(h){for(var $=[],P=0;P<h;P+=4)$.push(n());return new d.init($,h)}}),m=i.enc={},v=m.Hex={stringify:function(h){for(var $=h.words,P=h.sigBytes,I=[],O=0;O<P;O++){var k=$[O>>>2]>>>24-O%4*8&255;I.push((k>>>4).toString(16)),I.push((k&15).toString(16))}return I.join("")},parse:function(h){for(var $=h.length,P=[],I=0;I<$;I+=2)P[I>>>3]|=parseInt(h.substr(I,2),16)<<24-I%8*4;return new d.init(P,$/2)}},E=m.Latin1={stringify:function(h){for(var $=h.words,P=h.sigBytes,I=[],O=0;O<P;O++){var k=$[O>>>2]>>>24-O%4*8&255;I.push(String.fromCharCode(k))}return I.join("")},parse:function(h){for(var $=h.length,P=[],I=0;I<$;I++)P[I>>>2]|=(h.charCodeAt(I)&255)<<24-I%4*8;return new d.init(P,$)}},g=m.Utf8={stringify:function(h){try{return decodeURIComponent(escape(E.stringify(h)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(h){return E.parse(unescape(encodeURIComponent(h)))}},x=u.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new d.init,this._nDataBytes=0},_append:function(h){typeof h=="string"&&(h=g.parse(h)),this._data.concat(h),this._nDataBytes+=h.sigBytes},_process:function(h){var $,P=this._data,I=P.words,O=P.sigBytes,k=this.blockSize,he=k*4,ye=O/he;h?ye=e.ceil(ye):ye=e.max((ye|0)-this._minBufferSize,0);var ve=ye*k,se=e.min(ve*4,O);if(ve){for(var De=0;De<ve;De+=k)this._doProcessBlock(I,De);$=I.splice(0,ve),P.sigBytes-=se}return new d.init($,se)},clone:function(){var h=l.clone.call(this);return h._data=this._data.clone(),h},_minBufferSize:0}),w=u.Hasher=x.extend({cfg:l.extend(),init:function(h){this.cfg=this.cfg.extend(h),this.reset()},reset:function(){x.reset.call(this),this._doReset()},update:function(h){return this._append(h),this._process(),this},finalize:function(h){h&&this._append(h);var $=this._doFinalize();return $},blockSize:512/32,_createHelper:function(h){return function($,P){return new h.init(P).finalize($)}},_createHmacHelper:function(h){return function($,P){return new S.HMAC.init(h,P).finalize($)}}}),S=i.algo={};return i}(Math);return r})});var ys=R((No,hs)=>{(function(r,e){typeof No=="object"?hs.exports=No=e(ms()):typeof define=="function"&&define.amd?define(["./core"],e):e(r.CryptoJS)})(No,function(r){return function(e){var t=r,o=t.lib,n=o.WordArray,a=o.Hasher,i=t.algo,u=[],l=[];(function(){function v(w){for(var S=e.sqrt(w),h=2;h<=S;h++)if(!(w%h))return!1;return!0}function E(w){return(w-(w|0))*4294967296|0}for(var g=2,x=0;x<64;)v(g)&&(x<8&&(u[x]=E(e.pow(g,1/2))),l[x]=E(e.pow(g,1/3)),x++),g++})();var d=[],m=i.SHA256=a.extend({_doReset:function(){this._hash=new n.init(u.slice(0))},_doProcessBlock:function(v,E){for(var g=this._hash.words,x=g[0],w=g[1],S=g[2],h=g[3],$=g[4],P=g[5],I=g[6],O=g[7],k=0;k<64;k++){if(k<16)d[k]=v[E+k]|0;else{var he=d[k-15],ye=(he<<25|he>>>7)^(he<<14|he>>>18)^he>>>3,ve=d[k-2],se=(ve<<15|ve>>>17)^(ve<<13|ve>>>19)^ve>>>10;d[k]=ye+d[k-7]+se+d[k-16]}var De=$&P^~$&I,Le=x&w^x&S^w&S,Yr=(x<<30|x>>>2)^(x<<19|x>>>13)^(x<<10|x>>>22),Qr=($<<26|$>>>6)^($<<21|$>>>11)^($<<7|$>>>25),St=O+Qr+De+l[k]+d[k],Cn=Yr+Le;O=I,I=P,P=$,$=h+St|0,h=S,S=w,w=x,x=St+Cn|0}g[0]=g[0]+x|0,g[1]=g[1]+w|0,g[2]=g[2]+S|0,g[3]=g[3]+h|0,g[4]=g[4]+$|0,g[5]=g[5]+P|0,g[6]=g[6]+I|0,g[7]=g[7]+O|0},_doFinalize:function(){var v=this._data,E=v.words,g=this._nDataBytes*8,x=v.sigBytes*8;return E[x>>>5]|=128<<24-x%32,E[(x+64>>>9<<4)+14]=e.floor(g/4294967296),E[(x+64>>>9<<4)+15]=g,v.sigBytes=E.length*4,this._process(),this._hash},clone:function(){var v=a.clone.call(this);return v._hash=this._hash.clone(),v}});t.SHA256=a._createHelper(m),t.HmacSHA256=a._createHmacHelper(m)}(Math),r.SHA256})});var Zt=R(K=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0});K.regexpCode=K.getEsmExportName=K.getProperty=K.safeStringify=K.stringify=K.strConcat=K.addCodeArg=K.str=K._=K.nil=K._Code=K.Name=K.IDENTIFIER=K._CodeOrName=void 0;var Yt=class{};K._CodeOrName=Yt;K.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var Fr=class extends Yt{constructor(e){if(super(),!K.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};K.Name=Fr;var Ve=class extends Yt{constructor(e){super(),this._items=typeof e=="string"?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let e=this._items[0];return e===""||e==='""'}get str(){var e;return(e=this._str)!==null&&e!==void 0?e:this._str=this._items.reduce((t,o)=>`${t}${o}`,"")}get names(){var e;return(e=this._names)!==null&&e!==void 0?e:this._names=this._items.reduce((t,o)=>(o instanceof Fr&&(t[o.str]=(t[o.str]||0)+1),t),{})}};K._Code=Ve;K.nil=new Ve("");function Zs(r,...e){let t=[r[0]],o=0;for(;o<e.length;)da(t,e[o]),t.push(r[++o]);return new Ve(t)}K._=Zs;var pa=new Ve("+");function eu(r,...e){let t=[Qt(r[0])],o=0;for(;o<e.length;)t.push(pa),da(t,e[o]),t.push(pa,Qt(r[++o]));return pd(t),new Ve(t)}K.str=eu;function da(r,e){e instanceof Ve?r.push(...e._items):e instanceof Fr?r.push(e):r.push(hd(e))}K.addCodeArg=da;function pd(r){let e=1;for(;e<r.length-1;){if(r[e]===pa){let t=dd(r[e-1],r[e+1]);if(t!==void 0){r.splice(e-1,3,t);continue}r[e++]="+"}e++}}function dd(r,e){if(e==='""')return r;if(r==='""')return e;if(typeof r=="string")return e instanceof Fr||r[r.length-1]!=='"'?void 0:typeof e!="string"?`${r.slice(0,-1)}${e}"`:e[0]==='"'?r.slice(0,-1)+e.slice(1):void 0;if(typeof e=="string"&&e[0]==='"'&&!(r instanceof Fr))return`"${r}${e.slice(1)}`}function md(r,e){return e.emptyStr()?r:r.emptyStr()?e:eu`${r}${e}`}K.strConcat=md;function hd(r){return typeof r=="number"||typeof r=="boolean"||r===null?r:Qt(Array.isArray(r)?r.join(","):r)}function yd(r){return new Ve(Qt(r))}K.stringify=yd;function Qt(r){return JSON.stringify(r).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}K.safeStringify=Qt;function vd(r){return typeof r=="string"&&K.IDENTIFIER.test(r)?new Ve(`.${r}`):Zs`[${r}]`}K.getProperty=vd;function _d(r){if(typeof r=="string"&&K.IDENTIFIER.test(r))return new Ve(`${r}`);throw new Error(`CodeGen: invalid export name: ${r}, use explicit $id name mapping`)}K.getEsmExportName=_d;function gd(r){return new Ve(r.toString())}K.regexpCode=gd});var va=R(Oe=>{"use strict";Object.defineProperty(Oe,"__esModule",{value:!0});Oe.ValueScope=Oe.ValueScopeName=Oe.Scope=Oe.varKinds=Oe.UsedValueState=void 0;var Te=Zt(),ma=class extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}},ha;(function(r){r[r.Started=0]="Started",r[r.Completed=1]="Completed"})(ha=Oe.UsedValueState||(Oe.UsedValueState={}));Oe.varKinds={const:new Te.Name("const"),let:new Te.Name("let"),var:new Te.Name("var")};var Zo=class{constructor({prefixes:e,parent:t}={}){this._names={},this._prefixes=e,this._parent=t}toName(e){return e instanceof Te.Name?e:this.name(e)}name(e){return new Te.Name(this._newName(e))}_newName(e){let t=this._names[e]||this._nameGroup(e);return`${e}${t.index++}`}_nameGroup(e){var t,o;if(!((o=(t=this._parent)===null||t===void 0?void 0:t._prefixes)===null||o===void 0)&&o.has(e)||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}};Oe.Scope=Zo;var en=class extends Te.Name{constructor(e,t){super(t),this.prefix=e}setValue(e,{property:t,itemIndex:o}){this.value=e,this.scopePath=(0,Te._)`.${new Te.Name(t)}[${o}]`}};Oe.ValueScopeName=en;var xd=(0,Te._)`\n`,ya=class extends Zo{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?xd:Te.nil}}get(){return this._scope}name(e){return new en(e,this._newName(e))}value(e,t){var o;if(t.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let n=this.toName(e),{prefix:a}=n,i=(o=t.key)!==null&&o!==void 0?o:t.ref,u=this._values[a];if(u){let m=u.get(i);if(m)return m}else u=this._values[a]=new Map;u.set(i,n);let l=this._scope[a]||(this._scope[a]=[]),d=l.length;return l[d]=t.ref,n.setValue(t,{property:a,itemIndex:d}),n}getValue(e,t){let o=this._values[e];if(o)return o.get(t)}scopeRefs(e,t=this._values){return this._reduceValues(t,o=>{if(o.scopePath===void 0)throw new Error(`CodeGen: name "${o}" has no value`);return(0,Te._)`${e}${o.scopePath}`})}scopeCode(e=this._values,t,o){return this._reduceValues(e,n=>{if(n.value===void 0)throw new Error(`CodeGen: name "${n}" has no value`);return n.value.code},t,o)}_reduceValues(e,t,o={},n){let a=Te.nil;for(let i in e){let u=e[i];if(!u)continue;let l=o[i]=o[i]||new Map;u.forEach(d=>{if(l.has(d))return;l.set(d,ha.Started);let m=t(d);if(m){let v=this.opts.es5?Oe.varKinds.var:Oe.varKinds.const;a=(0,Te._)`${a}${v} ${d} = ${m};${this.opts._n}`}else if(m=n?.(d))a=(0,Te._)`${a}${m}${this.opts._n}`;else throw new ma(d);l.set(d,ha.Completed)})}return a}};Oe.ValueScope=ya});var U=R(j=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});j.or=j.and=j.not=j.CodeGen=j.operators=j.varKinds=j.ValueScopeName=j.ValueScope=j.Scope=j.Name=j.regexpCode=j.stringify=j.getProperty=j.nil=j.strConcat=j.str=j._=void 0;var L=Zt(),Ye=va(),Or=Zt();Object.defineProperty(j,"_",{enumerable:!0,get:function(){return Or._}});Object.defineProperty(j,"str",{enumerable:!0,get:function(){return Or.str}});Object.defineProperty(j,"strConcat",{enumerable:!0,get:function(){return Or.strConcat}});Object.defineProperty(j,"nil",{enumerable:!0,get:function(){return Or.nil}});Object.defineProperty(j,"getProperty",{enumerable:!0,get:function(){return Or.getProperty}});Object.defineProperty(j,"stringify",{enumerable:!0,get:function(){return Or.stringify}});Object.defineProperty(j,"regexpCode",{enumerable:!0,get:function(){return Or.regexpCode}});Object.defineProperty(j,"Name",{enumerable:!0,get:function(){return Or.Name}});var nn=va();Object.defineProperty(j,"Scope",{enumerable:!0,get:function(){return nn.Scope}});Object.defineProperty(j,"ValueScope",{enumerable:!0,get:function(){return nn.ValueScope}});Object.defineProperty(j,"ValueScopeName",{enumerable:!0,get:function(){return nn.ValueScopeName}});Object.defineProperty(j,"varKinds",{enumerable:!0,get:function(){return nn.varKinds}});j.operators={GT:new L._Code(">"),GTE:new L._Code(">="),LT:new L._Code("<"),LTE:new L._Code("<="),EQ:new L._Code("==="),NEQ:new L._Code("!=="),NOT:new L._Code("!"),OR:new L._Code("||"),AND:new L._Code("&&"),ADD:new L._Code("+")};var $r=class{optimizeNodes(){return this}optimizeNames(e,t){return this}},_a=class extends $r{constructor(e,t,o){super(),this.varKind=e,this.name=t,this.rhs=o}render({es5:e,_n:t}){let o=e?Ye.varKinds.var:this.varKind,n=this.rhs===void 0?"":` = ${this.rhs}`;return`${o} ${this.name}${n};`+t}optimizeNames(e,t){if(e[this.name.str])return this.rhs&&(this.rhs=dt(this.rhs,e,t)),this}get names(){return this.rhs instanceof L._CodeOrName?this.rhs.names:{}}},rn=class extends $r{constructor(e,t,o){super(),this.lhs=e,this.rhs=t,this.sideEffects=o}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,t){if(!(this.lhs instanceof L.Name&&!e[this.lhs.str]&&!this.sideEffects))return this.rhs=dt(this.rhs,e,t),this}get names(){let e=this.lhs instanceof L.Name?{}:{...this.lhs.names};return on(e,this.rhs)}},ga=class extends rn{constructor(e,t,o,n){super(e,o,n),this.op=t}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}},xa=class extends $r{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}},wa=class extends $r{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}},$a=class extends $r{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}},Ea=class extends $r{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,t){return this.code=dt(this.code,e,t),this}get names(){return this.code instanceof L._CodeOrName?this.code.names:{}}},eo=class extends $r{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce((t,o)=>t+o.render(e),"")}optimizeNodes(){let{nodes:e}=this,t=e.length;for(;t--;){let o=e[t].optimizeNodes();Array.isArray(o)?e.splice(t,1,...o):o?e[t]=o:e.splice(t,1)}return e.length>0?this:void 0}optimizeNames(e,t){let{nodes:o}=this,n=o.length;for(;n--;){let a=o[n];a.optimizeNames(e,t)||(wd(e,a.names),o.splice(n,1))}return o.length>0?this:void 0}get names(){return this.nodes.reduce((e,t)=>Kr(e,t.names),{})}},Er=class extends eo{render(e){return"{"+e._n+super.render(e)+"}"+e._n}},Sa=class extends eo{},pt=class extends Er{};pt.kind="else";var Br=class r extends Er{constructor(e,t){super(t),this.condition=e}render(e){let t=`if(${this.condition})`+super.render(e);return this.else&&(t+="else "+this.else.render(e)),t}optimizeNodes(){super.optimizeNodes();let e=this.condition;if(e===!0)return this.nodes;let t=this.else;if(t){let o=t.optimizeNodes();t=this.else=Array.isArray(o)?new pt(o):o}if(t)return e===!1?t instanceof r?t:t.nodes:this.nodes.length?this:new r(ru(e),t instanceof r?[t]:t.nodes);if(!(e===!1||!this.nodes.length))return this}optimizeNames(e,t){var o;if(this.else=(o=this.else)===null||o===void 0?void 0:o.optimizeNames(e,t),!!(super.optimizeNames(e,t)||this.else))return this.condition=dt(this.condition,e,t),this}get names(){let e=super.names;return on(e,this.condition),this.else&&Kr(e,this.else.names),e}};Br.kind="if";var Wr=class extends Er{};Wr.kind="for";var ba=class extends Wr{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iteration=dt(this.iteration,e,t),this}get names(){return Kr(super.names,this.iteration.names)}},Pa=class extends Wr{constructor(e,t,o,n){super(),this.varKind=e,this.name=t,this.from=o,this.to=n}render(e){let t=e.es5?Ye.varKinds.var:this.varKind,{name:o,from:n,to:a}=this;return`for(${t} ${o}=${n}; ${o}<${a}; ${o}++)`+super.render(e)}get names(){let e=on(super.names,this.from);return on(e,this.to)}},tn=class extends Wr{constructor(e,t,o,n){super(),this.loop=e,this.varKind=t,this.name=o,this.iterable=n}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iterable=dt(this.iterable,e,t),this}get names(){return Kr(super.names,this.iterable.names)}},ro=class extends Er{constructor(e,t,o){super(),this.name=e,this.args=t,this.async=o}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}};ro.kind="func";var to=class extends eo{render(e){return"return "+super.render(e)}};to.kind="return";var Aa=class extends Er{render(e){let t="try"+super.render(e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}optimizeNodes(){var e,t;return super.optimizeNodes(),(e=this.catch)===null||e===void 0||e.optimizeNodes(),(t=this.finally)===null||t===void 0||t.optimizeNodes(),this}optimizeNames(e,t){var o,n;return super.optimizeNames(e,t),(o=this.catch)===null||o===void 0||o.optimizeNames(e,t),(n=this.finally)===null||n===void 0||n.optimizeNames(e,t),this}get names(){let e=super.names;return this.catch&&Kr(e,this.catch.names),this.finally&&Kr(e,this.finally.names),e}},oo=class extends Er{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}};oo.kind="catch";var no=class extends Er{render(e){return"finally"+super.render(e)}};no.kind="finally";var Ra=class{constructor(e,t={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...t,_n:t.lines?`
`:""},this._extScope=e,this._scope=new Ye.Scope({parent:e}),this._nodes=[new Sa]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,t){let o=this._extScope.value(e,t);return(this._values[o.prefix]||(this._values[o.prefix]=new Set)).add(o),o}getScopeValue(e,t){return this._extScope.getValue(e,t)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,t,o,n){let a=this._scope.toName(t);return o!==void 0&&n&&(this._constants[a.str]=o),this._leafNode(new _a(e,a,o)),a}const(e,t,o){return this._def(Ye.varKinds.const,e,t,o)}let(e,t,o){return this._def(Ye.varKinds.let,e,t,o)}var(e,t,o){return this._def(Ye.varKinds.var,e,t,o)}assign(e,t,o){return this._leafNode(new rn(e,t,o))}add(e,t){return this._leafNode(new ga(e,j.operators.ADD,t))}code(e){return typeof e=="function"?e():e!==L.nil&&this._leafNode(new Ea(e)),this}object(...e){let t=["{"];for(let[o,n]of e)t.length>1&&t.push(","),t.push(o),(o!==n||this.opts.es5)&&(t.push(":"),(0,L.addCodeArg)(t,n));return t.push("}"),new L._Code(t)}if(e,t,o){if(this._blockNode(new Br(e)),t&&o)this.code(t).else().code(o).endIf();else if(t)this.code(t).endIf();else if(o)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new Br(e))}else(){return this._elseNode(new pt)}endIf(){return this._endBlockNode(Br,pt)}_for(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}for(e,t){return this._for(new ba(e),t)}forRange(e,t,o,n,a=this.opts.es5?Ye.varKinds.var:Ye.varKinds.let){let i=this._scope.toName(e);return this._for(new Pa(a,i,t,o),()=>n(i))}forOf(e,t,o,n=Ye.varKinds.const){let a=this._scope.toName(e);if(this.opts.es5){let i=t instanceof L.Name?t:this.var("_arr",t);return this.forRange("_i",0,(0,L._)`${i}.length`,u=>{this.var(a,(0,L._)`${i}[${u}]`),o(a)})}return this._for(new tn("of",n,a,t),()=>o(a))}forIn(e,t,o,n=this.opts.es5?Ye.varKinds.var:Ye.varKinds.const){if(this.opts.ownProperties)return this.forOf(e,(0,L._)`Object.keys(${t})`,o);let a=this._scope.toName(e);return this._for(new tn("in",n,a,t),()=>o(a))}endFor(){return this._endBlockNode(Wr)}label(e){return this._leafNode(new xa(e))}break(e){return this._leafNode(new wa(e))}return(e){let t=new to;if(this._blockNode(t),this.code(e),t.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(to)}try(e,t,o){if(!t&&!o)throw new Error('CodeGen: "try" without "catch" and "finally"');let n=new Aa;if(this._blockNode(n),this.code(e),t){let a=this.name("e");this._currNode=n.catch=new oo(a),t(a)}return o&&(this._currNode=n.finally=new no,this.code(o)),this._endBlockNode(oo,no)}throw(e){return this._leafNode(new $a(e))}block(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}endBlock(e){let t=this._blockStarts.pop();if(t===void 0)throw new Error("CodeGen: not in self-balancing block");let o=this._nodes.length-t;if(o<0||e!==void 0&&o!==e)throw new Error(`CodeGen: wrong number of nodes: ${o} vs ${e} expected`);return this._nodes.length=t,this}func(e,t=L.nil,o,n){return this._blockNode(new ro(e,t,o)),n&&this.code(n).endFunc(),this}endFunc(){return this._endBlockNode(ro)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,t){let o=this._currNode;if(o instanceof e||t&&o instanceof t)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${t?`${e.kind}/${t.kind}`:e.kind}"`)}_elseNode(e){let t=this._currNode;if(!(t instanceof Br))throw new Error('CodeGen: "else" without "if"');return this._currNode=t.else=e,this}get _root(){return this._nodes[0]}get _currNode(){let e=this._nodes;return e[e.length-1]}set _currNode(e){let t=this._nodes;t[t.length-1]=e}};j.CodeGen=Ra;function Kr(r,e){for(let t in e)r[t]=(r[t]||0)+(e[t]||0);return r}function on(r,e){return e instanceof L._CodeOrName?Kr(r,e.names):r}function dt(r,e,t){if(r instanceof L.Name)return o(r);if(!n(r))return r;return new L._Code(r._items.reduce((a,i)=>(i instanceof L.Name&&(i=o(i)),i instanceof L._Code?a.push(...i._items):a.push(i),a),[]));function o(a){let i=t[a.str];return i===void 0||e[a.str]!==1?a:(delete e[a.str],i)}function n(a){return a instanceof L._Code&&a._items.some(i=>i instanceof L.Name&&e[i.str]===1&&t[i.str]!==void 0)}}function wd(r,e){for(let t in e)r[t]=(r[t]||0)-(e[t]||0)}function ru(r){return typeof r=="boolean"||typeof r=="number"||r===null?!r:(0,L._)`!${Oa(r)}`}j.not=ru;var $d=tu(j.operators.AND);function Ed(...r){return r.reduce($d)}j.and=Ed;var Sd=tu(j.operators.OR);function bd(...r){return r.reduce(Sd)}j.or=bd;function tu(r){return(e,t)=>e===L.nil?t:t===L.nil?e:(0,L._)`${Oa(e)} ${r} ${Oa(t)}`}function Oa(r){return r instanceof L.Name?r:(0,L._)`(${r})`}});var V=R(M=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0});M.checkStrictMode=M.getErrorPath=M.Type=M.useFunc=M.setEvaluated=M.evaluatedPropsToName=M.mergeEvaluated=M.eachItem=M.unescapeJsonPointer=M.escapeJsonPointer=M.escapeFragment=M.unescapeFragment=M.schemaRefOrVal=M.schemaHasRulesButRef=M.schemaHasRules=M.checkUnknownRules=M.alwaysValidSchema=M.toHash=void 0;var ee=U(),Pd=Zt();function Ad(r){let e={};for(let t of r)e[t]=!0;return e}M.toHash=Ad;function Rd(r,e){return typeof e=="boolean"?e:Object.keys(e).length===0?!0:(au(r,e),!iu(e,r.self.RULES.all))}M.alwaysValidSchema=Rd;function au(r,e=r.schema){let{opts:t,self:o}=r;if(!t.strictSchema||typeof e=="boolean")return;let n=o.RULES.keywords;for(let a in e)n[a]||cu(r,`unknown keyword: "${a}"`)}M.checkUnknownRules=au;function iu(r,e){if(typeof r=="boolean")return!r;for(let t in r)if(e[t])return!0;return!1}M.schemaHasRules=iu;function Od(r,e){if(typeof r=="boolean")return!r;for(let t in r)if(t!=="$ref"&&e.all[t])return!0;return!1}M.schemaHasRulesButRef=Od;function Id({topSchemaRef:r,schemaPath:e},t,o,n){if(!n){if(typeof t=="number"||typeof t=="boolean")return t;if(typeof t=="string")return(0,ee._)`${t}`}return(0,ee._)`${r}${e}${(0,ee.getProperty)(o)}`}M.schemaRefOrVal=Id;function Nd(r){return su(decodeURIComponent(r))}M.unescapeFragment=Nd;function Td(r){return encodeURIComponent(Ia(r))}M.escapeFragment=Td;function Ia(r){return typeof r=="number"?`${r}`:r.replace(/~/g,"~0").replace(/\//g,"~1")}M.escapeJsonPointer=Ia;function su(r){return r.replace(/~1/g,"/").replace(/~0/g,"~")}M.unescapeJsonPointer=su;function Cd(r,e){if(Array.isArray(r))for(let t of r)e(t);else e(r)}M.eachItem=Cd;function ou({mergeNames:r,mergeToName:e,mergeValues:t,resultToName:o}){return(n,a,i,u)=>{let l=i===void 0?a:i instanceof ee.Name?(a instanceof ee.Name?r(n,a,i):e(n,a,i),i):a instanceof ee.Name?(e(n,i,a),a):t(a,i);return u===ee.Name&&!(l instanceof ee.Name)?o(n,l):l}}M.mergeEvaluated={props:ou({mergeNames:(r,e,t)=>r.if((0,ee._)`${t} !== true && ${e} !== undefined`,()=>{r.if((0,ee._)`${e} === true`,()=>r.assign(t,!0),()=>r.assign(t,(0,ee._)`${t} || {}`).code((0,ee._)`Object.assign(${t}, ${e})`))}),mergeToName:(r,e,t)=>r.if((0,ee._)`${t} !== true`,()=>{e===!0?r.assign(t,!0):(r.assign(t,(0,ee._)`${t} || {}`),Na(r,t,e))}),mergeValues:(r,e)=>r===!0?!0:{...r,...e},resultToName:uu}),items:ou({mergeNames:(r,e,t)=>r.if((0,ee._)`${t} !== true && ${e} !== undefined`,()=>r.assign(t,(0,ee._)`${e} === true ? true : ${t} > ${e} ? ${t} : ${e}`)),mergeToName:(r,e,t)=>r.if((0,ee._)`${t} !== true`,()=>r.assign(t,e===!0?!0:(0,ee._)`${t} > ${e} ? ${t} : ${e}`)),mergeValues:(r,e)=>r===!0?!0:Math.max(r,e),resultToName:(r,e)=>r.var("items",e)})};function uu(r,e){if(e===!0)return r.var("props",!0);let t=r.var("props",(0,ee._)`{}`);return e!==void 0&&Na(r,t,e),t}M.evaluatedPropsToName=uu;function Na(r,e,t){Object.keys(t).forEach(o=>r.assign((0,ee._)`${e}${(0,ee.getProperty)(o)}`,!0))}M.setEvaluated=Na;var nu={};function kd(r,e){return r.scopeValue("func",{ref:e,code:nu[e.code]||(nu[e.code]=new Pd._Code(e.code))})}M.useFunc=kd;var fu;(function(r){r[r.Num=0]="Num",r[r.Str=1]="Str"})(fu=M.Type||(M.Type={}));function Dd(r,e,t){if(r instanceof ee.Name){let o=e===fu.Num;return t?o?(0,ee._)`"[" + ${r} + "]"`:(0,ee._)`"['" + ${r} + "']"`:o?(0,ee._)`"/" + ${r}`:(0,ee._)`"/" + ${r}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return t?(0,ee.getProperty)(r).toString():"/"+Ia(r)}M.getErrorPath=Dd;function cu(r,e,t=r.opts.strictSchema){if(t){if(e=`strict mode: ${e}`,t===!0)throw new Error(e);r.self.logger.warn(e)}}M.checkStrictMode=cu});var Sr=R(Ta=>{"use strict";Object.defineProperty(Ta,"__esModule",{value:!0});var Se=U(),qd={data:new Se.Name("data"),valCxt:new Se.Name("valCxt"),instancePath:new Se.Name("instancePath"),parentData:new Se.Name("parentData"),parentDataProperty:new Se.Name("parentDataProperty"),rootData:new Se.Name("rootData"),dynamicAnchors:new Se.Name("dynamicAnchors"),vErrors:new Se.Name("vErrors"),errors:new Se.Name("errors"),this:new Se.Name("this"),self:new Se.Name("self"),scope:new Se.Name("scope"),json:new Se.Name("json"),jsonPos:new Se.Name("jsonPos"),jsonLen:new Se.Name("jsonLen"),jsonPart:new Se.Name("jsonPart")};Ta.default=qd});var ao=R(be=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});be.extendErrors=be.resetErrorsCount=be.reportExtraError=be.reportError=be.keyword$DataError=be.keywordError=void 0;var B=U(),an=V(),Ie=Sr();be.keywordError={message:({keyword:r})=>(0,B.str)`must pass "${r}" keyword validation`};be.keyword$DataError={message:({keyword:r,schemaType:e})=>e?(0,B.str)`"${r}" keyword must be ${e} ($data)`:(0,B.str)`"${r}" keyword is invalid ($data)`};function jd(r,e=be.keywordError,t,o){let{it:n}=r,{gen:a,compositeRule:i,allErrors:u}=n,l=du(r,e,t);o??(i||u)?lu(a,l):pu(n,(0,B._)`[${l}]`)}be.reportError=jd;function Md(r,e=be.keywordError,t){let{it:o}=r,{gen:n,compositeRule:a,allErrors:i}=o,u=du(r,e,t);lu(n,u),a||i||pu(o,Ie.default.vErrors)}be.reportExtraError=Md;function Ud(r,e){r.assign(Ie.default.errors,e),r.if((0,B._)`${Ie.default.vErrors} !== null`,()=>r.if(e,()=>r.assign((0,B._)`${Ie.default.vErrors}.length`,e),()=>r.assign(Ie.default.vErrors,null)))}be.resetErrorsCount=Ud;function Ld({gen:r,keyword:e,schemaValue:t,data:o,errsCount:n,it:a}){if(n===void 0)throw new Error("ajv implementation error");let i=r.name("err");r.forRange("i",n,Ie.default.errors,u=>{r.const(i,(0,B._)`${Ie.default.vErrors}[${u}]`),r.if((0,B._)`${i}.instancePath === undefined`,()=>r.assign((0,B._)`${i}.instancePath`,(0,B.strConcat)(Ie.default.instancePath,a.errorPath))),r.assign((0,B._)`${i}.schemaPath`,(0,B.str)`${a.errSchemaPath}/${e}`),a.opts.verbose&&(r.assign((0,B._)`${i}.schema`,t),r.assign((0,B._)`${i}.data`,o))})}be.extendErrors=Ld;function lu(r,e){let t=r.const("err",e);r.if((0,B._)`${Ie.default.vErrors} === null`,()=>r.assign(Ie.default.vErrors,(0,B._)`[${t}]`),(0,B._)`${Ie.default.vErrors}.push(${t})`),r.code((0,B._)`${Ie.default.errors}++`)}function pu(r,e){let{gen:t,validateName:o,schemaEnv:n}=r;n.$async?t.throw((0,B._)`new ${r.ValidationError}(${e})`):(t.assign((0,B._)`${o}.errors`,e),t.return(!1))}var Vr={keyword:new B.Name("keyword"),schemaPath:new B.Name("schemaPath"),params:new B.Name("params"),propertyName:new B.Name("propertyName"),message:new B.Name("message"),schema:new B.Name("schema"),parentSchema:new B.Name("parentSchema")};function du(r,e,t){let{createErrors:o}=r.it;return o===!1?(0,B._)`{}`:Fd(r,e,t)}function Fd(r,e,t={}){let{gen:o,it:n}=r,a=[Bd(n,t),Wd(r,t)];return Kd(r,e,a),o.object(...a)}function Bd({errorPath:r},{instancePath:e}){let t=e?(0,B.str)`${r}${(0,an.getErrorPath)(e,an.Type.Str)}`:r;return[Ie.default.instancePath,(0,B.strConcat)(Ie.default.instancePath,t)]}function Wd({keyword:r,it:{errSchemaPath:e}},{schemaPath:t,parentSchema:o}){let n=o?e:(0,B.str)`${e}/${r}`;return t&&(n=(0,B.str)`${n}${(0,an.getErrorPath)(t,an.Type.Str)}`),[Vr.schemaPath,n]}function Kd(r,{params:e,message:t},o){let{keyword:n,data:a,schemaValue:i,it:u}=r,{opts:l,propertyName:d,topSchemaRef:m,schemaPath:v}=u;o.push([Vr.keyword,n],[Vr.params,typeof e=="function"?e(r):e||(0,B._)`{}`]),l.messages&&o.push([Vr.message,typeof t=="function"?t(r):t]),l.verbose&&o.push([Vr.schema,i],[Vr.parentSchema,(0,B._)`${m}${v}`],[Ie.default.data,a]),d&&o.push([Vr.propertyName,d])}});var hu=R(mt=>{"use strict";Object.defineProperty(mt,"__esModule",{value:!0});mt.boolOrEmptySchema=mt.topBoolOrEmptySchema=void 0;var Vd=ao(),zd=U(),Hd=Sr(),Gd={message:"boolean schema is false"};function Xd(r){let{gen:e,schema:t,validateName:o}=r;t===!1?mu(r,!1):typeof t=="object"&&t.$async===!0?e.return(Hd.default.data):(e.assign((0,zd._)`${o}.errors`,null),e.return(!0))}mt.topBoolOrEmptySchema=Xd;function Jd(r,e){let{gen:t,schema:o}=r;o===!1?(t.var(e,!1),mu(r)):t.var(e,!0)}mt.boolOrEmptySchema=Jd;function mu(r,e){let{gen:t,data:o}=r,n={gen:t,keyword:"false schema",data:o,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:r};(0,Vd.reportError)(n,Gd,void 0,e)}});var Ca=R(ht=>{"use strict";Object.defineProperty(ht,"__esModule",{value:!0});ht.getRules=ht.isJSONType=void 0;var Yd=["string","number","integer","boolean","null","object","array"],Qd=new Set(Yd);function Zd(r){return typeof r=="string"&&Qd.has(r)}ht.isJSONType=Zd;function em(){let r={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...r,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},r.number,r.string,r.array,r.object],post:{rules:[]},all:{},keywords:{}}}ht.getRules=em});var ka=R(Ir=>{"use strict";Object.defineProperty(Ir,"__esModule",{value:!0});Ir.shouldUseRule=Ir.shouldUseGroup=Ir.schemaHasRulesForType=void 0;function rm({schema:r,self:e},t){let o=e.RULES.types[t];return o&&o!==!0&&yu(r,o)}Ir.schemaHasRulesForType=rm;function yu(r,e){return e.rules.some(t=>vu(r,t))}Ir.shouldUseGroup=yu;function vu(r,e){var t;return r[e.keyword]!==void 0||((t=e.definition.implements)===null||t===void 0?void 0:t.some(o=>r[o]!==void 0))}Ir.shouldUseRule=vu});var so=R(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.reportTypeError=xe.checkDataTypes=xe.checkDataType=xe.coerceAndCheckDataType=xe.getJSONTypes=xe.getSchemaTypes=xe.DataType=void 0;var tm=Ca(),om=ka(),nm=ao(),q=U(),_u=V(),io;(function(r){r[r.Correct=0]="Correct",r[r.Wrong=1]="Wrong"})(io=xe.DataType||(xe.DataType={}));function am(r){let e=gu(r.type);if(e.includes("null")){if(r.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!e.length&&r.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');r.nullable===!0&&e.push("null")}return e}xe.getSchemaTypes=am;function gu(r){let e=Array.isArray(r)?r:r?[r]:[];if(e.every(tm.isJSONType))return e;throw new Error("type must be JSONType or JSONType[]: "+e.join(","))}xe.getJSONTypes=gu;function im(r,e){let{gen:t,data:o,opts:n}=r,a=sm(e,n.coerceTypes),i=e.length>0&&!(a.length===0&&e.length===1&&(0,om.schemaHasRulesForType)(r,e[0]));if(i){let u=qa(e,o,n.strictNumbers,io.Wrong);t.if(u,()=>{a.length?um(r,e,a):ja(r)})}return i}xe.coerceAndCheckDataType=im;var xu=new Set(["string","number","integer","boolean","null"]);function sm(r,e){return e?r.filter(t=>xu.has(t)||e==="array"&&t==="array"):[]}function um(r,e,t){let{gen:o,data:n,opts:a}=r,i=o.let("dataType",(0,q._)`typeof ${n}`),u=o.let("coerced",(0,q._)`undefined`);a.coerceTypes==="array"&&o.if((0,q._)`${i} == 'object' && Array.isArray(${n}) && ${n}.length == 1`,()=>o.assign(n,(0,q._)`${n}[0]`).assign(i,(0,q._)`typeof ${n}`).if(qa(e,n,a.strictNumbers),()=>o.assign(u,n))),o.if((0,q._)`${u} !== undefined`);for(let d of t)(xu.has(d)||d==="array"&&a.coerceTypes==="array")&&l(d);o.else(),ja(r),o.endIf(),o.if((0,q._)`${u} !== undefined`,()=>{o.assign(n,u),fm(r,u)});function l(d){switch(d){case"string":o.elseIf((0,q._)`${i} == "number" || ${i} == "boolean"`).assign(u,(0,q._)`"" + ${n}`).elseIf((0,q._)`${n} === null`).assign(u,(0,q._)`""`);return;case"number":o.elseIf((0,q._)`${i} == "boolean" || ${n} === null
              || (${i} == "string" && ${n} && ${n} == +${n})`).assign(u,(0,q._)`+${n}`);return;case"integer":o.elseIf((0,q._)`${i} === "boolean" || ${n} === null
              || (${i} === "string" && ${n} && ${n} == +${n} && !(${n} % 1))`).assign(u,(0,q._)`+${n}`);return;case"boolean":o.elseIf((0,q._)`${n} === "false" || ${n} === 0 || ${n} === null`).assign(u,!1).elseIf((0,q._)`${n} === "true" || ${n} === 1`).assign(u,!0);return;case"null":o.elseIf((0,q._)`${n} === "" || ${n} === 0 || ${n} === false`),o.assign(u,null);return;case"array":o.elseIf((0,q._)`${i} === "string" || ${i} === "number"
              || ${i} === "boolean" || ${n} === null`).assign(u,(0,q._)`[${n}]`)}}}function fm({gen:r,parentData:e,parentDataProperty:t},o){r.if((0,q._)`${e} !== undefined`,()=>r.assign((0,q._)`${e}[${t}]`,o))}function Da(r,e,t,o=io.Correct){let n=o===io.Correct?q.operators.EQ:q.operators.NEQ,a;switch(r){case"null":return(0,q._)`${e} ${n} null`;case"array":a=(0,q._)`Array.isArray(${e})`;break;case"object":a=(0,q._)`${e} && typeof ${e} == "object" && !Array.isArray(${e})`;break;case"integer":a=i((0,q._)`!(${e} % 1) && !isNaN(${e})`);break;case"number":a=i();break;default:return(0,q._)`typeof ${e} ${n} ${r}`}return o===io.Correct?a:(0,q.not)(a);function i(u=q.nil){return(0,q.and)((0,q._)`typeof ${e} == "number"`,u,t?(0,q._)`isFinite(${e})`:q.nil)}}xe.checkDataType=Da;function qa(r,e,t,o){if(r.length===1)return Da(r[0],e,t,o);let n,a=(0,_u.toHash)(r);if(a.array&&a.object){let i=(0,q._)`typeof ${e} != "object"`;n=a.null?i:(0,q._)`!${e} || ${i}`,delete a.null,delete a.array,delete a.object}else n=q.nil;a.number&&delete a.integer;for(let i in a)n=(0,q.and)(n,Da(i,e,t,o));return n}xe.checkDataTypes=qa;var cm={message:({schema:r})=>`must be ${r}`,params:({schema:r,schemaValue:e})=>typeof r=="string"?(0,q._)`{type: ${r}}`:(0,q._)`{type: ${e}}`};function ja(r){let e=lm(r);(0,nm.reportError)(e,cm)}xe.reportTypeError=ja;function lm(r){let{gen:e,data:t,schema:o}=r,n=(0,_u.schemaRefOrVal)(r,o,"type");return{gen:e,keyword:"type",data:t,schema:o.type,schemaCode:n,schemaValue:n,parentSchema:o,params:{},it:r}}});var $u=R(sn=>{"use strict";Object.defineProperty(sn,"__esModule",{value:!0});sn.assignDefaults=void 0;var yt=U(),pm=V();function dm(r,e){let{properties:t,items:o}=r.schema;if(e==="object"&&t)for(let n in t)wu(r,n,t[n].default);else e==="array"&&Array.isArray(o)&&o.forEach((n,a)=>wu(r,a,n.default))}sn.assignDefaults=dm;function wu(r,e,t){let{gen:o,compositeRule:n,data:a,opts:i}=r;if(t===void 0)return;let u=(0,yt._)`${a}${(0,yt.getProperty)(e)}`;if(n){(0,pm.checkStrictMode)(r,`default is ignored for: ${u}`);return}let l=(0,yt._)`${u} === undefined`;i.useDefaults==="empty"&&(l=(0,yt._)`${l} || ${u} === null || ${u} === ""`),o.if(l,(0,yt._)`${u} = ${(0,yt.stringify)(t)}`)}});var ze=R(Q=>{"use strict";Object.defineProperty(Q,"__esModule",{value:!0});Q.validateUnion=Q.validateArray=Q.usePattern=Q.callValidateCode=Q.schemaProperties=Q.allSchemaProperties=Q.noPropertyInData=Q.propertyInData=Q.isOwnProperty=Q.hasPropFunc=Q.reportMissingProp=Q.checkMissingProp=Q.checkReportMissingProp=void 0;var re=U(),Ma=V(),Nr=Sr(),mm=V();function hm(r,e){let{gen:t,data:o,it:n}=r;t.if(La(t,o,e,n.opts.ownProperties),()=>{r.setParams({missingProperty:(0,re._)`${e}`},!0),r.error()})}Q.checkReportMissingProp=hm;function ym({gen:r,data:e,it:{opts:t}},o,n){return(0,re.or)(...o.map(a=>(0,re.and)(La(r,e,a,t.ownProperties),(0,re._)`${n} = ${a}`)))}Q.checkMissingProp=ym;function vm(r,e){r.setParams({missingProperty:e},!0),r.error()}Q.reportMissingProp=vm;function Eu(r){return r.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,re._)`Object.prototype.hasOwnProperty`})}Q.hasPropFunc=Eu;function Ua(r,e,t){return(0,re._)`${Eu(r)}.call(${e}, ${t})`}Q.isOwnProperty=Ua;function _m(r,e,t,o){let n=(0,re._)`${e}${(0,re.getProperty)(t)} !== undefined`;return o?(0,re._)`${n} && ${Ua(r,e,t)}`:n}Q.propertyInData=_m;function La(r,e,t,o){let n=(0,re._)`${e}${(0,re.getProperty)(t)} === undefined`;return o?(0,re.or)(n,(0,re.not)(Ua(r,e,t))):n}Q.noPropertyInData=La;function Su(r){return r?Object.keys(r).filter(e=>e!=="__proto__"):[]}Q.allSchemaProperties=Su;function gm(r,e){return Su(e).filter(t=>!(0,Ma.alwaysValidSchema)(r,e[t]))}Q.schemaProperties=gm;function xm({schemaCode:r,data:e,it:{gen:t,topSchemaRef:o,schemaPath:n,errorPath:a},it:i},u,l,d){let m=d?(0,re._)`${r}, ${e}, ${o}${n}`:e,v=[[Nr.default.instancePath,(0,re.strConcat)(Nr.default.instancePath,a)],[Nr.default.parentData,i.parentData],[Nr.default.parentDataProperty,i.parentDataProperty],[Nr.default.rootData,Nr.default.rootData]];i.opts.dynamicRef&&v.push([Nr.default.dynamicAnchors,Nr.default.dynamicAnchors]);let E=(0,re._)`${m}, ${t.object(...v)}`;return l!==re.nil?(0,re._)`${u}.call(${l}, ${E})`:(0,re._)`${u}(${E})`}Q.callValidateCode=xm;var wm=(0,re._)`new RegExp`;function $m({gen:r,it:{opts:e}},t){let o=e.unicodeRegExp?"u":"",{regExp:n}=e.code,a=n(t,o);return r.scopeValue("pattern",{key:a.toString(),ref:a,code:(0,re._)`${n.code==="new RegExp"?wm:(0,mm.useFunc)(r,n)}(${t}, ${o})`})}Q.usePattern=$m;function Em(r){let{gen:e,data:t,keyword:o,it:n}=r,a=e.name("valid");if(n.allErrors){let u=e.let("valid",!0);return i(()=>e.assign(u,!1)),u}return e.var(a,!0),i(()=>e.break()),a;function i(u){let l=e.const("len",(0,re._)`${t}.length`);e.forRange("i",0,l,d=>{r.subschema({keyword:o,dataProp:d,dataPropType:Ma.Type.Num},a),e.if((0,re.not)(a),u)})}}Q.validateArray=Em;function Sm(r){let{gen:e,schema:t,keyword:o,it:n}=r;if(!Array.isArray(t))throw new Error("ajv implementation error");if(t.some(l=>(0,Ma.alwaysValidSchema)(n,l))&&!n.opts.unevaluated)return;let i=e.let("valid",!1),u=e.name("_valid");e.block(()=>t.forEach((l,d)=>{let m=r.subschema({keyword:o,schemaProp:d,compositeRule:!0},u);e.assign(i,(0,re._)`${i} || ${u}`),r.mergeValidEvaluated(m,u)||e.if((0,re.not)(i))})),r.result(i,()=>r.reset(),()=>r.error(!0))}Q.validateUnion=Sm});var Au=R(cr=>{"use strict";Object.defineProperty(cr,"__esModule",{value:!0});cr.validateKeywordUsage=cr.validSchemaType=cr.funcKeywordCode=cr.macroKeywordCode=void 0;var Ne=U(),zr=Sr(),bm=ze(),Pm=ao();function Am(r,e){let{gen:t,keyword:o,schema:n,parentSchema:a,it:i}=r,u=e.macro.call(i.self,n,a,i),l=Pu(t,o,u);i.opts.validateSchema!==!1&&i.self.validateSchema(u,!0);let d=t.name("valid");r.subschema({schema:u,schemaPath:Ne.nil,errSchemaPath:`${i.errSchemaPath}/${o}`,topSchemaRef:l,compositeRule:!0},d),r.pass(d,()=>r.error(!0))}cr.macroKeywordCode=Am;function Rm(r,e){var t;let{gen:o,keyword:n,schema:a,parentSchema:i,$data:u,it:l}=r;Im(l,e);let d=!u&&e.compile?e.compile.call(l.self,a,i,l):e.validate,m=Pu(o,n,d),v=o.let("valid");r.block$data(v,E),r.ok((t=e.valid)!==null&&t!==void 0?t:v);function E(){if(e.errors===!1)w(),e.modifying&&bu(r),S(()=>r.error());else{let h=e.async?g():x();e.modifying&&bu(r),S(()=>Om(r,h))}}function g(){let h=o.let("ruleErrs",null);return o.try(()=>w((0,Ne._)`await `),$=>o.assign(v,!1).if((0,Ne._)`${$} instanceof ${l.ValidationError}`,()=>o.assign(h,(0,Ne._)`${$}.errors`),()=>o.throw($))),h}function x(){let h=(0,Ne._)`${m}.errors`;return o.assign(h,null),w(Ne.nil),h}function w(h=e.async?(0,Ne._)`await `:Ne.nil){let $=l.opts.passContext?zr.default.this:zr.default.self,P=!("compile"in e&&!u||e.schema===!1);o.assign(v,(0,Ne._)`${h}${(0,bm.callValidateCode)(r,m,$,P)}`,e.modifying)}function S(h){var $;o.if((0,Ne.not)(($=e.valid)!==null&&$!==void 0?$:v),h)}}cr.funcKeywordCode=Rm;function bu(r){let{gen:e,data:t,it:o}=r;e.if(o.parentData,()=>e.assign(t,(0,Ne._)`${o.parentData}[${o.parentDataProperty}]`))}function Om(r,e){let{gen:t}=r;t.if((0,Ne._)`Array.isArray(${e})`,()=>{t.assign(zr.default.vErrors,(0,Ne._)`${zr.default.vErrors} === null ? ${e} : ${zr.default.vErrors}.concat(${e})`).assign(zr.default.errors,(0,Ne._)`${zr.default.vErrors}.length`),(0,Pm.extendErrors)(r)},()=>r.error())}function Im({schemaEnv:r},e){if(e.async&&!r.$async)throw new Error("async keyword in sync schema")}function Pu(r,e,t){if(t===void 0)throw new Error(`keyword "${e}" failed to compile`);return r.scopeValue("keyword",typeof t=="function"?{ref:t}:{ref:t,code:(0,Ne.stringify)(t)})}function Nm(r,e,t=!1){return!e.length||e.some(o=>o==="array"?Array.isArray(r):o==="object"?r&&typeof r=="object"&&!Array.isArray(r):typeof r==o||t&&typeof r>"u")}cr.validSchemaType=Nm;function Tm({schema:r,opts:e,self:t,errSchemaPath:o},n,a){if(Array.isArray(n.keyword)?!n.keyword.includes(a):n.keyword!==a)throw new Error("ajv implementation error");let i=n.dependencies;if(i?.some(u=>!Object.prototype.hasOwnProperty.call(r,u)))throw new Error(`parent schema must have dependencies of ${a}: ${i.join(",")}`);if(n.validateSchema&&!n.validateSchema(r[a])){let l=`keyword "${a}" value is invalid at path "${o}": `+t.errorsText(n.validateSchema.errors);if(e.validateSchema==="log")t.logger.error(l);else throw new Error(l)}}cr.validateKeywordUsage=Tm});var Ou=R(Tr=>{"use strict";Object.defineProperty(Tr,"__esModule",{value:!0});Tr.extendSubschemaMode=Tr.extendSubschemaData=Tr.getSubschema=void 0;var lr=U(),Ru=V();function Cm(r,{keyword:e,schemaProp:t,schema:o,schemaPath:n,errSchemaPath:a,topSchemaRef:i}){if(e!==void 0&&o!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){let u=r.schema[e];return t===void 0?{schema:u,schemaPath:(0,lr._)`${r.schemaPath}${(0,lr.getProperty)(e)}`,errSchemaPath:`${r.errSchemaPath}/${e}`}:{schema:u[t],schemaPath:(0,lr._)`${r.schemaPath}${(0,lr.getProperty)(e)}${(0,lr.getProperty)(t)}`,errSchemaPath:`${r.errSchemaPath}/${e}/${(0,Ru.escapeFragment)(t)}`}}if(o!==void 0){if(n===void 0||a===void 0||i===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:o,schemaPath:n,topSchemaRef:i,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')}Tr.getSubschema=Cm;function km(r,e,{dataProp:t,dataPropType:o,data:n,dataTypes:a,propertyName:i}){if(n!==void 0&&t!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:u}=e;if(t!==void 0){let{errorPath:d,dataPathArr:m,opts:v}=e,E=u.let("data",(0,lr._)`${e.data}${(0,lr.getProperty)(t)}`,!0);l(E),r.errorPath=(0,lr.str)`${d}${(0,Ru.getErrorPath)(t,o,v.jsPropertySyntax)}`,r.parentDataProperty=(0,lr._)`${t}`,r.dataPathArr=[...m,r.parentDataProperty]}if(n!==void 0){let d=n instanceof lr.Name?n:u.let("data",n,!0);l(d),i!==void 0&&(r.propertyName=i)}a&&(r.dataTypes=a);function l(d){r.data=d,r.dataLevel=e.dataLevel+1,r.dataTypes=[],e.definedProperties=new Set,r.parentData=e.data,r.dataNames=[...e.dataNames,d]}}Tr.extendSubschemaData=km;function Dm(r,{jtdDiscriminator:e,jtdMetadata:t,compositeRule:o,createErrors:n,allErrors:a}){o!==void 0&&(r.compositeRule=o),n!==void 0&&(r.createErrors=n),a!==void 0&&(r.allErrors=a),r.jtdDiscriminator=e,r.jtdMetadata=t}Tr.extendSubschemaMode=Dm});var Fa=R((vK,Iu)=>{"use strict";Iu.exports=function r(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var o,n,a;if(Array.isArray(e)){if(o=e.length,o!=t.length)return!1;for(n=o;n--!==0;)if(!r(e[n],t[n]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(a=Object.keys(e),o=a.length,o!==Object.keys(t).length)return!1;for(n=o;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[n]))return!1;for(n=o;n--!==0;){var i=a[n];if(!r(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}});var Tu=R((_K,Nu)=>{"use strict";var Cr=Nu.exports=function(r,e,t){typeof e=="function"&&(t=e,e={}),t=e.cb||t;var o=typeof t=="function"?t:t.pre||function(){},n=t.post||function(){};un(e,o,n,r,"",r)};Cr.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Cr.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Cr.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Cr.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function un(r,e,t,o,n,a,i,u,l,d){if(o&&typeof o=="object"&&!Array.isArray(o)){e(o,n,a,i,u,l,d);for(var m in o){var v=o[m];if(Array.isArray(v)){if(m in Cr.arrayKeywords)for(var E=0;E<v.length;E++)un(r,e,t,v[E],n+"/"+m+"/"+E,a,n,m,o,E)}else if(m in Cr.propsKeywords){if(v&&typeof v=="object")for(var g in v)un(r,e,t,v[g],n+"/"+m+"/"+qm(g),a,n,m,o,g)}else(m in Cr.keywords||r.allKeys&&!(m in Cr.skipKeywords))&&un(r,e,t,v,n+"/"+m,a,n,m,o)}t(o,n,a,i,u,l,d)}}function qm(r){return r.replace(/~/g,"~0").replace(/\//g,"~1")}});var uo=R(Ce=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});Ce.getSchemaRefs=Ce.resolveUrl=Ce.normalizeId=Ce._getFullPath=Ce.getFullPath=Ce.inlineRef=void 0;var jm=V(),Mm=Fa(),Um=Tu(),Lm=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Fm(r,e=!0){return typeof r=="boolean"?!0:e===!0?!Ba(r):e?Cu(r)<=e:!1}Ce.inlineRef=Fm;var Bm=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Ba(r){for(let e in r){if(Bm.has(e))return!0;let t=r[e];if(Array.isArray(t)&&t.some(Ba)||typeof t=="object"&&Ba(t))return!0}return!1}function Cu(r){let e=0;for(let t in r){if(t==="$ref")return 1/0;if(e++,!Lm.has(t)&&(typeof r[t]=="object"&&(0,jm.eachItem)(r[t],o=>e+=Cu(o)),e===1/0))return 1/0}return e}function ku(r,e="",t){t!==!1&&(e=vt(e));let o=r.parse(e);return Du(r,o)}Ce.getFullPath=ku;function Du(r,e){return r.serialize(e).split("#")[0]+"#"}Ce._getFullPath=Du;var Wm=/#\/?$/;function vt(r){return r?r.replace(Wm,""):""}Ce.normalizeId=vt;function Km(r,e,t){return t=vt(t),r.resolve(e,t)}Ce.resolveUrl=Km;var Vm=/^[a-z_][-a-z0-9._]*$/i;function zm(r,e){if(typeof r=="boolean")return{};let{schemaId:t,uriResolver:o}=this.opts,n=vt(r[t]||e),a={"":n},i=ku(o,n,!1),u={},l=new Set;return Um(r,{allKeys:!0},(v,E,g,x)=>{if(x===void 0)return;let w=i+E,S=a[x];typeof v[t]=="string"&&(S=h.call(this,v[t])),$.call(this,v.$anchor),$.call(this,v.$dynamicAnchor),a[E]=S;function h(P){let I=this.opts.uriResolver.resolve;if(P=vt(S?I(S,P):P),l.has(P))throw m(P);l.add(P);let O=this.refs[P];return typeof O=="string"&&(O=this.refs[O]),typeof O=="object"?d(v,O.schema,P):P!==vt(w)&&(P[0]==="#"?(d(v,u[P],P),u[P]=v):this.refs[P]=w),P}function $(P){if(typeof P=="string"){if(!Vm.test(P))throw new Error(`invalid anchor "${P}"`);h.call(this,`#${P}`)}}}),u;function d(v,E,g){if(E!==void 0&&!Mm(v,E))throw m(g)}function m(v){return new Error(`reference "${v}" resolves to more than one schema`)}}Ce.getSchemaRefs=zm});var lo=R(kr=>{"use strict";Object.defineProperty(kr,"__esModule",{value:!0});kr.getData=kr.KeywordCxt=kr.validateFunctionCode=void 0;var Lu=hu(),qu=so(),Ka=ka(),fn=so(),Hm=$u(),co=Au(),Wa=Ou(),T=U(),C=Sr(),Gm=uo(),br=V(),fo=ao();function Xm(r){if(Wu(r)&&(Ku(r),Bu(r))){Qm(r);return}Fu(r,()=>(0,Lu.topBoolOrEmptySchema)(r))}kr.validateFunctionCode=Xm;function Fu({gen:r,validateName:e,schema:t,schemaEnv:o,opts:n},a){n.code.es5?r.func(e,(0,T._)`${C.default.data}, ${C.default.valCxt}`,o.$async,()=>{r.code((0,T._)`"use strict"; ${ju(t,n)}`),Ym(r,n),r.code(a)}):r.func(e,(0,T._)`${C.default.data}, ${Jm(n)}`,o.$async,()=>r.code(ju(t,n)).code(a))}function Jm(r){return(0,T._)`{${C.default.instancePath}="", ${C.default.parentData}, ${C.default.parentDataProperty}, ${C.default.rootData}=${C.default.data}${r.dynamicRef?(0,T._)`, ${C.default.dynamicAnchors}={}`:T.nil}}={}`}function Ym(r,e){r.if(C.default.valCxt,()=>{r.var(C.default.instancePath,(0,T._)`${C.default.valCxt}.${C.default.instancePath}`),r.var(C.default.parentData,(0,T._)`${C.default.valCxt}.${C.default.parentData}`),r.var(C.default.parentDataProperty,(0,T._)`${C.default.valCxt}.${C.default.parentDataProperty}`),r.var(C.default.rootData,(0,T._)`${C.default.valCxt}.${C.default.rootData}`),e.dynamicRef&&r.var(C.default.dynamicAnchors,(0,T._)`${C.default.valCxt}.${C.default.dynamicAnchors}`)},()=>{r.var(C.default.instancePath,(0,T._)`""`),r.var(C.default.parentData,(0,T._)`undefined`),r.var(C.default.parentDataProperty,(0,T._)`undefined`),r.var(C.default.rootData,C.default.data),e.dynamicRef&&r.var(C.default.dynamicAnchors,(0,T._)`{}`)})}function Qm(r){let{schema:e,opts:t,gen:o}=r;Fu(r,()=>{t.$comment&&e.$comment&&zu(r),oh(r),o.let(C.default.vErrors,null),o.let(C.default.errors,0),t.unevaluated&&Zm(r),Vu(r),ih(r)})}function Zm(r){let{gen:e,validateName:t}=r;r.evaluated=e.const("evaluated",(0,T._)`${t}.evaluated`),e.if((0,T._)`${r.evaluated}.dynamicProps`,()=>e.assign((0,T._)`${r.evaluated}.props`,(0,T._)`undefined`)),e.if((0,T._)`${r.evaluated}.dynamicItems`,()=>e.assign((0,T._)`${r.evaluated}.items`,(0,T._)`undefined`))}function ju(r,e){let t=typeof r=="object"&&r[e.schemaId];return t&&(e.code.source||e.code.process)?(0,T._)`/*# sourceURL=${t} */`:T.nil}function eh(r,e){if(Wu(r)&&(Ku(r),Bu(r))){rh(r,e);return}(0,Lu.boolOrEmptySchema)(r,e)}function Bu({schema:r,self:e}){if(typeof r=="boolean")return!r;for(let t in r)if(e.RULES.all[t])return!0;return!1}function Wu(r){return typeof r.schema!="boolean"}function rh(r,e){let{schema:t,gen:o,opts:n}=r;n.$comment&&t.$comment&&zu(r),nh(r),ah(r);let a=o.const("_errs",C.default.errors);Vu(r,a),o.var(e,(0,T._)`${a} === ${C.default.errors}`)}function Ku(r){(0,br.checkUnknownRules)(r),th(r)}function Vu(r,e){if(r.opts.jtd)return Mu(r,[],!1,e);let t=(0,qu.getSchemaTypes)(r.schema),o=(0,qu.coerceAndCheckDataType)(r,t);Mu(r,t,!o,e)}function th(r){let{schema:e,errSchemaPath:t,opts:o,self:n}=r;e.$ref&&o.ignoreKeywordsWithRef&&(0,br.schemaHasRulesButRef)(e,n.RULES)&&n.logger.warn(`$ref: keywords ignored in schema at path "${t}"`)}function oh(r){let{schema:e,opts:t}=r;e.default!==void 0&&t.useDefaults&&t.strictSchema&&(0,br.checkStrictMode)(r,"default is ignored in the schema root")}function nh(r){let e=r.schema[r.opts.schemaId];e&&(r.baseId=(0,Gm.resolveUrl)(r.opts.uriResolver,r.baseId,e))}function ah(r){if(r.schema.$async&&!r.schemaEnv.$async)throw new Error("async schema in sync schema")}function zu({gen:r,schemaEnv:e,schema:t,errSchemaPath:o,opts:n}){let a=t.$comment;if(n.$comment===!0)r.code((0,T._)`${C.default.self}.logger.log(${a})`);else if(typeof n.$comment=="function"){let i=(0,T.str)`${o}/$comment`,u=r.scopeValue("root",{ref:e.root});r.code((0,T._)`${C.default.self}.opts.$comment(${a}, ${i}, ${u}.schema)`)}}function ih(r){let{gen:e,schemaEnv:t,validateName:o,ValidationError:n,opts:a}=r;t.$async?e.if((0,T._)`${C.default.errors} === 0`,()=>e.return(C.default.data),()=>e.throw((0,T._)`new ${n}(${C.default.vErrors})`)):(e.assign((0,T._)`${o}.errors`,C.default.vErrors),a.unevaluated&&sh(r),e.return((0,T._)`${C.default.errors} === 0`))}function sh({gen:r,evaluated:e,props:t,items:o}){t instanceof T.Name&&r.assign((0,T._)`${e}.props`,t),o instanceof T.Name&&r.assign((0,T._)`${e}.items`,o)}function Mu(r,e,t,o){let{gen:n,schema:a,data:i,allErrors:u,opts:l,self:d}=r,{RULES:m}=d;if(a.$ref&&(l.ignoreKeywordsWithRef||!(0,br.schemaHasRulesButRef)(a,m))){n.block(()=>Gu(r,"$ref",m.all.$ref.definition));return}l.jtd||uh(r,e),n.block(()=>{for(let E of m.rules)v(E);v(m.post)});function v(E){(0,Ka.shouldUseGroup)(a,E)&&(E.type?(n.if((0,fn.checkDataType)(E.type,i,l.strictNumbers)),Uu(r,E),e.length===1&&e[0]===E.type&&t&&(n.else(),(0,fn.reportTypeError)(r)),n.endIf()):Uu(r,E),u||n.if((0,T._)`${C.default.errors} === ${o||0}`))}}function Uu(r,e){let{gen:t,schema:o,opts:{useDefaults:n}}=r;n&&(0,Hm.assignDefaults)(r,e.type),t.block(()=>{for(let a of e.rules)(0,Ka.shouldUseRule)(o,a)&&Gu(r,a.keyword,a.definition,e.type)})}function uh(r,e){r.schemaEnv.meta||!r.opts.strictTypes||(fh(r,e),r.opts.allowUnionTypes||ch(r,e),lh(r,r.dataTypes))}function fh(r,e){if(e.length){if(!r.dataTypes.length){r.dataTypes=e;return}e.forEach(t=>{Hu(r.dataTypes,t)||Va(r,`type "${t}" not allowed by context "${r.dataTypes.join(",")}"`)}),dh(r,e)}}function ch(r,e){e.length>1&&!(e.length===2&&e.includes("null"))&&Va(r,"use allowUnionTypes to allow union type keyword")}function lh(r,e){let t=r.self.RULES.all;for(let o in t){let n=t[o];if(typeof n=="object"&&(0,Ka.shouldUseRule)(r.schema,n)){let{type:a}=n.definition;a.length&&!a.some(i=>ph(e,i))&&Va(r,`missing type "${a.join(",")}" for keyword "${o}"`)}}}function ph(r,e){return r.includes(e)||e==="number"&&r.includes("integer")}function Hu(r,e){return r.includes(e)||e==="integer"&&r.includes("number")}function dh(r,e){let t=[];for(let o of r.dataTypes)Hu(e,o)?t.push(o):e.includes("integer")&&o==="number"&&t.push("integer");r.dataTypes=t}function Va(r,e){let t=r.schemaEnv.baseId+r.errSchemaPath;e+=` at "${t}" (strictTypes)`,(0,br.checkStrictMode)(r,e,r.opts.strictTypes)}var cn=class{constructor(e,t,o){if((0,co.validateKeywordUsage)(e,t,o),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=o,this.data=e.data,this.schema=e.schema[o],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,br.schemaRefOrVal)(e,this.schema,o,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const("vSchema",Xu(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,co.validSchemaType)(this.schema,t.schemaType,t.allowUndefined))throw new Error(`${o} value must be ${JSON.stringify(t.schemaType)}`);("code"in t?t.trackErrors:t.errors!==!1)&&(this.errsCount=e.gen.const("_errs",C.default.errors))}result(e,t,o){this.failResult((0,T.not)(e),t,o)}failResult(e,t,o){this.gen.if(e),o?o():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.failResult((0,T.not)(e),void 0,t)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);let{schemaCode:t}=this;this.fail((0,T._)`${t} !== undefined && (${(0,T.or)(this.invalid$data(),e)})`)}error(e,t,o){if(t){this.setParams(t),this._error(e,o),this.setParams({});return}this._error(e,o)}_error(e,t){(e?fo.reportExtraError:fo.reportError)(this,this.def.error,t)}$dataError(){(0,fo.reportError)(this,this.def.$dataError||fo.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,fo.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t,o=T.nil){this.gen.block(()=>{this.check$data(e,o),t()})}check$data(e=T.nil,t=T.nil){if(!this.$data)return;let{gen:o,schemaCode:n,schemaType:a,def:i}=this;o.if((0,T.or)((0,T._)`${n} === undefined`,t)),e!==T.nil&&o.assign(e,!0),(a.length||i.validateSchema)&&(o.elseIf(this.invalid$data()),this.$dataError(),e!==T.nil&&o.assign(e,!1)),o.else()}invalid$data(){let{gen:e,schemaCode:t,schemaType:o,def:n,it:a}=this;return(0,T.or)(i(),u());function i(){if(o.length){if(!(t instanceof T.Name))throw new Error("ajv implementation error");let l=Array.isArray(o)?o:[o];return(0,T._)`${(0,fn.checkDataTypes)(l,t,a.opts.strictNumbers,fn.DataType.Wrong)}`}return T.nil}function u(){if(n.validateSchema){let l=e.scopeValue("validate$data",{ref:n.validateSchema});return(0,T._)`!${l}(${t})`}return T.nil}}subschema(e,t){let o=(0,Wa.getSubschema)(this.it,e);(0,Wa.extendSubschemaData)(o,this.it,e),(0,Wa.extendSubschemaMode)(o,e);let n={...this.it,...o,items:void 0,props:void 0};return eh(n,t),n}mergeEvaluated(e,t){let{it:o,gen:n}=this;o.opts.unevaluated&&(o.props!==!0&&e.props!==void 0&&(o.props=br.mergeEvaluated.props(n,e.props,o.props,t)),o.items!==!0&&e.items!==void 0&&(o.items=br.mergeEvaluated.items(n,e.items,o.items,t)))}mergeValidEvaluated(e,t){let{it:o,gen:n}=this;if(o.opts.unevaluated&&(o.props!==!0||o.items!==!0))return n.if(t,()=>this.mergeEvaluated(e,T.Name)),!0}};kr.KeywordCxt=cn;function Gu(r,e,t,o){let n=new cn(r,t,e);"code"in t?t.code(n,o):n.$data&&t.validate?(0,co.funcKeywordCode)(n,t):"macro"in t?(0,co.macroKeywordCode)(n,t):(t.compile||t.validate)&&(0,co.funcKeywordCode)(n,t)}var mh=/^\/(?:[^~]|~0|~1)*$/,hh=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Xu(r,{dataLevel:e,dataNames:t,dataPathArr:o}){let n,a;if(r==="")return C.default.rootData;if(r[0]==="/"){if(!mh.test(r))throw new Error(`Invalid JSON-pointer: ${r}`);n=r,a=C.default.rootData}else{let d=hh.exec(r);if(!d)throw new Error(`Invalid JSON-pointer: ${r}`);let m=+d[1];if(n=d[2],n==="#"){if(m>=e)throw new Error(l("property/index",m));return o[e-m]}if(m>e)throw new Error(l("data",m));if(a=t[e-m],!n)return a}let i=a,u=n.split("/");for(let d of u)d&&(a=(0,T._)`${a}${(0,T.getProperty)((0,br.unescapeJsonPointer)(d))}`,i=(0,T._)`${i} && ${a}`);return i;function l(d,m){return`Cannot access ${d} ${m} levels up, current level is ${e}`}}kr.getData=Xu});var ln=R(Ha=>{"use strict";Object.defineProperty(Ha,"__esModule",{value:!0});var za=class extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}};Ha.default=za});var pn=R(Ja=>{"use strict";Object.defineProperty(Ja,"__esModule",{value:!0});var Ga=uo(),Xa=class extends Error{constructor(e,t,o,n){super(n||`can't resolve reference ${o} from id ${t}`),this.missingRef=(0,Ga.resolveUrl)(e,t,o),this.missingSchema=(0,Ga.normalizeId)((0,Ga.getFullPath)(e,this.missingRef))}};Ja.default=Xa});var mn=R(He=>{"use strict";Object.defineProperty(He,"__esModule",{value:!0});He.resolveSchema=He.getCompilingSchema=He.resolveRef=He.compileSchema=He.SchemaEnv=void 0;var Qe=U(),yh=ln(),Hr=Sr(),Ze=uo(),Ju=V(),vh=lo(),_t=class{constructor(e){var t;this.refs={},this.dynamicAnchors={};let o;typeof e.schema=="object"&&(o=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(t=e.baseId)!==null&&t!==void 0?t:(0,Ze.normalizeId)(o?.[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=o?.$async,this.refs={}}};He.SchemaEnv=_t;function Qa(r){let e=Yu.call(this,r);if(e)return e;let t=(0,Ze.getFullPath)(this.opts.uriResolver,r.root.baseId),{es5:o,lines:n}=this.opts.code,{ownProperties:a}=this.opts,i=new Qe.CodeGen(this.scope,{es5:o,lines:n,ownProperties:a}),u;r.$async&&(u=i.scopeValue("Error",{ref:yh.default,code:(0,Qe._)`require("ajv/dist/runtime/validation_error").default`}));let l=i.scopeName("validate");r.validateName=l;let d={gen:i,allErrors:this.opts.allErrors,data:Hr.default.data,parentData:Hr.default.parentData,parentDataProperty:Hr.default.parentDataProperty,dataNames:[Hr.default.data],dataPathArr:[Qe.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:i.scopeValue("schema",this.opts.code.source===!0?{ref:r.schema,code:(0,Qe.stringify)(r.schema)}:{ref:r.schema}),validateName:l,ValidationError:u,schema:r.schema,schemaEnv:r,rootId:t,baseId:r.baseId||t,schemaPath:Qe.nil,errSchemaPath:r.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Qe._)`""`,opts:this.opts,self:this},m;try{this._compilations.add(r),(0,vh.validateFunctionCode)(d),i.optimize(this.opts.code.optimize);let v=i.toString();m=`${i.scopeRefs(Hr.default.scope)}return ${v}`,this.opts.code.process&&(m=this.opts.code.process(m,r));let g=new Function(`${Hr.default.self}`,`${Hr.default.scope}`,m)(this,this.scope.get());if(this.scope.value(l,{ref:g}),g.errors=null,g.schema=r.schema,g.schemaEnv=r,r.$async&&(g.$async=!0),this.opts.code.source===!0&&(g.source={validateName:l,validateCode:v,scopeValues:i._values}),this.opts.unevaluated){let{props:x,items:w}=d;g.evaluated={props:x instanceof Qe.Name?void 0:x,items:w instanceof Qe.Name?void 0:w,dynamicProps:x instanceof Qe.Name,dynamicItems:w instanceof Qe.Name},g.source&&(g.source.evaluated=(0,Qe.stringify)(g.evaluated))}return r.validate=g,r}catch(v){throw delete r.validate,delete r.validateName,m&&this.logger.error("Error compiling schema, function code:",m),v}finally{this._compilations.delete(r)}}He.compileSchema=Qa;function _h(r,e,t){var o;t=(0,Ze.resolveUrl)(this.opts.uriResolver,e,t);let n=r.refs[t];if(n)return n;let a=wh.call(this,r,t);if(a===void 0){let i=(o=r.localRefs)===null||o===void 0?void 0:o[t],{schemaId:u}=this.opts;i&&(a=new _t({schema:i,schemaId:u,root:r,baseId:e}))}if(a!==void 0)return r.refs[t]=gh.call(this,a)}He.resolveRef=_h;function gh(r){return(0,Ze.inlineRef)(r.schema,this.opts.inlineRefs)?r.schema:r.validate?r:Qa.call(this,r)}function Yu(r){for(let e of this._compilations)if(xh(e,r))return e}He.getCompilingSchema=Yu;function xh(r,e){return r.schema===e.schema&&r.root===e.root&&r.baseId===e.baseId}function wh(r,e){let t;for(;typeof(t=this.refs[e])=="string";)e=t;return t||this.schemas[e]||dn.call(this,r,e)}function dn(r,e){let t=this.opts.uriResolver.parse(e),o=(0,Ze._getFullPath)(this.opts.uriResolver,t),n=(0,Ze.getFullPath)(this.opts.uriResolver,r.baseId,void 0);if(Object.keys(r.schema).length>0&&o===n)return Ya.call(this,t,r);let a=(0,Ze.normalizeId)(o),i=this.refs[a]||this.schemas[a];if(typeof i=="string"){let u=dn.call(this,r,i);return typeof u?.schema!="object"?void 0:Ya.call(this,t,u)}if(typeof i?.schema=="object"){if(i.validate||Qa.call(this,i),a===(0,Ze.normalizeId)(e)){let{schema:u}=i,{schemaId:l}=this.opts,d=u[l];return d&&(n=(0,Ze.resolveUrl)(this.opts.uriResolver,n,d)),new _t({schema:u,schemaId:l,root:r,baseId:n})}return Ya.call(this,t,i)}}He.resolveSchema=dn;var $h=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Ya(r,{baseId:e,schema:t,root:o}){var n;if(((n=r.fragment)===null||n===void 0?void 0:n[0])!=="/")return;for(let u of r.fragment.slice(1).split("/")){if(typeof t=="boolean")return;let l=t[(0,Ju.unescapeFragment)(u)];if(l===void 0)return;t=l;let d=typeof t=="object"&&t[this.opts.schemaId];!$h.has(u)&&d&&(e=(0,Ze.resolveUrl)(this.opts.uriResolver,e,d))}let a;if(typeof t!="boolean"&&t.$ref&&!(0,Ju.schemaHasRulesButRef)(t,this.RULES)){let u=(0,Ze.resolveUrl)(this.opts.uriResolver,e,t.$ref);a=dn.call(this,o,u)}let{schemaId:i}=this.opts;if(a=a||new _t({schema:t,schemaId:i,root:o,baseId:e}),a.schema!==a.root.schema)return a}});var Qu=R((SK,Eh)=>{Eh.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var ef=R((hn,Zu)=>{(function(r,e){typeof hn=="object"&&typeof Zu<"u"?e(hn):typeof define=="function"&&define.amd?define(["exports"],e):e(r.URI=r.URI||{})})(hn,function(r){"use strict";function e(){for(var f=arguments.length,s=Array(f),c=0;c<f;c++)s[c]=arguments[c];if(s.length>1){s[0]=s[0].slice(0,-1);for(var y=s.length-1,_=1;_<y;++_)s[_]=s[_].slice(1,-1);return s[y]=s[y].slice(1),s.join("")}else return s[0]}function t(f){return"(?:"+f+")"}function o(f){return f===void 0?"undefined":f===null?"null":Object.prototype.toString.call(f).split(" ").pop().split("]").shift().toLowerCase()}function n(f){return f.toUpperCase()}function a(f){return f!=null?f instanceof Array?f:typeof f.length!="number"||f.split||f.setInterval||f.call?[f]:Array.prototype.slice.call(f):[]}function i(f,s){var c=f;if(s)for(var y in s)c[y]=s[y];return c}function u(f){var s="[A-Za-z]",c="[\\x0D]",y="[0-9]",_="[\\x22]",A=e(y,"[A-Fa-f]"),D="[\\x0A]",W="[\\x20]",H=t(t("%[EFef]"+A+"%"+A+A+"%"+A+A)+"|"+t("%[89A-Fa-f]"+A+"%"+A+A)+"|"+t("%"+A+A)),fe="[\\:\\/\\?\\#\\[\\]\\@]",F="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",ne=e(fe,F),ce=f?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",te=f?"[\\uE000-\\uF8FF]":"[]",z=e(s,y,"[\\-\\.\\_\\~]",ce),ae=t(s+e(s,y,"[\\+\\-\\.]")+"*"),J=t(t(H+"|"+e(z,F,"[\\:]"))+"*"),qr=t(t("25[0-5]")+"|"+t("2[0-4]"+y)+"|"+t("1"+y+y)+"|"+t("[1-9]"+y)+"|"+y),qe=t(t("25[0-5]")+"|"+t("2[0-4]"+y)+"|"+t("1"+y+y)+"|"+t("0?[1-9]"+y)+"|0?0?"+y),Be=t(qe+"\\."+qe+"\\."+qe+"\\."+qe),Z=t(A+"{1,4}"),je=t(t(Z+"\\:"+Z)+"|"+Be),We=t(t(Z+"\\:")+"{6}"+je),nr=t("\\:\\:"+t(Z+"\\:")+"{5}"+je),jr=t(t(Z)+"?\\:\\:"+t(Z+"\\:")+"{4}"+je),hr=t(t(t(Z+"\\:")+"{0,1}"+Z)+"?\\:\\:"+t(Z+"\\:")+"{3}"+je),At=t(t(t(Z+"\\:")+"{0,2}"+Z)+"?\\:\\:"+t(Z+"\\:")+"{2}"+je),Po=t(t(t(Z+"\\:")+"{0,3}"+Z)+"?\\:\\:"+Z+"\\:"+je),Ao=t(t(t(Z+"\\:")+"{0,4}"+Z)+"?\\:\\:"+je),ot=t(t(t(Z+"\\:")+"{0,5}"+Z)+"?\\:\\:"+Z),nt=t(t(t(Z+"\\:")+"{0,6}"+Z)+"?\\:\\:"),yr=t([We,nr,jr,hr,At,Po,Ao,ot,nt].join("|")),at=t(t(z+"|"+H)+"+"),Mn=t(yr+"\\%25"+at),Mr=t(yr+t("\\%25|\\%(?!"+A+"{2})")+at),zc=t("[vV]"+A+"+\\."+e(z,F,"[\\:]")+"+"),Hc=t("\\["+t(Mr+"|"+yr+"|"+zc)+"\\]"),ss=t(t(H+"|"+e(z,F))+"*"),Rt=t(Hc+"|"+Be+"(?!"+ss+")|"+ss),Ot=t(y+"*"),us=t(t(J+"@")+"?"+Rt+t("\\:"+Ot)+"?"),It=t(H+"|"+e(z,F,"[\\:\\@]")),Gc=t(It+"*"),fs=t(It+"+"),Xc=t(t(H+"|"+e(z,F,"[\\@]"))+"+"),vr=t(t("\\/"+Gc)+"*"),it=t("\\/"+t(fs+vr)+"?"),Un=t(Xc+vr),Ro=t(fs+vr),st="(?!"+It+")",s_=t(vr+"|"+it+"|"+Un+"|"+Ro+"|"+st),ut=t(t(It+"|"+e("[\\/\\?]",te))+"*"),Nt=t(t(It+"|[\\/\\?]")+"*"),cs=t(t("\\/\\/"+us+vr)+"|"+it+"|"+Ro+"|"+st),Jc=t(ae+"\\:"+cs+t("\\?"+ut)+"?"+t("\\#"+Nt)+"?"),Yc=t(t("\\/\\/"+us+vr)+"|"+it+"|"+Un+"|"+st),Qc=t(Yc+t("\\?"+ut)+"?"+t("\\#"+Nt)+"?"),u_=t(Jc+"|"+Qc),f_=t(ae+"\\:"+cs+t("\\?"+ut)+"?"),c_="^("+ae+")\\:"+t(t("\\/\\/("+t("("+J+")@")+"?("+Rt+")"+t("\\:("+Ot+")")+"?)")+"?("+vr+"|"+it+"|"+Ro+"|"+st+")")+t("\\?("+ut+")")+"?"+t("\\#("+Nt+")")+"?$",l_="^(){0}"+t(t("\\/\\/("+t("("+J+")@")+"?("+Rt+")"+t("\\:("+Ot+")")+"?)")+"?("+vr+"|"+it+"|"+Un+"|"+st+")")+t("\\?("+ut+")")+"?"+t("\\#("+Nt+")")+"?$",p_="^("+ae+")\\:"+t(t("\\/\\/("+t("("+J+")@")+"?("+Rt+")"+t("\\:("+Ot+")")+"?)")+"?("+vr+"|"+it+"|"+Ro+"|"+st+")")+t("\\?("+ut+")")+"?$",d_="^"+t("\\#("+Nt+")")+"?$",m_="^"+t("("+J+")@")+"?("+Rt+")"+t("\\:("+Ot+")")+"?$";return{NOT_SCHEME:new RegExp(e("[^]",s,y,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(e("[^\\%\\:]",z,F),"g"),NOT_HOST:new RegExp(e("[^\\%\\[\\]\\:]",z,F),"g"),NOT_PATH:new RegExp(e("[^\\%\\/\\:\\@]",z,F),"g"),NOT_PATH_NOSCHEME:new RegExp(e("[^\\%\\/\\@]",z,F),"g"),NOT_QUERY:new RegExp(e("[^\\%]",z,F,"[\\:\\@\\/\\?]",te),"g"),NOT_FRAGMENT:new RegExp(e("[^\\%]",z,F,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(e("[^]",z,F),"g"),UNRESERVED:new RegExp(z,"g"),OTHER_CHARS:new RegExp(e("[^\\%]",z,ne),"g"),PCT_ENCODED:new RegExp(H,"g"),IPV4ADDRESS:new RegExp("^("+Be+")$"),IPV6ADDRESS:new RegExp("^\\[?("+yr+")"+t(t("\\%25|\\%(?!"+A+"{2})")+"("+at+")")+"?\\]?$")}}var l=u(!1),d=u(!0),m=function(){function f(s,c){var y=[],_=!0,A=!1,D=void 0;try{for(var W=s[Symbol.iterator](),H;!(_=(H=W.next()).done)&&(y.push(H.value),!(c&&y.length===c));_=!0);}catch(fe){A=!0,D=fe}finally{try{!_&&W.return&&W.return()}finally{if(A)throw D}}return y}return function(s,c){if(Array.isArray(s))return s;if(Symbol.iterator in Object(s))return f(s,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),v=function(f){if(Array.isArray(f)){for(var s=0,c=Array(f.length);s<f.length;s++)c[s]=f[s];return c}else return Array.from(f)},E=2147483647,g=36,x=1,w=26,S=38,h=700,$=72,P=128,I="-",O=/^xn--/,k=/[^\0-\x7E]/,he=/[\x2E\u3002\uFF0E\uFF61]/g,ye={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ve=g-x,se=Math.floor,De=String.fromCharCode;function Le(f){throw new RangeError(ye[f])}function Yr(f,s){for(var c=[],y=f.length;y--;)c[y]=s(f[y]);return c}function Qr(f,s){var c=f.split("@"),y="";c.length>1&&(y=c[0]+"@",f=c[1]),f=f.replace(he,".");var _=f.split("."),A=Yr(_,s).join(".");return y+A}function St(f){for(var s=[],c=0,y=f.length;c<y;){var _=f.charCodeAt(c++);if(_>=55296&&_<=56319&&c<y){var A=f.charCodeAt(c++);(A&64512)==56320?s.push(((_&1023)<<10)+(A&1023)+65536):(s.push(_),c--)}else s.push(_)}return s}var Cn=function(s){return String.fromCodePoint.apply(String,v(s))},Ec=function(s){return s-48<10?s-22:s-65<26?s-65:s-97<26?s-97:g},Ki=function(s,c){return s+22+75*(s<26)-((c!=0)<<5)},Vi=function(s,c,y){var _=0;for(s=y?se(s/h):s>>1,s+=se(s/c);s>ve*w>>1;_+=g)s=se(s/ve);return se(_+(ve+1)*s/(s+S))},zi=function(s){var c=[],y=s.length,_=0,A=P,D=$,W=s.lastIndexOf(I);W<0&&(W=0);for(var H=0;H<W;++H)s.charCodeAt(H)>=128&&Le("not-basic"),c.push(s.charCodeAt(H));for(var fe=W>0?W+1:0;fe<y;){for(var F=_,ne=1,ce=g;;ce+=g){fe>=y&&Le("invalid-input");var te=Ec(s.charCodeAt(fe++));(te>=g||te>se((E-_)/ne))&&Le("overflow"),_+=te*ne;var z=ce<=D?x:ce>=D+w?w:ce-D;if(te<z)break;var ae=g-z;ne>se(E/ae)&&Le("overflow"),ne*=ae}var J=c.length+1;D=Vi(_-F,J,F==0),se(_/J)>E-A&&Le("overflow"),A+=se(_/J),_%=J,c.splice(_++,0,A)}return String.fromCodePoint.apply(String,c)},Hi=function(s){var c=[];s=St(s);var y=s.length,_=P,A=0,D=$,W=!0,H=!1,fe=void 0;try{for(var F=s[Symbol.iterator](),ne;!(W=(ne=F.next()).done);W=!0){var ce=ne.value;ce<128&&c.push(De(ce))}}catch(Mr){H=!0,fe=Mr}finally{try{!W&&F.return&&F.return()}finally{if(H)throw fe}}var te=c.length,z=te;for(te&&c.push(I);z<y;){var ae=E,J=!0,qr=!1,qe=void 0;try{for(var Be=s[Symbol.iterator](),Z;!(J=(Z=Be.next()).done);J=!0){var je=Z.value;je>=_&&je<ae&&(ae=je)}}catch(Mr){qr=!0,qe=Mr}finally{try{!J&&Be.return&&Be.return()}finally{if(qr)throw qe}}var We=z+1;ae-_>se((E-A)/We)&&Le("overflow"),A+=(ae-_)*We,_=ae;var nr=!0,jr=!1,hr=void 0;try{for(var At=s[Symbol.iterator](),Po;!(nr=(Po=At.next()).done);nr=!0){var Ao=Po.value;if(Ao<_&&++A>E&&Le("overflow"),Ao==_){for(var ot=A,nt=g;;nt+=g){var yr=nt<=D?x:nt>=D+w?w:nt-D;if(ot<yr)break;var at=ot-yr,Mn=g-yr;c.push(De(Ki(yr+at%Mn,0))),ot=se(at/Mn)}c.push(De(Ki(ot,0))),D=Vi(A,We,z==te),A=0,++z}}}catch(Mr){jr=!0,hr=Mr}finally{try{!nr&&At.return&&At.return()}finally{if(jr)throw hr}}++A,++_}return c.join("")},Sc=function(s){return Qr(s,function(c){return O.test(c)?zi(c.slice(4).toLowerCase()):c})},bc=function(s){return Qr(s,function(c){return k.test(c)?"xn--"+Hi(c):c})},Zr={version:"2.1.0",ucs2:{decode:St,encode:Cn},decode:zi,encode:Hi,toASCII:bc,toUnicode:Sc},Fe={};function rr(f){var s=f.charCodeAt(0),c=void 0;return s<16?c="%0"+s.toString(16).toUpperCase():s<128?c="%"+s.toString(16).toUpperCase():s<2048?c="%"+(s>>6|192).toString(16).toUpperCase()+"%"+(s&63|128).toString(16).toUpperCase():c="%"+(s>>12|224).toString(16).toUpperCase()+"%"+(s>>6&63|128).toString(16).toUpperCase()+"%"+(s&63|128).toString(16).toUpperCase(),c}function et(f){for(var s="",c=0,y=f.length;c<y;){var _=parseInt(f.substr(c+1,2),16);if(_<128)s+=String.fromCharCode(_),c+=3;else if(_>=194&&_<224){if(y-c>=6){var A=parseInt(f.substr(c+4,2),16);s+=String.fromCharCode((_&31)<<6|A&63)}else s+=f.substr(c,6);c+=6}else if(_>=224){if(y-c>=9){var D=parseInt(f.substr(c+4,2),16),W=parseInt(f.substr(c+7,2),16);s+=String.fromCharCode((_&15)<<12|(D&63)<<6|W&63)}else s+=f.substr(c,9);c+=9}else s+=f.substr(c,3),c+=3}return s}function kn(f,s){function c(y){var _=et(y);return _.match(s.UNRESERVED)?_:y}return f.scheme&&(f.scheme=String(f.scheme).replace(s.PCT_ENCODED,c).toLowerCase().replace(s.NOT_SCHEME,"")),f.userinfo!==void 0&&(f.userinfo=String(f.userinfo).replace(s.PCT_ENCODED,c).replace(s.NOT_USERINFO,rr).replace(s.PCT_ENCODED,n)),f.host!==void 0&&(f.host=String(f.host).replace(s.PCT_ENCODED,c).toLowerCase().replace(s.NOT_HOST,rr).replace(s.PCT_ENCODED,n)),f.path!==void 0&&(f.path=String(f.path).replace(s.PCT_ENCODED,c).replace(f.scheme?s.NOT_PATH:s.NOT_PATH_NOSCHEME,rr).replace(s.PCT_ENCODED,n)),f.query!==void 0&&(f.query=String(f.query).replace(s.PCT_ENCODED,c).replace(s.NOT_QUERY,rr).replace(s.PCT_ENCODED,n)),f.fragment!==void 0&&(f.fragment=String(f.fragment).replace(s.PCT_ENCODED,c).replace(s.NOT_FRAGMENT,rr).replace(s.PCT_ENCODED,n)),f}function Dn(f){return f.replace(/^0*(.*)/,"$1")||"0"}function qn(f,s){var c=f.match(s.IPV4ADDRESS)||[],y=m(c,2),_=y[1];return _?_.split(".").map(Dn).join("."):f}function Gi(f,s){var c=f.match(s.IPV6ADDRESS)||[],y=m(c,3),_=y[1],A=y[2];if(_){for(var D=_.toLowerCase().split("::").reverse(),W=m(D,2),H=W[0],fe=W[1],F=fe?fe.split(":").map(Dn):[],ne=H.split(":").map(Dn),ce=s.IPV4ADDRESS.test(ne[ne.length-1]),te=ce?7:8,z=ne.length-te,ae=Array(te),J=0;J<te;++J)ae[J]=F[J]||ne[z+J]||"";ce&&(ae[te-1]=qn(ae[te-1],s));var qr=ae.reduce(function(We,nr,jr){if(!nr||nr==="0"){var hr=We[We.length-1];hr&&hr.index+hr.length===jr?hr.length++:We.push({index:jr,length:1})}return We},[]),qe=qr.sort(function(We,nr){return nr.length-We.length})[0],Be=void 0;if(qe&&qe.length>1){var Z=ae.slice(0,qe.index),je=ae.slice(qe.index+qe.length);Be=Z.join(":")+"::"+je.join(":")}else Be=ae.join(":");return A&&(Be+="%"+A),Be}else return f}var Pc=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Ac="".match(/(){0}/)[1]===void 0;function dr(f){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c={},y=s.iri!==!1?d:l;s.reference==="suffix"&&(f=(s.scheme?s.scheme+":":"")+"//"+f);var _=f.match(Pc);if(_){Ac?(c.scheme=_[1],c.userinfo=_[3],c.host=_[4],c.port=parseInt(_[5],10),c.path=_[6]||"",c.query=_[7],c.fragment=_[8],isNaN(c.port)&&(c.port=_[5])):(c.scheme=_[1]||void 0,c.userinfo=f.indexOf("@")!==-1?_[3]:void 0,c.host=f.indexOf("//")!==-1?_[4]:void 0,c.port=parseInt(_[5],10),c.path=_[6]||"",c.query=f.indexOf("?")!==-1?_[7]:void 0,c.fragment=f.indexOf("#")!==-1?_[8]:void 0,isNaN(c.port)&&(c.port=f.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?_[4]:void 0)),c.host&&(c.host=Gi(qn(c.host,y),y)),c.scheme===void 0&&c.userinfo===void 0&&c.host===void 0&&c.port===void 0&&!c.path&&c.query===void 0?c.reference="same-document":c.scheme===void 0?c.reference="relative":c.fragment===void 0?c.reference="absolute":c.reference="uri",s.reference&&s.reference!=="suffix"&&s.reference!==c.reference&&(c.error=c.error||"URI is not a "+s.reference+" reference.");var A=Fe[(s.scheme||c.scheme||"").toLowerCase()];if(!s.unicodeSupport&&(!A||!A.unicodeSupport)){if(c.host&&(s.domainHost||A&&A.domainHost))try{c.host=Zr.toASCII(c.host.replace(y.PCT_ENCODED,et).toLowerCase())}catch(D){c.error=c.error||"Host's domain name can not be converted to ASCII via punycode: "+D}kn(c,l)}else kn(c,y);A&&A.parse&&A.parse(c,s)}else c.error=c.error||"URI can not be parsed.";return c}function Rc(f,s){var c=s.iri!==!1?d:l,y=[];return f.userinfo!==void 0&&(y.push(f.userinfo),y.push("@")),f.host!==void 0&&y.push(Gi(qn(String(f.host),c),c).replace(c.IPV6ADDRESS,function(_,A,D){return"["+A+(D?"%25"+D:"")+"]"})),(typeof f.port=="number"||typeof f.port=="string")&&(y.push(":"),y.push(String(f.port))),y.length?y.join(""):void 0}var Xi=/^\.\.?\//,Ji=/^\/\.(\/|$)/,Yi=/^\/\.\.(\/|$)/,Oc=/^\/?(?:.|\n)*?(?=\/|$)/;function rt(f){for(var s=[];f.length;)if(f.match(Xi))f=f.replace(Xi,"");else if(f.match(Ji))f=f.replace(Ji,"/");else if(f.match(Yi))f=f.replace(Yi,"/"),s.pop();else if(f==="."||f==="..")f="";else{var c=f.match(Oc);if(c){var y=c[0];f=f.slice(y.length),s.push(y)}else throw new Error("Unexpected dot segment condition")}return s.join("")}function tr(f){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=s.iri?d:l,y=[],_=Fe[(s.scheme||f.scheme||"").toLowerCase()];if(_&&_.serialize&&_.serialize(f,s),f.host&&!c.IPV6ADDRESS.test(f.host)){if(s.domainHost||_&&_.domainHost)try{f.host=s.iri?Zr.toUnicode(f.host):Zr.toASCII(f.host.replace(c.PCT_ENCODED,et).toLowerCase())}catch(W){f.error=f.error||"Host's domain name can not be converted to "+(s.iri?"Unicode":"ASCII")+" via punycode: "+W}}kn(f,c),s.reference!=="suffix"&&f.scheme&&(y.push(f.scheme),y.push(":"));var A=Rc(f,s);if(A!==void 0&&(s.reference!=="suffix"&&y.push("//"),y.push(A),f.path&&f.path.charAt(0)!=="/"&&y.push("/")),f.path!==void 0){var D=f.path;!s.absolutePath&&(!_||!_.absolutePath)&&(D=rt(D)),A===void 0&&(D=D.replace(/^\/\//,"/%2F")),y.push(D)}return f.query!==void 0&&(y.push("?"),y.push(f.query)),f.fragment!==void 0&&(y.push("#"),y.push(f.fragment)),y.join("")}function Qi(f,s){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},y=arguments[3],_={};return y||(f=dr(tr(f,c),c),s=dr(tr(s,c),c)),c=c||{},!c.tolerant&&s.scheme?(_.scheme=s.scheme,_.userinfo=s.userinfo,_.host=s.host,_.port=s.port,_.path=rt(s.path||""),_.query=s.query):(s.userinfo!==void 0||s.host!==void 0||s.port!==void 0?(_.userinfo=s.userinfo,_.host=s.host,_.port=s.port,_.path=rt(s.path||""),_.query=s.query):(s.path?(s.path.charAt(0)==="/"?_.path=rt(s.path):((f.userinfo!==void 0||f.host!==void 0||f.port!==void 0)&&!f.path?_.path="/"+s.path:f.path?_.path=f.path.slice(0,f.path.lastIndexOf("/")+1)+s.path:_.path=s.path,_.path=rt(_.path)),_.query=s.query):(_.path=f.path,s.query!==void 0?_.query=s.query:_.query=f.query),_.userinfo=f.userinfo,_.host=f.host,_.port=f.port),_.scheme=f.scheme),_.fragment=s.fragment,_}function Ic(f,s,c){var y=i({scheme:"null"},c);return tr(Qi(dr(f,y),dr(s,y),y,!0),y)}function Nc(f,s){return typeof f=="string"?f=tr(dr(f,s),s):o(f)==="object"&&(f=dr(tr(f,s),s)),f}function Tc(f,s,c){return typeof f=="string"?f=tr(dr(f,c),c):o(f)==="object"&&(f=tr(f,c)),typeof s=="string"?s=tr(dr(s,c),c):o(s)==="object"&&(s=tr(s,c)),f===s}function Cc(f,s){return f&&f.toString().replace(!s||!s.iri?l.ESCAPE:d.ESCAPE,rr)}function mr(f,s){return f&&f.toString().replace(!s||!s.iri?l.PCT_ENCODED:d.PCT_ENCODED,et)}var bt={scheme:"http",domainHost:!0,parse:function(s,c){return s.host||(s.error=s.error||"HTTP URIs must have a host."),s},serialize:function(s,c){var y=String(s.scheme).toLowerCase()==="https";return(s.port===(y?443:80)||s.port==="")&&(s.port=void 0),s.path||(s.path="/"),s}},Zi={scheme:"https",domainHost:bt.domainHost,parse:bt.parse,serialize:bt.serialize};function es(f){return typeof f.secure=="boolean"?f.secure:String(f.scheme).toLowerCase()==="wss"}var Pt={scheme:"ws",domainHost:!0,parse:function(s,c){var y=s;return y.secure=es(y),y.resourceName=(y.path||"/")+(y.query?"?"+y.query:""),y.path=void 0,y.query=void 0,y},serialize:function(s,c){if((s.port===(es(s)?443:80)||s.port==="")&&(s.port=void 0),typeof s.secure=="boolean"&&(s.scheme=s.secure?"wss":"ws",s.secure=void 0),s.resourceName){var y=s.resourceName.split("?"),_=m(y,2),A=_[0],D=_[1];s.path=A&&A!=="/"?A:void 0,s.query=D,s.resourceName=void 0}return s.fragment=void 0,s}},rs={scheme:"wss",domainHost:Pt.domainHost,parse:Pt.parse,serialize:Pt.serialize},kc={},Dc=!0,ts="[A-Za-z0-9\\-\\.\\_\\~"+(Dc?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]",or="[0-9A-Fa-f]",qc=t(t("%[EFef]"+or+"%"+or+or+"%"+or+or)+"|"+t("%[89A-Fa-f]"+or+"%"+or+or)+"|"+t("%"+or+or)),jc="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Mc="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Uc=e(Mc,'[\\"\\\\]'),Lc="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Fc=new RegExp(ts,"g"),tt=new RegExp(qc,"g"),Bc=new RegExp(e("[^]",jc,"[\\.]",'[\\"]',Uc),"g"),os=new RegExp(e("[^]",ts,Lc),"g"),Wc=os;function jn(f){var s=et(f);return s.match(Fc)?s:f}var ns={scheme:"mailto",parse:function(s,c){var y=s,_=y.to=y.path?y.path.split(","):[];if(y.path=void 0,y.query){for(var A=!1,D={},W=y.query.split("&"),H=0,fe=W.length;H<fe;++H){var F=W[H].split("=");switch(F[0]){case"to":for(var ne=F[1].split(","),ce=0,te=ne.length;ce<te;++ce)_.push(ne[ce]);break;case"subject":y.subject=mr(F[1],c);break;case"body":y.body=mr(F[1],c);break;default:A=!0,D[mr(F[0],c)]=mr(F[1],c);break}}A&&(y.headers=D)}y.query=void 0;for(var z=0,ae=_.length;z<ae;++z){var J=_[z].split("@");if(J[0]=mr(J[0]),c.unicodeSupport)J[1]=mr(J[1],c).toLowerCase();else try{J[1]=Zr.toASCII(mr(J[1],c).toLowerCase())}catch(qr){y.error=y.error||"Email address's domain name can not be converted to ASCII via punycode: "+qr}_[z]=J.join("@")}return y},serialize:function(s,c){var y=s,_=a(s.to);if(_){for(var A=0,D=_.length;A<D;++A){var W=String(_[A]),H=W.lastIndexOf("@"),fe=W.slice(0,H).replace(tt,jn).replace(tt,n).replace(Bc,rr),F=W.slice(H+1);try{F=c.iri?Zr.toUnicode(F):Zr.toASCII(mr(F,c).toLowerCase())}catch(z){y.error=y.error||"Email address's domain name can not be converted to "+(c.iri?"Unicode":"ASCII")+" via punycode: "+z}_[A]=fe+"@"+F}y.path=_.join(",")}var ne=s.headers=s.headers||{};s.subject&&(ne.subject=s.subject),s.body&&(ne.body=s.body);var ce=[];for(var te in ne)ne[te]!==kc[te]&&ce.push(te.replace(tt,jn).replace(tt,n).replace(os,rr)+"="+ne[te].replace(tt,jn).replace(tt,n).replace(Wc,rr));return ce.length&&(y.query=ce.join("&")),y}},Kc=/^([^\:]+)\:(.*)/,as={scheme:"urn",parse:function(s,c){var y=s.path&&s.path.match(Kc),_=s;if(y){var A=c.scheme||_.scheme||"urn",D=y[1].toLowerCase(),W=y[2],H=A+":"+(c.nid||D),fe=Fe[H];_.nid=D,_.nss=W,_.path=void 0,fe&&(_=fe.parse(_,c))}else _.error=_.error||"URN can not be parsed.";return _},serialize:function(s,c){var y=c.scheme||s.scheme||"urn",_=s.nid,A=y+":"+(c.nid||_),D=Fe[A];D&&(s=D.serialize(s,c));var W=s,H=s.nss;return W.path=(_||c.nid)+":"+H,W}},Vc=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,is={scheme:"urn:uuid",parse:function(s,c){var y=s;return y.uuid=y.nss,y.nss=void 0,!c.tolerant&&(!y.uuid||!y.uuid.match(Vc))&&(y.error=y.error||"UUID is not valid."),y},serialize:function(s,c){var y=s;return y.nss=(s.uuid||"").toLowerCase(),y}};Fe[bt.scheme]=bt,Fe[Zi.scheme]=Zi,Fe[Pt.scheme]=Pt,Fe[rs.scheme]=rs,Fe[ns.scheme]=ns,Fe[as.scheme]=as,Fe[is.scheme]=is,r.SCHEMES=Fe,r.pctEncChar=rr,r.pctDecChars=et,r.parse=dr,r.removeDotSegments=rt,r.serialize=tr,r.resolveComponents=Qi,r.resolve=Ic,r.normalize=Nc,r.equal=Tc,r.escapeComponent=Cc,r.unescapeComponent=mr,Object.defineProperty(r,"__esModule",{value:!0})})});var tf=R(Za=>{"use strict";Object.defineProperty(Za,"__esModule",{value:!0});var rf=ef();rf.code='require("ajv/dist/runtime/uri").default';Za.default=rf});var lf=R(we=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});we.CodeGen=we.Name=we.nil=we.stringify=we.str=we._=we.KeywordCxt=void 0;var Sh=lo();Object.defineProperty(we,"KeywordCxt",{enumerable:!0,get:function(){return Sh.KeywordCxt}});var gt=U();Object.defineProperty(we,"_",{enumerable:!0,get:function(){return gt._}});Object.defineProperty(we,"str",{enumerable:!0,get:function(){return gt.str}});Object.defineProperty(we,"stringify",{enumerable:!0,get:function(){return gt.stringify}});Object.defineProperty(we,"nil",{enumerable:!0,get:function(){return gt.nil}});Object.defineProperty(we,"Name",{enumerable:!0,get:function(){return gt.Name}});Object.defineProperty(we,"CodeGen",{enumerable:!0,get:function(){return gt.CodeGen}});var bh=ln(),uf=pn(),Ph=Ca(),po=mn(),Ah=U(),mo=uo(),yn=so(),ri=V(),of=Qu(),Rh=tf(),ff=(r,e)=>new RegExp(r,e);ff.code="new RegExp";var Oh=["removeAdditional","useDefaults","coerceTypes"],Ih=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),Nh={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},Th={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},nf=200;function Ch(r){var e,t,o,n,a,i,u,l,d,m,v,E,g,x,w,S,h,$,P,I,O,k,he,ye,ve;let se=r.strict,De=(e=r.code)===null||e===void 0?void 0:e.optimize,Le=De===!0||De===void 0?1:De||0,Yr=(o=(t=r.code)===null||t===void 0?void 0:t.regExp)!==null&&o!==void 0?o:ff,Qr=(n=r.uriResolver)!==null&&n!==void 0?n:Rh.default;return{strictSchema:(i=(a=r.strictSchema)!==null&&a!==void 0?a:se)!==null&&i!==void 0?i:!0,strictNumbers:(l=(u=r.strictNumbers)!==null&&u!==void 0?u:se)!==null&&l!==void 0?l:!0,strictTypes:(m=(d=r.strictTypes)!==null&&d!==void 0?d:se)!==null&&m!==void 0?m:"log",strictTuples:(E=(v=r.strictTuples)!==null&&v!==void 0?v:se)!==null&&E!==void 0?E:"log",strictRequired:(x=(g=r.strictRequired)!==null&&g!==void 0?g:se)!==null&&x!==void 0?x:!1,code:r.code?{...r.code,optimize:Le,regExp:Yr}:{optimize:Le,regExp:Yr},loopRequired:(w=r.loopRequired)!==null&&w!==void 0?w:nf,loopEnum:(S=r.loopEnum)!==null&&S!==void 0?S:nf,meta:(h=r.meta)!==null&&h!==void 0?h:!0,messages:($=r.messages)!==null&&$!==void 0?$:!0,inlineRefs:(P=r.inlineRefs)!==null&&P!==void 0?P:!0,schemaId:(I=r.schemaId)!==null&&I!==void 0?I:"$id",addUsedSchema:(O=r.addUsedSchema)!==null&&O!==void 0?O:!0,validateSchema:(k=r.validateSchema)!==null&&k!==void 0?k:!0,validateFormats:(he=r.validateFormats)!==null&&he!==void 0?he:!0,unicodeRegExp:(ye=r.unicodeRegExp)!==null&&ye!==void 0?ye:!0,int32range:(ve=r.int32range)!==null&&ve!==void 0?ve:!0,uriResolver:Qr}}var ho=class{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...Ch(e)};let{es5:t,lines:o}=this.opts.code;this.scope=new Ah.ValueScope({scope:{},prefixes:Ih,es5:t,lines:o}),this.logger=Uh(e.logger);let n=e.validateFormats;e.validateFormats=!1,this.RULES=(0,Ph.getRules)(),af.call(this,Nh,e,"NOT SUPPORTED"),af.call(this,Th,e,"DEPRECATED","warn"),this._metaOpts=jh.call(this),e.formats&&Dh.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&qh.call(this,e.keywords),typeof e.meta=="object"&&this.addMetaSchema(e.meta),kh.call(this),e.validateFormats=n}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:e,meta:t,schemaId:o}=this.opts,n=of;o==="id"&&(n={...of},n.id=n.$id,delete n.$id),t&&e&&this.addMetaSchema(n,n[o],!1)}defaultMeta(){let{meta:e,schemaId:t}=this.opts;return this.opts.defaultMeta=typeof e=="object"?e[t]||e:void 0}validate(e,t){let o;if(typeof e=="string"){if(o=this.getSchema(e),!o)throw new Error(`no schema with key or ref "${e}"`)}else o=this.compile(e);let n=o(t);return"$async"in o||(this.errors=o.errors),n}compile(e,t){let o=this._addSchema(e,t);return o.validate||this._compileSchemaEnv(o)}compileAsync(e,t){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:o}=this.opts;return n.call(this,e,t);async function n(m,v){await a.call(this,m.$schema);let E=this._addSchema(m,v);return E.validate||i.call(this,E)}async function a(m){m&&!this.getSchema(m)&&await n.call(this,{$ref:m},!0)}async function i(m){try{return this._compileSchemaEnv(m)}catch(v){if(!(v instanceof uf.default))throw v;return u.call(this,v),await l.call(this,v.missingSchema),i.call(this,m)}}function u({missingSchema:m,missingRef:v}){if(this.refs[m])throw new Error(`AnySchema ${m} is loaded but ${v} cannot be resolved`)}async function l(m){let v=await d.call(this,m);this.refs[m]||await a.call(this,v.$schema),this.refs[m]||this.addSchema(v,m,t)}async function d(m){let v=this._loading[m];if(v)return v;try{return await(this._loading[m]=o(m))}finally{delete this._loading[m]}}}addSchema(e,t,o,n=this.opts.validateSchema){if(Array.isArray(e)){for(let i of e)this.addSchema(i,void 0,o,n);return this}let a;if(typeof e=="object"){let{schemaId:i}=this.opts;if(a=e[i],a!==void 0&&typeof a!="string")throw new Error(`schema ${i} must be string`)}return t=(0,mo.normalizeId)(t||a),this._checkUnique(t),this.schemas[t]=this._addSchema(e,o,t,n,!0),this}addMetaSchema(e,t,o=this.opts.validateSchema){return this.addSchema(e,t,!0,o),this}validateSchema(e,t){if(typeof e=="boolean")return!0;let o;if(o=e.$schema,o!==void 0&&typeof o!="string")throw new Error("$schema must be a string");if(o=o||this.opts.defaultMeta||this.defaultMeta(),!o)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let n=this.validate(o,e);if(!n&&t){let a="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(a);else throw new Error(a)}return n}getSchema(e){let t;for(;typeof(t=sf.call(this,e))=="string";)e=t;if(t===void 0){let{schemaId:o}=this.opts,n=new po.SchemaEnv({schema:{},schemaId:o});if(t=po.resolveSchema.call(this,n,e),!t)return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let t=sf.call(this,e);return typeof t=="object"&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{let t=e;this._cache.delete(t);let o=e[this.opts.schemaId];return o&&(o=(0,mo.normalizeId)(o),delete this.schemas[o],delete this.refs[o]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(let t of e)this.addKeyword(t);return this}addKeyword(e,t){let o;if(typeof e=="string")o=e,typeof t=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),t.keyword=o);else if(typeof e=="object"&&t===void 0){if(t=e,o=t.keyword,Array.isArray(o)&&!o.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(Fh.call(this,o,t),!t)return(0,ri.eachItem)(o,a=>ei.call(this,a)),this;Wh.call(this,t);let n={...t,type:(0,yn.getJSONTypes)(t.type),schemaType:(0,yn.getJSONTypes)(t.schemaType)};return(0,ri.eachItem)(o,n.type.length===0?a=>ei.call(this,a,n):a=>n.type.forEach(i=>ei.call(this,a,n,i))),this}getKeyword(e){let t=this.RULES.all[e];return typeof t=="object"?t.definition:!!t}removeKeyword(e){let{RULES:t}=this;delete t.keywords[e],delete t.all[e];for(let o of t.rules){let n=o.rules.findIndex(a=>a.keyword===e);n>=0&&o.rules.splice(n,1)}return this}addFormat(e,t){return typeof t=="string"&&(t=new RegExp(t)),this.formats[e]=t,this}errorsText(e=this.errors,{separator:t=", ",dataVar:o="data"}={}){return!e||e.length===0?"No errors":e.map(n=>`${o}${n.instancePath} ${n.message}`).reduce((n,a)=>n+t+a)}$dataMetaSchema(e,t){let o=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(let n of t){let a=n.split("/").slice(1),i=e;for(let u of a)i=i[u];for(let u in o){let l=o[u];if(typeof l!="object")continue;let{$data:d}=l.definition,m=i[u];d&&m&&(i[u]=cf(m))}}return e}_removeAllSchemas(e,t){for(let o in e){let n=e[o];(!t||t.test(o))&&(typeof n=="string"?delete e[o]:n&&!n.meta&&(this._cache.delete(n.schema),delete e[o]))}}_addSchema(e,t,o,n=this.opts.validateSchema,a=this.opts.addUsedSchema){let i,{schemaId:u}=this.opts;if(typeof e=="object")i=e[u];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof e!="boolean")throw new Error("schema must be object or boolean")}let l=this._cache.get(e);if(l!==void 0)return l;o=(0,mo.normalizeId)(i||o);let d=mo.getSchemaRefs.call(this,e,o);return l=new po.SchemaEnv({schema:e,schemaId:u,meta:t,baseId:o,localRefs:d}),this._cache.set(l.schema,l),a&&!o.startsWith("#")&&(o&&this._checkUnique(o),this.refs[o]=l),n&&this.validateSchema(e,!0),l}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):po.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){let t=this.opts;this.opts=this._metaOpts;try{po.compileSchema.call(this,e)}finally{this.opts=t}}};we.default=ho;ho.ValidationError=bh.default;ho.MissingRefError=uf.default;function af(r,e,t,o="error"){for(let n in r){let a=n;a in e&&this.logger[o](`${t}: option ${n}. ${r[a]}`)}}function sf(r){return r=(0,mo.normalizeId)(r),this.schemas[r]||this.refs[r]}function kh(){let r=this.opts.schemas;if(r)if(Array.isArray(r))this.addSchema(r);else for(let e in r)this.addSchema(r[e],e)}function Dh(){for(let r in this.opts.formats){let e=this.opts.formats[r];e&&this.addFormat(r,e)}}function qh(r){if(Array.isArray(r)){this.addVocabulary(r);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let e in r){let t=r[e];t.keyword||(t.keyword=e),this.addKeyword(t)}}function jh(){let r={...this.opts};for(let e of Oh)delete r[e];return r}var Mh={log(){},warn(){},error(){}};function Uh(r){if(r===!1)return Mh;if(r===void 0)return console;if(r.log&&r.warn&&r.error)return r;throw new Error("logger must implement log, warn and error methods")}var Lh=/^[a-z_$][a-z0-9_$:-]*$/i;function Fh(r,e){let{RULES:t}=this;if((0,ri.eachItem)(r,o=>{if(t.keywords[o])throw new Error(`Keyword ${o} is already defined`);if(!Lh.test(o))throw new Error(`Keyword ${o} has invalid name`)}),!!e&&e.$data&&!("code"in e||"validate"in e))throw new Error('$data keyword must have "code" or "validate" function')}function ei(r,e,t){var o;let n=e?.post;if(t&&n)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:a}=this,i=n?a.post:a.rules.find(({type:l})=>l===t);if(i||(i={type:t,rules:[]},a.rules.push(i)),a.keywords[r]=!0,!e)return;let u={keyword:r,definition:{...e,type:(0,yn.getJSONTypes)(e.type),schemaType:(0,yn.getJSONTypes)(e.schemaType)}};e.before?Bh.call(this,i,u,e.before):i.rules.push(u),a.all[r]=u,(o=e.implements)===null||o===void 0||o.forEach(l=>this.addKeyword(l))}function Bh(r,e,t){let o=r.rules.findIndex(n=>n.keyword===t);o>=0?r.rules.splice(o,0,e):(r.rules.push(e),this.logger.warn(`rule ${t} is not defined`))}function Wh(r){let{metaSchema:e}=r;e!==void 0&&(r.$data&&this.opts.$data&&(e=cf(e)),r.validateSchema=this.compile(e,!0))}var Kh={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function cf(r){return{anyOf:[r,Kh]}}});var pf=R(ti=>{"use strict";Object.defineProperty(ti,"__esModule",{value:!0});var Vh={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};ti.default=Vh});var yf=R(Gr=>{"use strict";Object.defineProperty(Gr,"__esModule",{value:!0});Gr.callRef=Gr.getValidate=void 0;var zh=pn(),df=ze(),ke=U(),xt=Sr(),mf=mn(),vn=V(),Hh={keyword:"$ref",schemaType:"string",code(r){let{gen:e,schema:t,it:o}=r,{baseId:n,schemaEnv:a,validateName:i,opts:u,self:l}=o,{root:d}=a;if((t==="#"||t==="#/")&&n===d.baseId)return v();let m=mf.resolveRef.call(l,d,n,t);if(m===void 0)throw new zh.default(o.opts.uriResolver,n,t);if(m instanceof mf.SchemaEnv)return E(m);return g(m);function v(){if(a===d)return _n(r,i,a,a.$async);let x=e.scopeValue("root",{ref:d});return _n(r,(0,ke._)`${x}.validate`,d,d.$async)}function E(x){let w=hf(r,x);_n(r,w,x,x.$async)}function g(x){let w=e.scopeValue("schema",u.code.source===!0?{ref:x,code:(0,ke.stringify)(x)}:{ref:x}),S=e.name("valid"),h=r.subschema({schema:x,dataTypes:[],schemaPath:ke.nil,topSchemaRef:w,errSchemaPath:t},S);r.mergeEvaluated(h),r.ok(S)}}};function hf(r,e){let{gen:t}=r;return e.validate?t.scopeValue("validate",{ref:e.validate}):(0,ke._)`${t.scopeValue("wrapper",{ref:e})}.validate`}Gr.getValidate=hf;function _n(r,e,t,o){let{gen:n,it:a}=r,{allErrors:i,schemaEnv:u,opts:l}=a,d=l.passContext?xt.default.this:ke.nil;o?m():v();function m(){if(!u.$async)throw new Error("async schema referenced by sync schema");let x=n.let("valid");n.try(()=>{n.code((0,ke._)`await ${(0,df.callValidateCode)(r,e,d)}`),g(e),i||n.assign(x,!0)},w=>{n.if((0,ke._)`!(${w} instanceof ${a.ValidationError})`,()=>n.throw(w)),E(w),i||n.assign(x,!1)}),r.ok(x)}function v(){r.result((0,df.callValidateCode)(r,e,d),()=>g(e),()=>E(e))}function E(x){let w=(0,ke._)`${x}.errors`;n.assign(xt.default.vErrors,(0,ke._)`${xt.default.vErrors} === null ? ${w} : ${xt.default.vErrors}.concat(${w})`),n.assign(xt.default.errors,(0,ke._)`${xt.default.vErrors}.length`)}function g(x){var w;if(!a.opts.unevaluated)return;let S=(w=t?.validate)===null||w===void 0?void 0:w.evaluated;if(a.props!==!0)if(S&&!S.dynamicProps)S.props!==void 0&&(a.props=vn.mergeEvaluated.props(n,S.props,a.props));else{let h=n.var("props",(0,ke._)`${x}.evaluated.props`);a.props=vn.mergeEvaluated.props(n,h,a.props,ke.Name)}if(a.items!==!0)if(S&&!S.dynamicItems)S.items!==void 0&&(a.items=vn.mergeEvaluated.items(n,S.items,a.items));else{let h=n.var("items",(0,ke._)`${x}.evaluated.items`);a.items=vn.mergeEvaluated.items(n,h,a.items,ke.Name)}}}Gr.callRef=_n;Gr.default=Hh});var vf=R(oi=>{"use strict";Object.defineProperty(oi,"__esModule",{value:!0});var Gh=pf(),Xh=yf(),Jh=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",Gh.default,Xh.default];oi.default=Jh});var _f=R(ni=>{"use strict";Object.defineProperty(ni,"__esModule",{value:!0});var gn=U(),Dr=gn.operators,xn={maximum:{okStr:"<=",ok:Dr.LTE,fail:Dr.GT},minimum:{okStr:">=",ok:Dr.GTE,fail:Dr.LT},exclusiveMaximum:{okStr:"<",ok:Dr.LT,fail:Dr.GTE},exclusiveMinimum:{okStr:">",ok:Dr.GT,fail:Dr.LTE}},Yh={message:({keyword:r,schemaCode:e})=>(0,gn.str)`must be ${xn[r].okStr} ${e}`,params:({keyword:r,schemaCode:e})=>(0,gn._)`{comparison: ${xn[r].okStr}, limit: ${e}}`},Qh={keyword:Object.keys(xn),type:"number",schemaType:"number",$data:!0,error:Yh,code(r){let{keyword:e,data:t,schemaCode:o}=r;r.fail$data((0,gn._)`${t} ${xn[e].fail} ${o} || isNaN(${t})`)}};ni.default=Qh});var gf=R(ai=>{"use strict";Object.defineProperty(ai,"__esModule",{value:!0});var yo=U(),Zh={message:({schemaCode:r})=>(0,yo.str)`must be multiple of ${r}`,params:({schemaCode:r})=>(0,yo._)`{multipleOf: ${r}}`},ey={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:Zh,code(r){let{gen:e,data:t,schemaCode:o,it:n}=r,a=n.opts.multipleOfPrecision,i=e.let("res"),u=a?(0,yo._)`Math.abs(Math.round(${i}) - ${i}) > 1e-${a}`:(0,yo._)`${i} !== parseInt(${i})`;r.fail$data((0,yo._)`(${o} === 0 || (${i} = ${t}/${o}, ${u}))`)}};ai.default=ey});var wf=R(ii=>{"use strict";Object.defineProperty(ii,"__esModule",{value:!0});function xf(r){let e=r.length,t=0,o=0,n;for(;o<e;)t++,n=r.charCodeAt(o++),n>=55296&&n<=56319&&o<e&&(n=r.charCodeAt(o),(n&64512)===56320&&o++);return t}ii.default=xf;xf.code='require("ajv/dist/runtime/ucs2length").default'});var $f=R(si=>{"use strict";Object.defineProperty(si,"__esModule",{value:!0});var Xr=U(),ry=V(),ty=wf(),oy={message({keyword:r,schemaCode:e}){let t=r==="maxLength"?"more":"fewer";return(0,Xr.str)`must NOT have ${t} than ${e} characters`},params:({schemaCode:r})=>(0,Xr._)`{limit: ${r}}`},ny={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:oy,code(r){let{keyword:e,data:t,schemaCode:o,it:n}=r,a=e==="maxLength"?Xr.operators.GT:Xr.operators.LT,i=n.opts.unicode===!1?(0,Xr._)`${t}.length`:(0,Xr._)`${(0,ry.useFunc)(r.gen,ty.default)}(${t})`;r.fail$data((0,Xr._)`${i} ${a} ${o}`)}};si.default=ny});var Ef=R(ui=>{"use strict";Object.defineProperty(ui,"__esModule",{value:!0});var ay=ze(),wn=U(),iy={message:({schemaCode:r})=>(0,wn.str)`must match pattern "${r}"`,params:({schemaCode:r})=>(0,wn._)`{pattern: ${r}}`},sy={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:iy,code(r){let{data:e,$data:t,schema:o,schemaCode:n,it:a}=r,i=a.opts.unicodeRegExp?"u":"",u=t?(0,wn._)`(new RegExp(${n}, ${i}))`:(0,ay.usePattern)(r,o);r.fail$data((0,wn._)`!${u}.test(${e})`)}};ui.default=sy});var Sf=R(fi=>{"use strict";Object.defineProperty(fi,"__esModule",{value:!0});var vo=U(),uy={message({keyword:r,schemaCode:e}){let t=r==="maxProperties"?"more":"fewer";return(0,vo.str)`must NOT have ${t} than ${e} properties`},params:({schemaCode:r})=>(0,vo._)`{limit: ${r}}`},fy={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:uy,code(r){let{keyword:e,data:t,schemaCode:o}=r,n=e==="maxProperties"?vo.operators.GT:vo.operators.LT;r.fail$data((0,vo._)`Object.keys(${t}).length ${n} ${o}`)}};fi.default=fy});var bf=R(ci=>{"use strict";Object.defineProperty(ci,"__esModule",{value:!0});var _o=ze(),go=U(),cy=V(),ly={message:({params:{missingProperty:r}})=>(0,go.str)`must have required property '${r}'`,params:({params:{missingProperty:r}})=>(0,go._)`{missingProperty: ${r}}`},py={keyword:"required",type:"object",schemaType:"array",$data:!0,error:ly,code(r){let{gen:e,schema:t,schemaCode:o,data:n,$data:a,it:i}=r,{opts:u}=i;if(!a&&t.length===0)return;let l=t.length>=u.loopRequired;if(i.allErrors?d():m(),u.strictRequired){let g=r.parentSchema.properties,{definedProperties:x}=r.it;for(let w of t)if(g?.[w]===void 0&&!x.has(w)){let S=i.schemaEnv.baseId+i.errSchemaPath,h=`required property "${w}" is not defined at "${S}" (strictRequired)`;(0,cy.checkStrictMode)(i,h,i.opts.strictRequired)}}function d(){if(l||a)r.block$data(go.nil,v);else for(let g of t)(0,_o.checkReportMissingProp)(r,g)}function m(){let g=e.let("missing");if(l||a){let x=e.let("valid",!0);r.block$data(x,()=>E(g,x)),r.ok(x)}else e.if((0,_o.checkMissingProp)(r,t,g)),(0,_o.reportMissingProp)(r,g),e.else()}function v(){e.forOf("prop",o,g=>{r.setParams({missingProperty:g}),e.if((0,_o.noPropertyInData)(e,n,g,u.ownProperties),()=>r.error())})}function E(g,x){r.setParams({missingProperty:g}),e.forOf(g,o,()=>{e.assign(x,(0,_o.propertyInData)(e,n,g,u.ownProperties)),e.if((0,go.not)(x),()=>{r.error(),e.break()})},go.nil)}}};ci.default=py});var Pf=R(li=>{"use strict";Object.defineProperty(li,"__esModule",{value:!0});var xo=U(),dy={message({keyword:r,schemaCode:e}){let t=r==="maxItems"?"more":"fewer";return(0,xo.str)`must NOT have ${t} than ${e} items`},params:({schemaCode:r})=>(0,xo._)`{limit: ${r}}`},my={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:dy,code(r){let{keyword:e,data:t,schemaCode:o}=r,n=e==="maxItems"?xo.operators.GT:xo.operators.LT;r.fail$data((0,xo._)`${t}.length ${n} ${o}`)}};li.default=my});var $n=R(pi=>{"use strict";Object.defineProperty(pi,"__esModule",{value:!0});var Af=Fa();Af.code='require("ajv/dist/runtime/equal").default';pi.default=Af});var Rf=R(mi=>{"use strict";Object.defineProperty(mi,"__esModule",{value:!0});var di=so(),$e=U(),hy=V(),yy=$n(),vy={message:({params:{i:r,j:e}})=>(0,$e.str)`must NOT have duplicate items (items ## ${e} and ${r} are identical)`,params:({params:{i:r,j:e}})=>(0,$e._)`{i: ${r}, j: ${e}}`},_y={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:vy,code(r){let{gen:e,data:t,$data:o,schema:n,parentSchema:a,schemaCode:i,it:u}=r;if(!o&&!n)return;let l=e.let("valid"),d=a.items?(0,di.getSchemaTypes)(a.items):[];r.block$data(l,m,(0,$e._)`${i} === false`),r.ok(l);function m(){let x=e.let("i",(0,$e._)`${t}.length`),w=e.let("j");r.setParams({i:x,j:w}),e.assign(l,!0),e.if((0,$e._)`${x} > 1`,()=>(v()?E:g)(x,w))}function v(){return d.length>0&&!d.some(x=>x==="object"||x==="array")}function E(x,w){let S=e.name("item"),h=(0,di.checkDataTypes)(d,S,u.opts.strictNumbers,di.DataType.Wrong),$=e.const("indices",(0,$e._)`{}`);e.for((0,$e._)`;${x}--;`,()=>{e.let(S,(0,$e._)`${t}[${x}]`),e.if(h,(0,$e._)`continue`),d.length>1&&e.if((0,$e._)`typeof ${S} == "string"`,(0,$e._)`${S} += "_"`),e.if((0,$e._)`typeof ${$}[${S}] == "number"`,()=>{e.assign(w,(0,$e._)`${$}[${S}]`),r.error(),e.assign(l,!1).break()}).code((0,$e._)`${$}[${S}] = ${x}`)})}function g(x,w){let S=(0,hy.useFunc)(e,yy.default),h=e.name("outer");e.label(h).for((0,$e._)`;${x}--;`,()=>e.for((0,$e._)`${w} = ${x}; ${w}--;`,()=>e.if((0,$e._)`${S}(${t}[${x}], ${t}[${w}])`,()=>{r.error(),e.assign(l,!1).break(h)})))}}};mi.default=_y});var Of=R(yi=>{"use strict";Object.defineProperty(yi,"__esModule",{value:!0});var hi=U(),gy=V(),xy=$n(),wy={message:"must be equal to constant",params:({schemaCode:r})=>(0,hi._)`{allowedValue: ${r}}`},$y={keyword:"const",$data:!0,error:wy,code(r){let{gen:e,data:t,$data:o,schemaCode:n,schema:a}=r;o||a&&typeof a=="object"?r.fail$data((0,hi._)`!${(0,gy.useFunc)(e,xy.default)}(${t}, ${n})`):r.fail((0,hi._)`${a} !== ${t}`)}};yi.default=$y});var If=R(vi=>{"use strict";Object.defineProperty(vi,"__esModule",{value:!0});var wo=U(),Ey=V(),Sy=$n(),by={message:"must be equal to one of the allowed values",params:({schemaCode:r})=>(0,wo._)`{allowedValues: ${r}}`},Py={keyword:"enum",schemaType:"array",$data:!0,error:by,code(r){let{gen:e,data:t,$data:o,schema:n,schemaCode:a,it:i}=r;if(!o&&n.length===0)throw new Error("enum must have non-empty array");let u=n.length>=i.opts.loopEnum,l,d=()=>l??(l=(0,Ey.useFunc)(e,Sy.default)),m;if(u||o)m=e.let("valid"),r.block$data(m,v);else{if(!Array.isArray(n))throw new Error("ajv implementation error");let g=e.const("vSchema",a);m=(0,wo.or)(...n.map((x,w)=>E(g,w)))}r.pass(m);function v(){e.assign(m,!1),e.forOf("v",a,g=>e.if((0,wo._)`${d()}(${t}, ${g})`,()=>e.assign(m,!0).break()))}function E(g,x){let w=n[x];return typeof w=="object"&&w!==null?(0,wo._)`${d()}(${t}, ${g}[${x}])`:(0,wo._)`${t} === ${w}`}}};vi.default=Py});var Nf=R(_i=>{"use strict";Object.defineProperty(_i,"__esModule",{value:!0});var Ay=_f(),Ry=gf(),Oy=$f(),Iy=Ef(),Ny=Sf(),Ty=bf(),Cy=Pf(),ky=Rf(),Dy=Of(),qy=If(),jy=[Ay.default,Ry.default,Oy.default,Iy.default,Ny.default,Ty.default,Cy.default,ky.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Dy.default,qy.default];_i.default=jy});var xi=R($o=>{"use strict";Object.defineProperty($o,"__esModule",{value:!0});$o.validateAdditionalItems=void 0;var Jr=U(),gi=V(),My={message:({params:{len:r}})=>(0,Jr.str)`must NOT have more than ${r} items`,params:({params:{len:r}})=>(0,Jr._)`{limit: ${r}}`},Uy={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:My,code(r){let{parentSchema:e,it:t}=r,{items:o}=e;if(!Array.isArray(o)){(0,gi.checkStrictMode)(t,'"additionalItems" is ignored when "items" is not an array of schemas');return}Tf(r,o)}};function Tf(r,e){let{gen:t,schema:o,data:n,keyword:a,it:i}=r;i.items=!0;let u=t.const("len",(0,Jr._)`${n}.length`);if(o===!1)r.setParams({len:e.length}),r.pass((0,Jr._)`${u} <= ${e.length}`);else if(typeof o=="object"&&!(0,gi.alwaysValidSchema)(i,o)){let d=t.var("valid",(0,Jr._)`${u} <= ${e.length}`);t.if((0,Jr.not)(d),()=>l(d)),r.ok(d)}function l(d){t.forRange("i",e.length,u,m=>{r.subschema({keyword:a,dataProp:m,dataPropType:gi.Type.Num},d),i.allErrors||t.if((0,Jr.not)(d),()=>t.break())})}}$o.validateAdditionalItems=Tf;$o.default=Uy});var wi=R(Eo=>{"use strict";Object.defineProperty(Eo,"__esModule",{value:!0});Eo.validateTuple=void 0;var Cf=U(),En=V(),Ly=ze(),Fy={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(r){let{schema:e,it:t}=r;if(Array.isArray(e))return kf(r,"additionalItems",e);t.items=!0,!(0,En.alwaysValidSchema)(t,e)&&r.ok((0,Ly.validateArray)(r))}};function kf(r,e,t=r.schema){let{gen:o,parentSchema:n,data:a,keyword:i,it:u}=r;m(n),u.opts.unevaluated&&t.length&&u.items!==!0&&(u.items=En.mergeEvaluated.items(o,t.length,u.items));let l=o.name("valid"),d=o.const("len",(0,Cf._)`${a}.length`);t.forEach((v,E)=>{(0,En.alwaysValidSchema)(u,v)||(o.if((0,Cf._)`${d} > ${E}`,()=>r.subschema({keyword:i,schemaProp:E,dataProp:E},l)),r.ok(l))});function m(v){let{opts:E,errSchemaPath:g}=u,x=t.length,w=x===v.minItems&&(x===v.maxItems||v[e]===!1);if(E.strictTuples&&!w){let S=`"${i}" is ${x}-tuple, but minItems or maxItems/${e} are not specified or different at path "${g}"`;(0,En.checkStrictMode)(u,S,E.strictTuples)}}}Eo.validateTuple=kf;Eo.default=Fy});var Df=R($i=>{"use strict";Object.defineProperty($i,"__esModule",{value:!0});var By=wi(),Wy={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:r=>(0,By.validateTuple)(r,"items")};$i.default=Wy});var jf=R(Ei=>{"use strict";Object.defineProperty(Ei,"__esModule",{value:!0});var qf=U(),Ky=V(),Vy=ze(),zy=xi(),Hy={message:({params:{len:r}})=>(0,qf.str)`must NOT have more than ${r} items`,params:({params:{len:r}})=>(0,qf._)`{limit: ${r}}`},Gy={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Hy,code(r){let{schema:e,parentSchema:t,it:o}=r,{prefixItems:n}=t;o.items=!0,!(0,Ky.alwaysValidSchema)(o,e)&&(n?(0,zy.validateAdditionalItems)(r,n):r.ok((0,Vy.validateArray)(r)))}};Ei.default=Gy});var Mf=R(Si=>{"use strict";Object.defineProperty(Si,"__esModule",{value:!0});var Ge=U(),Sn=V(),Xy={message:({params:{min:r,max:e}})=>e===void 0?(0,Ge.str)`must contain at least ${r} valid item(s)`:(0,Ge.str)`must contain at least ${r} and no more than ${e} valid item(s)`,params:({params:{min:r,max:e}})=>e===void 0?(0,Ge._)`{minContains: ${r}}`:(0,Ge._)`{minContains: ${r}, maxContains: ${e}}`},Jy={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Xy,code(r){let{gen:e,schema:t,parentSchema:o,data:n,it:a}=r,i,u,{minContains:l,maxContains:d}=o;a.opts.next?(i=l===void 0?1:l,u=d):i=1;let m=e.const("len",(0,Ge._)`${n}.length`);if(r.setParams({min:i,max:u}),u===void 0&&i===0){(0,Sn.checkStrictMode)(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(u!==void 0&&i>u){(0,Sn.checkStrictMode)(a,'"minContains" > "maxContains" is always invalid'),r.fail();return}if((0,Sn.alwaysValidSchema)(a,t)){let w=(0,Ge._)`${m} >= ${i}`;u!==void 0&&(w=(0,Ge._)`${w} && ${m} <= ${u}`),r.pass(w);return}a.items=!0;let v=e.name("valid");u===void 0&&i===1?g(v,()=>e.if(v,()=>e.break())):i===0?(e.let(v,!0),u!==void 0&&e.if((0,Ge._)`${n}.length > 0`,E)):(e.let(v,!1),E()),r.result(v,()=>r.reset());function E(){let w=e.name("_valid"),S=e.let("count",0);g(w,()=>e.if(w,()=>x(S)))}function g(w,S){e.forRange("i",0,m,h=>{r.subschema({keyword:"contains",dataProp:h,dataPropType:Sn.Type.Num,compositeRule:!0},w),S()})}function x(w){e.code((0,Ge._)`${w}++`),u===void 0?e.if((0,Ge._)`${w} >= ${i}`,()=>e.assign(v,!0).break()):(e.if((0,Ge._)`${w} > ${u}`,()=>e.assign(v,!1).break()),i===1?e.assign(v,!0):e.if((0,Ge._)`${w} >= ${i}`,()=>e.assign(v,!0)))}}};Si.default=Jy});var Ff=R(pr=>{"use strict";Object.defineProperty(pr,"__esModule",{value:!0});pr.validateSchemaDeps=pr.validatePropertyDeps=pr.error=void 0;var bi=U(),Yy=V(),So=ze();pr.error={message:({params:{property:r,depsCount:e,deps:t}})=>{let o=e===1?"property":"properties";return(0,bi.str)`must have ${o} ${t} when property ${r} is present`},params:({params:{property:r,depsCount:e,deps:t,missingProperty:o}})=>(0,bi._)`{property: ${r},
    missingProperty: ${o},
    depsCount: ${e},
    deps: ${t}}`};var Qy={keyword:"dependencies",type:"object",schemaType:"object",error:pr.error,code(r){let[e,t]=Zy(r);Uf(r,e),Lf(r,t)}};function Zy({schema:r}){let e={},t={};for(let o in r){if(o==="__proto__")continue;let n=Array.isArray(r[o])?e:t;n[o]=r[o]}return[e,t]}function Uf(r,e=r.schema){let{gen:t,data:o,it:n}=r;if(Object.keys(e).length===0)return;let a=t.let("missing");for(let i in e){let u=e[i];if(u.length===0)continue;let l=(0,So.propertyInData)(t,o,i,n.opts.ownProperties);r.setParams({property:i,depsCount:u.length,deps:u.join(", ")}),n.allErrors?t.if(l,()=>{for(let d of u)(0,So.checkReportMissingProp)(r,d)}):(t.if((0,bi._)`${l} && (${(0,So.checkMissingProp)(r,u,a)})`),(0,So.reportMissingProp)(r,a),t.else())}}pr.validatePropertyDeps=Uf;function Lf(r,e=r.schema){let{gen:t,data:o,keyword:n,it:a}=r,i=t.name("valid");for(let u in e)(0,Yy.alwaysValidSchema)(a,e[u])||(t.if((0,So.propertyInData)(t,o,u,a.opts.ownProperties),()=>{let l=r.subschema({keyword:n,schemaProp:u},i);r.mergeValidEvaluated(l,i)},()=>t.var(i,!0)),r.ok(i))}pr.validateSchemaDeps=Lf;pr.default=Qy});var Wf=R(Pi=>{"use strict";Object.defineProperty(Pi,"__esModule",{value:!0});var Bf=U(),ev=V(),rv={message:"property name must be valid",params:({params:r})=>(0,Bf._)`{propertyName: ${r.propertyName}}`},tv={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:rv,code(r){let{gen:e,schema:t,data:o,it:n}=r;if((0,ev.alwaysValidSchema)(n,t))return;let a=e.name("valid");e.forIn("key",o,i=>{r.setParams({propertyName:i}),r.subschema({keyword:"propertyNames",data:i,dataTypes:["string"],propertyName:i,compositeRule:!0},a),e.if((0,Bf.not)(a),()=>{r.error(!0),n.allErrors||e.break()})}),r.ok(a)}};Pi.default=tv});var Ri=R(Ai=>{"use strict";Object.defineProperty(Ai,"__esModule",{value:!0});var bn=ze(),er=U(),ov=Sr(),Pn=V(),nv={message:"must NOT have additional properties",params:({params:r})=>(0,er._)`{additionalProperty: ${r.additionalProperty}}`},av={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:nv,code(r){let{gen:e,schema:t,parentSchema:o,data:n,errsCount:a,it:i}=r;if(!a)throw new Error("ajv implementation error");let{allErrors:u,opts:l}=i;if(i.props=!0,l.removeAdditional!=="all"&&(0,Pn.alwaysValidSchema)(i,t))return;let d=(0,bn.allSchemaProperties)(o.properties),m=(0,bn.allSchemaProperties)(o.patternProperties);v(),r.ok((0,er._)`${a} === ${ov.default.errors}`);function v(){e.forIn("key",n,S=>{!d.length&&!m.length?x(S):e.if(E(S),()=>x(S))})}function E(S){let h;if(d.length>8){let $=(0,Pn.schemaRefOrVal)(i,o.properties,"properties");h=(0,bn.isOwnProperty)(e,$,S)}else d.length?h=(0,er.or)(...d.map($=>(0,er._)`${S} === ${$}`)):h=er.nil;return m.length&&(h=(0,er.or)(h,...m.map($=>(0,er._)`${(0,bn.usePattern)(r,$)}.test(${S})`))),(0,er.not)(h)}function g(S){e.code((0,er._)`delete ${n}[${S}]`)}function x(S){if(l.removeAdditional==="all"||l.removeAdditional&&t===!1){g(S);return}if(t===!1){r.setParams({additionalProperty:S}),r.error(),u||e.break();return}if(typeof t=="object"&&!(0,Pn.alwaysValidSchema)(i,t)){let h=e.name("valid");l.removeAdditional==="failing"?(w(S,h,!1),e.if((0,er.not)(h),()=>{r.reset(),g(S)})):(w(S,h),u||e.if((0,er.not)(h),()=>e.break()))}}function w(S,h,$){let P={keyword:"additionalProperties",dataProp:S,dataPropType:Pn.Type.Str};$===!1&&Object.assign(P,{compositeRule:!0,createErrors:!1,allErrors:!1}),r.subschema(P,h)}}};Ai.default=av});var zf=R(Ii=>{"use strict";Object.defineProperty(Ii,"__esModule",{value:!0});var iv=lo(),Kf=ze(),Oi=V(),Vf=Ri(),sv={keyword:"properties",type:"object",schemaType:"object",code(r){let{gen:e,schema:t,parentSchema:o,data:n,it:a}=r;a.opts.removeAdditional==="all"&&o.additionalProperties===void 0&&Vf.default.code(new iv.KeywordCxt(a,Vf.default,"additionalProperties"));let i=(0,Kf.allSchemaProperties)(t);for(let v of i)a.definedProperties.add(v);a.opts.unevaluated&&i.length&&a.props!==!0&&(a.props=Oi.mergeEvaluated.props(e,(0,Oi.toHash)(i),a.props));let u=i.filter(v=>!(0,Oi.alwaysValidSchema)(a,t[v]));if(u.length===0)return;let l=e.name("valid");for(let v of u)d(v)?m(v):(e.if((0,Kf.propertyInData)(e,n,v,a.opts.ownProperties)),m(v),a.allErrors||e.else().var(l,!0),e.endIf()),r.it.definedProperties.add(v),r.ok(l);function d(v){return a.opts.useDefaults&&!a.compositeRule&&t[v].default!==void 0}function m(v){r.subschema({keyword:"properties",schemaProp:v,dataProp:v},l)}}};Ii.default=sv});var Jf=R(Ni=>{"use strict";Object.defineProperty(Ni,"__esModule",{value:!0});var Hf=ze(),An=U(),Gf=V(),Xf=V(),uv={keyword:"patternProperties",type:"object",schemaType:"object",code(r){let{gen:e,schema:t,data:o,parentSchema:n,it:a}=r,{opts:i}=a,u=(0,Hf.allSchemaProperties)(t),l=u.filter(w=>(0,Gf.alwaysValidSchema)(a,t[w]));if(u.length===0||l.length===u.length&&(!a.opts.unevaluated||a.props===!0))return;let d=i.strictSchema&&!i.allowMatchingProperties&&n.properties,m=e.name("valid");a.props!==!0&&!(a.props instanceof An.Name)&&(a.props=(0,Xf.evaluatedPropsToName)(e,a.props));let{props:v}=a;E();function E(){for(let w of u)d&&g(w),a.allErrors?x(w):(e.var(m,!0),x(w),e.if(m))}function g(w){for(let S in d)new RegExp(w).test(S)&&(0,Gf.checkStrictMode)(a,`property ${S} matches pattern ${w} (use allowMatchingProperties)`)}function x(w){e.forIn("key",o,S=>{e.if((0,An._)`${(0,Hf.usePattern)(r,w)}.test(${S})`,()=>{let h=l.includes(w);h||r.subschema({keyword:"patternProperties",schemaProp:w,dataProp:S,dataPropType:Xf.Type.Str},m),a.opts.unevaluated&&v!==!0?e.assign((0,An._)`${v}[${S}]`,!0):!h&&!a.allErrors&&e.if((0,An.not)(m),()=>e.break())})})}}};Ni.default=uv});var Yf=R(Ti=>{"use strict";Object.defineProperty(Ti,"__esModule",{value:!0});var fv=V(),cv={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(r){let{gen:e,schema:t,it:o}=r;if((0,fv.alwaysValidSchema)(o,t)){r.fail();return}let n=e.name("valid");r.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},n),r.failResult(n,()=>r.reset(),()=>r.error())},error:{message:"must NOT be valid"}};Ti.default=cv});var Qf=R(Ci=>{"use strict";Object.defineProperty(Ci,"__esModule",{value:!0});var lv=ze(),pv={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:lv.validateUnion,error:{message:"must match a schema in anyOf"}};Ci.default=pv});var Zf=R(ki=>{"use strict";Object.defineProperty(ki,"__esModule",{value:!0});var Rn=U(),dv=V(),mv={message:"must match exactly one schema in oneOf",params:({params:r})=>(0,Rn._)`{passingSchemas: ${r.passing}}`},hv={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:mv,code(r){let{gen:e,schema:t,parentSchema:o,it:n}=r;if(!Array.isArray(t))throw new Error("ajv implementation error");if(n.opts.discriminator&&o.discriminator)return;let a=t,i=e.let("valid",!1),u=e.let("passing",null),l=e.name("_valid");r.setParams({passing:u}),e.block(d),r.result(i,()=>r.reset(),()=>r.error(!0));function d(){a.forEach((m,v)=>{let E;(0,dv.alwaysValidSchema)(n,m)?e.var(l,!0):E=r.subschema({keyword:"oneOf",schemaProp:v,compositeRule:!0},l),v>0&&e.if((0,Rn._)`${l} && ${i}`).assign(i,!1).assign(u,(0,Rn._)`[${u}, ${v}]`).else(),e.if(l,()=>{e.assign(i,!0),e.assign(u,v),E&&r.mergeEvaluated(E,Rn.Name)})})}}};ki.default=hv});var ec=R(Di=>{"use strict";Object.defineProperty(Di,"__esModule",{value:!0});var yv=V(),vv={keyword:"allOf",schemaType:"array",code(r){let{gen:e,schema:t,it:o}=r;if(!Array.isArray(t))throw new Error("ajv implementation error");let n=e.name("valid");t.forEach((a,i)=>{if((0,yv.alwaysValidSchema)(o,a))return;let u=r.subschema({keyword:"allOf",schemaProp:i},n);r.ok(n),r.mergeEvaluated(u)})}};Di.default=vv});var oc=R(qi=>{"use strict";Object.defineProperty(qi,"__esModule",{value:!0});var On=U(),tc=V(),_v={message:({params:r})=>(0,On.str)`must match "${r.ifClause}" schema`,params:({params:r})=>(0,On._)`{failingKeyword: ${r.ifClause}}`},gv={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:_v,code(r){let{gen:e,parentSchema:t,it:o}=r;t.then===void 0&&t.else===void 0&&(0,tc.checkStrictMode)(o,'"if" without "then" and "else" is ignored');let n=rc(o,"then"),a=rc(o,"else");if(!n&&!a)return;let i=e.let("valid",!0),u=e.name("_valid");if(l(),r.reset(),n&&a){let m=e.let("ifClause");r.setParams({ifClause:m}),e.if(u,d("then",m),d("else",m))}else n?e.if(u,d("then")):e.if((0,On.not)(u),d("else"));r.pass(i,()=>r.error(!0));function l(){let m=r.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},u);r.mergeEvaluated(m)}function d(m,v){return()=>{let E=r.subschema({keyword:m},u);e.assign(i,u),r.mergeValidEvaluated(E,i),v?e.assign(v,(0,On._)`${m}`):r.setParams({ifClause:m})}}}};function rc(r,e){let t=r.schema[e];return t!==void 0&&!(0,tc.alwaysValidSchema)(r,t)}qi.default=gv});var nc=R(ji=>{"use strict";Object.defineProperty(ji,"__esModule",{value:!0});var xv=V(),wv={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:r,parentSchema:e,it:t}){e.if===void 0&&(0,xv.checkStrictMode)(t,`"${r}" without "if" is ignored`)}};ji.default=wv});var ac=R(Mi=>{"use strict";Object.defineProperty(Mi,"__esModule",{value:!0});var $v=xi(),Ev=Df(),Sv=wi(),bv=jf(),Pv=Mf(),Av=Ff(),Rv=Wf(),Ov=Ri(),Iv=zf(),Nv=Jf(),Tv=Yf(),Cv=Qf(),kv=Zf(),Dv=ec(),qv=oc(),jv=nc();function Mv(r=!1){let e=[Tv.default,Cv.default,kv.default,Dv.default,qv.default,jv.default,Rv.default,Ov.default,Av.default,Iv.default,Nv.default];return r?e.push(Ev.default,bv.default):e.push($v.default,Sv.default),e.push(Pv.default),e}Mi.default=Mv});var ic=R(Ui=>{"use strict";Object.defineProperty(Ui,"__esModule",{value:!0});var ue=U(),Uv={message:({schemaCode:r})=>(0,ue.str)`must match format "${r}"`,params:({schemaCode:r})=>(0,ue._)`{format: ${r}}`},Lv={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:Uv,code(r,e){let{gen:t,data:o,$data:n,schema:a,schemaCode:i,it:u}=r,{opts:l,errSchemaPath:d,schemaEnv:m,self:v}=u;if(!l.validateFormats)return;n?E():g();function E(){let x=t.scopeValue("formats",{ref:v.formats,code:l.code.formats}),w=t.const("fDef",(0,ue._)`${x}[${i}]`),S=t.let("fType"),h=t.let("format");t.if((0,ue._)`typeof ${w} == "object" && !(${w} instanceof RegExp)`,()=>t.assign(S,(0,ue._)`${w}.type || "string"`).assign(h,(0,ue._)`${w}.validate`),()=>t.assign(S,(0,ue._)`"string"`).assign(h,w)),r.fail$data((0,ue.or)($(),P()));function $(){return l.strictSchema===!1?ue.nil:(0,ue._)`${i} && !${h}`}function P(){let I=m.$async?(0,ue._)`(${w}.async ? await ${h}(${o}) : ${h}(${o}))`:(0,ue._)`${h}(${o})`,O=(0,ue._)`(typeof ${h} == "function" ? ${I} : ${h}.test(${o}))`;return(0,ue._)`${h} && ${h} !== true && ${S} === ${e} && !${O}`}}function g(){let x=v.formats[a];if(!x){$();return}if(x===!0)return;let[w,S,h]=P(x);w===e&&r.pass(I());function $(){if(l.strictSchema===!1){v.logger.warn(O());return}throw new Error(O());function O(){return`unknown format "${a}" ignored in schema at path "${d}"`}}function P(O){let k=O instanceof RegExp?(0,ue.regexpCode)(O):l.code.formats?(0,ue._)`${l.code.formats}${(0,ue.getProperty)(a)}`:void 0,he=t.scopeValue("formats",{key:a,ref:O,code:k});return typeof O=="object"&&!(O instanceof RegExp)?[O.type||"string",O.validate,(0,ue._)`${he}.validate`]:["string",O,he]}function I(){if(typeof x=="object"&&!(x instanceof RegExp)&&x.async){if(!m.$async)throw new Error("async format in sync schema");return(0,ue._)`await ${h}(${o})`}return typeof S=="function"?(0,ue._)`${h}(${o})`:(0,ue._)`${h}.test(${o})`}}}};Ui.default=Lv});var sc=R(Li=>{"use strict";Object.defineProperty(Li,"__esModule",{value:!0});var Fv=ic(),Bv=[Fv.default];Li.default=Bv});var uc=R(wt=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});wt.contentVocabulary=wt.metadataVocabulary=void 0;wt.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];wt.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var cc=R(Fi=>{"use strict";Object.defineProperty(Fi,"__esModule",{value:!0});var Wv=vf(),Kv=Nf(),Vv=ac(),zv=sc(),fc=uc(),Hv=[Wv.default,Kv.default,(0,Vv.default)(),zv.default,fc.metadataVocabulary,fc.contentVocabulary];Fi.default=Hv});var lc=R(bo=>{"use strict";Object.defineProperty(bo,"__esModule",{value:!0});bo.DiscrError=void 0;var Gv;(function(r){r.Tag="tag",r.Mapping="mapping"})(Gv=bo.DiscrError||(bo.DiscrError={}))});var dc=R(Wi=>{"use strict";Object.defineProperty(Wi,"__esModule",{value:!0});var $t=U(),Bi=lc(),pc=mn(),Xv=V(),Jv={message:({params:{discrError:r,tagName:e}})=>r===Bi.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:r,tag:e,tagName:t}})=>(0,$t._)`{error: ${r}, tag: ${t}, tagValue: ${e}}`},Yv={keyword:"discriminator",type:"object",schemaType:"object",error:Jv,code(r){let{gen:e,data:t,schema:o,parentSchema:n,it:a}=r,{oneOf:i}=n;if(!a.opts.discriminator)throw new Error("discriminator: requires discriminator option");let u=o.propertyName;if(typeof u!="string")throw new Error("discriminator: requires propertyName");if(o.mapping)throw new Error("discriminator: mapping is not supported");if(!i)throw new Error("discriminator: requires oneOf keyword");let l=e.let("valid",!1),d=e.const("tag",(0,$t._)`${t}${(0,$t.getProperty)(u)}`);e.if((0,$t._)`typeof ${d} == "string"`,()=>m(),()=>r.error(!1,{discrError:Bi.DiscrError.Tag,tag:d,tagName:u})),r.ok(l);function m(){let g=E();e.if(!1);for(let x in g)e.elseIf((0,$t._)`${d} === ${x}`),e.assign(l,v(g[x]));e.else(),r.error(!1,{discrError:Bi.DiscrError.Mapping,tag:d,tagName:u}),e.endIf()}function v(g){let x=e.name("valid"),w=r.subschema({keyword:"oneOf",schemaProp:g},x);return r.mergeEvaluated(w,$t.Name),x}function E(){var g;let x={},w=h(n),S=!0;for(let I=0;I<i.length;I++){let O=i[I];O?.$ref&&!(0,Xv.schemaHasRulesButRef)(O,a.self.RULES)&&(O=pc.resolveRef.call(a.self,a.schemaEnv.root,a.baseId,O?.$ref),O instanceof pc.SchemaEnv&&(O=O.schema));let k=(g=O?.properties)===null||g===void 0?void 0:g[u];if(typeof k!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${u}"`);S=S&&(w||h(O)),$(k,I)}if(!S)throw new Error(`discriminator: "${u}" must be required`);return x;function h({required:I}){return Array.isArray(I)&&I.includes(u)}function $(I,O){if(I.const)P(I.const,O);else if(I.enum)for(let k of I.enum)P(k,O);else throw new Error(`discriminator: "properties/${u}" must have "const" or "enum"`)}function P(I,O){if(typeof I!="string"||I in x)throw new Error(`discriminator: "${u}" values must be unique strings`);x[I]=O}}}};Wi.default=Yv});var mc=R((pV,Qv)=>{Qv.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var vc=R((ie,yc)=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});ie.MissingRefError=ie.ValidationError=ie.CodeGen=ie.Name=ie.nil=ie.stringify=ie.str=ie._=ie.KeywordCxt=void 0;var Zv=lf(),e_=cc(),r_=dc(),hc=mc(),t_=["/properties"],In="http://json-schema.org/draft-07/schema",Nn=class extends Zv.default{_addVocabularies(){super._addVocabularies(),e_.default.forEach(e=>this.addVocabulary(e)),this.opts.discriminator&&this.addKeyword(r_.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let e=this.opts.$data?this.$dataMetaSchema(hc,t_):hc;this.addMetaSchema(e,In,!1),this.refs["http://json-schema.org/schema"]=In}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(In)?In:void 0)}};yc.exports=ie=Nn;Object.defineProperty(ie,"__esModule",{value:!0});ie.default=Nn;var o_=lo();Object.defineProperty(ie,"KeywordCxt",{enumerable:!0,get:function(){return o_.KeywordCxt}});var Et=U();Object.defineProperty(ie,"_",{enumerable:!0,get:function(){return Et._}});Object.defineProperty(ie,"str",{enumerable:!0,get:function(){return Et.str}});Object.defineProperty(ie,"stringify",{enumerable:!0,get:function(){return Et.stringify}});Object.defineProperty(ie,"nil",{enumerable:!0,get:function(){return Et.nil}});Object.defineProperty(ie,"Name",{enumerable:!0,get:function(){return Et.Name}});Object.defineProperty(ie,"CodeGen",{enumerable:!0,get:function(){return Et.CodeGen}});var n_=ln();Object.defineProperty(ie,"ValidationError",{enumerable:!0,get:function(){return n_.default}});var a_=pn();Object.defineProperty(ie,"MissingRefError",{enumerable:!0,get:function(){return a_.default}})});var i_={};nl(i_,{handleHttp:()=>$c});module.exports=al(i_);var vs=ps(ys(),1),_s=r=>`${(0,vs.default)(r)}`,il=process.env.STAGE||"",To=process.env.AWS_REGION||"",sl={dev:`https://${process.env.API_DOMAIN}/`,local:"http://localhost:4000/dev/"},y_=sl[il]||`https://${process.env.API_DOMAIN}/`,v_=process.env.BUCKET_LOGS||"",__=process.env.BUCKET_EDGES||"",g_=process.env.BUCKET_REVERSE_EDGES||"",x_=process.env.BUCKET_NODES||"",w_=process.env.BUCKET_OWNERS||"",$_=process.env.BUCKET_RIGHTS_ADMIN||"",E_=process.env.BUCKET_RIGHTS_READ||"",S_=process.env.BUCKET_RIGHTS_WRITE||"",b_=process.env.BUCKET_TEST_BEDS||"",pe=process.env.BUCKET_MEDIA||"",ul=process.env.CLOUDFRONT_ACCESS_KEY_ID||"",Ln=process.env.CLOUDFRONT_NEW_ACCESS_KEY_PARAMETER||"",P_=process.env.INVITE_USER_VALIDATION_VIEW||"",A_=process.env.PULL_LAMBDA_NAME||"",R_=process.env.NOTIFICATIONS_EMAIL_ACCOUNT_PARAMETER_NAME||"",gs=process.env.ADMIN_EMAILS||"",O_=process.env.API_DOMAIN||"",fl=process.env.MEDIA_DOMAIN||"",I_=process.env.USER_POOL_ID||"",N_=process.env.CLIENT_ID||"",T_=process.env.CUSTOM_MAIL_MESSAGE_KEY_ARN||"";var C_=process.env.CACHE_CONTAINERS||0,k_=process.env.ENABLE_TRAFFIC_SPLITTING==="false"?!1:process.env.ENABLE_TRAFFIC_SPLITTING||"";var cl=function(){return!0},Fn=cl;function G(r){return r!=null&&typeof r=="object"&&r["@@functional/placeholder"]===!0}function b(r){return function e(t){return arguments.length===0||G(t)?e:r.apply(this,arguments)}}function p(r){return function e(t,o){switch(arguments.length){case 0:return e;case 1:return G(t)?e:b(function(n){return r(t,n)});default:return G(t)&&G(o)?e:G(t)?b(function(n){return r(n,o)}):G(o)?b(function(n){return r(t,n)}):r(t,o)}}}function Me(r,e){r=r||[],e=e||[];var t,o=r.length,n=e.length,a=[];for(t=0;t<o;)a[a.length]=r[t],t+=1;for(t=0;t<n;)a[a.length]=e[t],t+=1;return a}function Pe(r,e){switch(r){case 0:return function(){return e.apply(this,arguments)};case 1:return function(t){return e.apply(this,arguments)};case 2:return function(t,o){return e.apply(this,arguments)};case 3:return function(t,o,n){return e.apply(this,arguments)};case 4:return function(t,o,n,a){return e.apply(this,arguments)};case 5:return function(t,o,n,a,i){return e.apply(this,arguments)};case 6:return function(t,o,n,a,i,u){return e.apply(this,arguments)};case 7:return function(t,o,n,a,i,u,l){return e.apply(this,arguments)};case 8:return function(t,o,n,a,i,u,l,d){return e.apply(this,arguments)};case 9:return function(t,o,n,a,i,u,l,d,m){return e.apply(this,arguments)};case 10:return function(t,o,n,a,i,u,l,d,m,v){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function _r(r,e,t){return function(){for(var o=[],n=0,a=r,i=0;i<e.length||n<arguments.length;){var u;i<e.length&&(!G(e[i])||n>=arguments.length)?u=e[i]:(u=arguments[n],n+=1),o[i]=u,G(u)||(a-=1),i+=1}return a<=0?t.apply(this,o):Pe(a,_r(r,o,t))}}var ll=p(function(e,t){return e===1?b(t):Pe(e,_r(e,[],t))}),le=ll;function N(r){return function e(t,o,n){switch(arguments.length){case 0:return e;case 1:return G(t)?e:p(function(a,i){return r(t,a,i)});case 2:return G(t)&&G(o)?e:G(t)?p(function(a,i){return r(a,o,i)}):G(o)?p(function(a,i){return r(t,a,i)}):b(function(a){return r(t,o,a)});default:return G(t)&&G(o)&&G(n)?e:G(t)&&G(o)?p(function(a,i){return r(a,i,n)}):G(t)&&G(n)?p(function(a,i){return r(a,o,i)}):G(o)&&G(n)?p(function(a,i){return r(t,a,i)}):G(t)?b(function(a){return r(a,o,n)}):G(o)?b(function(a){return r(t,a,n)}):G(n)?b(function(a){return r(t,o,a)}):r(t,o,n)}}}var pl=N(function(e,t,o){var n=o.length;if(e>=n||e<-n)return o;var a=(n+e)%n,i=Me(o);return i[a]=t(o[a]),i}),Bn=pl;var de=Array.isArray||function(e){return e!=null&&e.length>=0&&Object.prototype.toString.call(e)==="[object Array]"};function Tt(r){return r!=null&&typeof r["@@transducer/step"]=="function"}function Y(r,e,t){return function(){if(arguments.length===0)return t();var o=arguments[arguments.length-1];if(!de(o)){for(var n=0;n<r.length;){if(typeof o[r[n]]=="function")return o[r[n]].apply(o,Array.prototype.slice.call(arguments,0,-1));n+=1}if(Tt(o)){var a=e.apply(null,Array.prototype.slice.call(arguments,0,-1));return a(o)}}return t.apply(this,arguments)}}function Xe(r){return r&&r["@@transducer/reduced"]?r:{"@@transducer/value":r,"@@transducer/reduced":!0}}var X={init:function(){return this.xf["@@transducer/init"]()},result:function(r){return this.xf["@@transducer/result"](r)}};function ar(r,e){for(var t=0,o=e.length,n=Array(o);t<o;)n[t]=r(e[t]),t+=1;return n}function ir(r){return Object.prototype.toString.call(r)==="[object String]"}var dl=b(function(e){return de(e)?!0:!e||typeof e!="object"||ir(e)?!1:e.length===0?!0:e.length>0?e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1):!1}),Ct=dl;var ml=function(){function r(e){this.f=e}return r.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},r.prototype["@@transducer/result"]=function(e){return e},r.prototype["@@transducer/step"]=function(e,t){return this.f(e,t)},r}();function Co(r){return new ml(r)}var hl=p(function(e,t){return Pe(e.length,function(){return e.apply(t,arguments)})}),Wn=hl;function yl(r,e,t){for(var o=0,n=t.length;o<n;){if(e=r["@@transducer/step"](e,t[o]),e&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}o+=1}return r["@@transducer/result"](e)}function xs(r,e,t){for(var o=t.next();!o.done;){if(e=r["@@transducer/step"](e,o.value),e&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}o=t.next()}return r["@@transducer/result"](e)}function ws(r,e,t,o){return r["@@transducer/result"](t[o](Wn(r["@@transducer/step"],r),e))}var $s=typeof Symbol<"u"?Symbol.iterator:"@@iterator";function me(r,e,t){if(typeof r=="function"&&(r=Co(r)),Ct(t))return yl(r,e,t);if(typeof t["fantasy-land/reduce"]=="function")return ws(r,e,t,"fantasy-land/reduce");if(t[$s]!=null)return xs(r,e,t[$s]());if(typeof t.next=="function")return xs(r,e,t);if(typeof t.reduce=="function")return ws(r,e,t,"reduce");throw new TypeError("reduce: list must be array or iterable")}var vl=function(){function r(e,t){this.xf=t,this.f=e}return r.prototype["@@transducer/init"]=X.init,r.prototype["@@transducer/result"]=X.result,r.prototype["@@transducer/step"]=function(e,t){return this.xf["@@transducer/step"](e,this.f(t))},r}(),_l=p(function(e,t){return new vl(e,t)}),Es=_l;function oe(r,e){return Object.prototype.hasOwnProperty.call(e,r)}var Ss=Object.prototype.toString,gl=function(){return Ss.call(arguments)==="[object Arguments]"?function(e){return Ss.call(e)==="[object Arguments]"}:function(e){return oe("callee",e)}}(),ko=gl;var xl=!{toString:null}.propertyIsEnumerable("toString"),bs=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Ps=function(){"use strict";return arguments.propertyIsEnumerable("length")}(),wl=function(e,t){for(var o=0;o<e.length;){if(e[o]===t)return!0;o+=1}return!1},$l=typeof Object.keys=="function"&&!Ps?b(function(e){return Object(e)!==e?[]:Object.keys(e)}):b(function(e){if(Object(e)!==e)return[];var t,o,n=[],a=Ps&&ko(e);for(t in e)oe(t,e)&&(!a||t!=="length")&&(n[n.length]=t);if(xl)for(o=bs.length-1;o>=0;)t=bs[o],oe(t,e)&&!wl(n,t)&&(n[n.length]=t),o-=1;return n}),_e=$l;var El=p(Y(["fantasy-land/map","map"],Es,function(e,t){switch(Object.prototype.toString.call(t)){case"[object Function]":return le(t.length,function(){return e.call(this,t.apply(this,arguments))});case"[object Object]":return me(function(o,n){return o[n]=e(t[n]),o},{},_e(t));default:return ar(e,t)}})),Ee=El;var gr=Number.isInteger||function(e){return e<<0===e};var Sl=p(function(e,t){var o=e<0?t.length+e:e;return ir(t)?t.charAt(o):t[o]}),sr=Sl;var bl=p(function(e,t){if(t!=null)return gr(e)?sr(e,t):t[e]}),Je=bl;var Pl=N(me),Ke=Pl;var Al=b(function(e){return function(){return e}}),Dt=Al;function Ur(r){var e=Object.prototype.toString.call(r);return e==="[object Function]"||e==="[object AsyncFunction]"||e==="[object GeneratorFunction]"||e==="[object AsyncGeneratorFunction]"}var Cl=b(function(e){return e===null?"Null":e===void 0?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}),qt=Cl;function Gn(r,e){return function(){return e.call(this,r.apply(this,arguments))}}function Pr(r,e){return function(){var t=arguments.length;if(t===0)return e();var o=arguments[t-1];return de(o)||typeof o[r]!="function"?e.apply(this,arguments):o[r].apply(o,Array.prototype.slice.call(arguments,0,t-1))}}var ql=N(Pr("slice",function(e,t,o){return Array.prototype.slice.call(o,e,t)})),Ue=ql;var jl=b(Pr("tail",Ue(1,1/0))),qo=jl;function xr(){if(arguments.length===0)throw new Error("pipe requires at least one argument");return Pe(arguments[0].length,Ke(Gn,arguments[0],qo(arguments)))}var Ml=b(function(e){return ir(e)?e.split("").reverse().join(""):Array.prototype.slice.call(e,0).reverse()}),jo=Ml;function Ae(){if(arguments.length===0)throw new Error("compose requires at least one argument");return xr.apply(this,jo(arguments))}var Ul=sr(0),Mo=Ul;function Lo(r){for(var e=[],t;!(t=r.next()).done;)e.push(t.value);return e}function Ar(r,e,t){for(var o=0,n=t.length;o<n;){if(r(e,t[o]))return!0;o+=1}return!1}function Xn(r){var e=String(r).match(/^function (\w*)/);return e==null?"":e[1]}function Fl(r,e){return r===e?r!==0||1/r===1/e:r!==r&&e!==e}var jt=typeof Object.is=="function"?Object.is:Fl;function Ns(r,e,t,o){var n=Lo(r),a=Lo(e);function i(u,l){return Mt(u,l,t.slice(),o.slice())}return!Ar(function(u,l){return!Ar(i,l,u)},a,n)}function Mt(r,e,t,o){if(jt(r,e))return!0;var n=qt(r);if(n!==qt(e))return!1;if(typeof r["fantasy-land/equals"]=="function"||typeof e["fantasy-land/equals"]=="function")return typeof r["fantasy-land/equals"]=="function"&&r["fantasy-land/equals"](e)&&typeof e["fantasy-land/equals"]=="function"&&e["fantasy-land/equals"](r);if(typeof r.equals=="function"||typeof e.equals=="function")return typeof r.equals=="function"&&r.equals(e)&&typeof e.equals=="function"&&e.equals(r);switch(n){case"Arguments":case"Array":case"Object":if(typeof r.constructor=="function"&&Xn(r.constructor)==="Promise")return r===e;break;case"Boolean":case"Number":case"String":if(!(typeof r==typeof e&&jt(r.valueOf(),e.valueOf())))return!1;break;case"Date":if(!jt(r.valueOf(),e.valueOf()))return!1;break;case"Error":return r.name===e.name&&r.message===e.message;case"RegExp":if(!(r.source===e.source&&r.global===e.global&&r.ignoreCase===e.ignoreCase&&r.multiline===e.multiline&&r.sticky===e.sticky&&r.unicode===e.unicode))return!1;break}for(var a=t.length-1;a>=0;){if(t[a]===r)return o[a]===e;a-=1}switch(n){case"Map":return r.size!==e.size?!1:Ns(r.entries(),e.entries(),t.concat([r]),o.concat([e]));case"Set":return r.size!==e.size?!1:Ns(r.values(),e.values(),t.concat([r]),o.concat([e]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var i=_e(r);if(i.length!==_e(e).length)return!1;var u=t.concat([r]),l=o.concat([e]);for(a=i.length-1;a>=0;){var d=i[a];if(!(oe(d,e)&&Mt(e[d],r[d],u,l)))return!1;a-=1}return!0}var Bl=p(function(e,t){return Mt(e,t,[],[])}),Re=Bl;function Fo(r,e,t){var o,n;if(typeof r.indexOf=="function")switch(typeof e){case"number":if(e===0){for(o=1/e;t<r.length;){if(n=r[t],n===0&&1/n===o)return t;t+=1}return-1}else if(e!==e){for(;t<r.length;){if(n=r[t],typeof n=="number"&&n!==n)return t;t+=1}return-1}return r.indexOf(e,t);case"string":case"boolean":case"function":case"undefined":return r.indexOf(e,t);case"object":if(e===null)return r.indexOf(e,t)}for(;t<r.length;){if(Re(r[t],e))return t;t+=1}return-1}function Lr(r,e){return Fo(e,r,0)>=0}function Ut(r){var e=r.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0");return'"'+e.replace(/"/g,'\\"')+'"'}var Lt=function(e){return(e<10?"0":"")+e},Wl=typeof Date.prototype.toISOString=="function"?function(e){return e.toISOString()}:function(e){return e.getUTCFullYear()+"-"+Lt(e.getUTCMonth()+1)+"-"+Lt(e.getUTCDate())+"T"+Lt(e.getUTCHours())+":"+Lt(e.getUTCMinutes())+":"+Lt(e.getUTCSeconds())+"."+(e.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"},Ts=Wl;function Bo(r){return function(){return!r.apply(this,arguments)}}function Ft(r,e){for(var t=0,o=e.length,n=[];t<o;)r(e[t])&&(n[n.length]=e[t]),t+=1;return n}function ur(r){return Object.prototype.toString.call(r)==="[object Object]"}var Kl=function(){function r(e,t){this.xf=t,this.f=e}return r.prototype["@@transducer/init"]=X.init,r.prototype["@@transducer/result"]=X.result,r.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.xf["@@transducer/step"](e,t):e},r}(),Vl=p(function(e,t){return new Kl(e,t)}),Cs=Vl;var zl=p(Y(["fantasy-land/filter","filter"],Cs,function(r,e){return ur(e)?me(function(t,o){return r(e[o])&&(t[o]=e[o]),t},{},_e(e)):Ft(r,e)})),Wo=zl;var Hl=p(function(e,t){return Wo(Bo(e),t)}),Bt=Hl;function Wt(r,e){var t=function(i){var u=e.concat([r]);return Lr(i,u)?"<Circular>":Wt(i,u)},o=function(a,i){return ar(function(u){return Ut(u)+": "+t(a[u])},i.slice().sort())};switch(Object.prototype.toString.call(r)){case"[object Arguments]":return"(function() { return arguments; }("+ar(t,r).join(", ")+"))";case"[object Array]":return"["+ar(t,r).concat(o(r,Bt(function(a){return/^\d+$/.test(a)},_e(r)))).join(", ")+"]";case"[object Boolean]":return typeof r=="object"?"new Boolean("+t(r.valueOf())+")":r.toString();case"[object Date]":return"new Date("+(isNaN(r.valueOf())?t(NaN):Ut(Ts(r)))+")";case"[object Null]":return"null";case"[object Number]":return typeof r=="object"?"new Number("+t(r.valueOf())+")":1/r===-1/0?"-0":r.toString(10);case"[object String]":return typeof r=="object"?"new String("+t(r.valueOf())+")":Ut(r);case"[object Undefined]":return"undefined";default:if(typeof r.toString=="function"){var n=r.toString();if(n!=="[object Object]")return n}return"{"+o(r,_e(r)).join(", ")+"}"}}var Gl=b(function(e){return Wt(e,[])}),Kt=Gl;var Xl=b(function(e){return le(e.length,e)}),Vt=Xl;var Yl=p(function(e,t){return t==null||t!==t?e:t}),Vo=Yl;var ep=function(){function r(e,t){this.xf=t,this.n=e,this.i=0}return r.prototype["@@transducer/init"]=X.init,r.prototype["@@transducer/result"]=X.result,r.prototype["@@transducer/step"]=function(e,t){this.i+=1;var o=this.n===0?e:this.xf["@@transducer/step"](e,t);return this.n>=0&&this.i>=this.n?Xe(o):o},r}(),rp=p(function(e,t){return new ep(e,t)}),qs=rp;var tp=p(Y(["take"],qs,function(e,t){return Ue(0,e<0?1/0:e,t)})),ft=tp;function Yn(r){var e=Object.prototype.toString.call(r);return e==="[object Uint8ClampedArray]"||e==="[object Int8Array]"||e==="[object Uint8Array]"||e==="[object Int16Array]"||e==="[object Uint16Array]"||e==="[object Int32Array]"||e==="[object Uint32Array]"||e==="[object Float32Array]"||e==="[object Float64Array]"||e==="[object BigInt64Array]"||e==="[object BigUint64Array]"}var ip=b(function(e){return e!=null&&typeof e["fantasy-land/empty"]=="function"?e["fantasy-land/empty"]():e!=null&&e.constructor!=null&&typeof e.constructor["fantasy-land/empty"]=="function"?e.constructor["fantasy-land/empty"]():e!=null&&typeof e.empty=="function"?e.empty():e!=null&&e.constructor!=null&&typeof e.constructor.empty=="function"?e.constructor.empty():de(e)?[]:ir(e)?"":ur(e)?{}:ko(e)?function(){return arguments}():Yn(e)?e.constructor.from(""):void 0}),Qn=ip;var lp=p(function(e,t){return le(e+1,function(){var o=arguments[e];if(o!=null&&Ur(o[t]))return o[t].apply(o,Array.prototype.slice.call(arguments,0,e));throw new TypeError(Kt(o)+' does not have a method named "'+t+'"')})}),ct=lp;var pp=p(function(e,t){return t instanceof e||t!=null&&(t.constructor===e||e.name==="Object"&&typeof t=="object")}),zo=pp;var dp=b(function(e){return e!=null&&Re(e,Qn(e))}),ra=dp;var hp=p(function(e,t){return function(o){return function(n){return Ee(function(a){return t(a,n)},o(e(n)))}}}),zt=hp;var yp=N(function(e,t,o){return Bn(e,Dt(t),o)}),ta=yp;var vp=b(function(e){return zt(sr(e),ta(e))}),oa=vp;var gp=p(function(e,t){return t.match(e)||[]}),na=gp;var $p=N(function(e,t,o){var n={},a;for(a in t)oe(a,t)&&(n[a]=oe(a,o)?e(a,t[a],o[a]):t[a]);for(a in o)oe(a,o)&&!oe(a,n)&&(n[a]=o[a]);return n}),Ho=$p;var Ep=N(function r(e,t,o){return Ho(function(n,a,i){return ur(a)&&ur(i)?r(e,a,i):e(n,a,i)},t,o)}),Gt=Ep;var Sp=p(function(e,t){return Gt(function(o,n,a){return a},e,t)}),Go=Sp;var Cp=N(function(e,t,o){return Vo(e,Je(t,o))}),aa=Cp;var Mp=ct(1,"split"),fr=Mp;var Bp=function(){function r(e,t){this.xf=t,this.f=e}return r.prototype["@@transducer/init"]=X.init,r.prototype["@@transducer/result"]=X.result,r.prototype["@@transducer/step"]=function(e,t){return this.f(t),this.xf["@@transducer/step"](e,t)},r}(),Wp=p(function(e,t){return new Bp(e,t)}),Ws=Wp;var Kp=p(Y([],Ws,function(e,t){return e(t),t})),ia=Kp;var wD=typeof String.prototype.trim=="function";var Gp=function(r){return{value:r,"fantasy-land/map":function(){return this}}},Xp=p(function(e,t){return e(Gp)(t).value}),sa=Xp;var Jp=N(function(e,t,o){return e(o)?t(o):o}),ua=Jp;var cd=require("@aws-sdk/s3-request-presigner"),ge=require("@aws-sdk/client-s3");var Ks=()=>new Date().toISOString(),UW=Ae(ft(10),Ks),LW=Ae(ft(7),Ks),Jo={"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"*","Access-Control-Allow-Credentials":!0},Vs=/^(([^<>()[\]\\.,;:\s@"A-Z]+(\.[^<>()[\]\\.,;:\s@"A-Z]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-z\-0-9]+\.)+[a-z]{2,}))$/,FW=ia(console.log),id=r=>Buffer.from(r,"base64").toString("utf-8"),zs=xr(fr("."),sa(oa(1)),id,JSON.parse),lt=Vt((r,e)=>{try{return JSON.parse(e)}catch{return r}});var fa=r=>Promise.all(r);var BW=Ae(zo(Function),aa(!1,"then"));var ca=r=>({statusCode:400,headers:Jo,body:JSON.stringify(r)}),Hs=r=>({statusCode:401,headers:Jo,body:r?JSON.stringify(r):"Unauthorized"});var wr={toEdge:r=>xr(fr("/"),e=>({fromType:e[0],from:e[1],toType:e[2],to:e[3]}))(r),reverseEdge:r=>({...r,fromType:r.toType,from:r.to,toType:r.fromType,to:r.from}),fromEdge:r=>`${r.from}/${r.fromType}/${r.toType}/${r.to}`,toEdgeTuple:r=>Ae(([e,t,o,n])=>[t,e,o,n],fr("/"))(r),fromEdgeTuple:([r,e,t,o])=>`${e}/${r}/${t}/${o}`,toScope:r=>{let e=r.slice(0,-1).lastIndexOf(".");return e===-1?"":r.substring(0,e+1)},fromNodeIdWildcard:r=>r.slice(-1)!=="*"?"":r.slice(0,-1),toRight:r=>xr(fr("/"),e=>({nodeId:e[0],principalType:e[1],principal:e[2]}))(r),fromRight:r=>`${r.nodeId}/${r.principalType}/${r.principal}`,toOwnership:r=>xr(fr("/"),e=>({nodeId:e[0],principal:e[2]}))(r),fromOwnership:r=>`${r.nodeId}/user/${r.principal}`,filePrefix:(r,e)=>_s(`${r}/${e}`),toFileKey:({nodeId:r,prop:e,filename:t})=>`file/${wr.filePrefix(r,e)}/${t}`,toFileRefKey:({nodeId:r,prop:e})=>`ref/${r}/${e}`,toFileMetadataKey:({fileKey:r})=>`metadata/${r}`,toLogKey:({type:r,userEmail:e,timestamp:t,requestId:o})=>`${r}/${e}/${t}/${o}`,fromLogKey:Ae(([r,e,t,o])=>({type:r,userEmail:e,timestamp:t,requestId:o}),fr("/"))},WW=Ke(Go,{});var KW=ua(ra,Fn);var Yo=require("@aws-sdk/client-ssm");var sd=new Yo.SSMClient({region:To,apiVersion:"latest"}),Gs=async(r,e=!1)=>{let t=new Yo.GetParameterCommand({Name:r,WithDecryption:e});try{let o=await sd.send(t);return o.Parameter?o.Parameter.Value:void 0}catch(o){console.log(o);return}};var ud=require("@aws-sdk/cloudfront-signer"),fd=()=>{let r=null;return async()=>(r||(r=Gs(Ln||"CLOUDFRONT_ACCESS_KEY",!0).catch(console.log)),r)},JW=fd();var Rr=new ge.S3Client({region:To,signatureVersion:"v4",apiVersion:"latest"}),ld=r=>new Promise((e,t)=>{let o=[];r.on("data",n=>o.push(n)),r.on("error",t),r.on("end",()=>e(Buffer.concat(o)))}),Qo=async(r,e,t)=>{let o=t?Buffer.from(JSON.stringify(t)):void 0,n=new ge.PutObjectCommand({Bucket:r,Key:e,Body:o});try{await Rr.send(n);return}catch(a){console.error(a);return}},Xs=async(r,e,t,{contentType:o})=>{let n=new ge.PutObjectCommand({Bucket:r,Key:e,Body:t,ContentType:o});try{await Rr.send(n);return}catch(a){console.error(a);return}};var Js=async(r,e,{uploadId:t,partEtags:o})=>{let n=new ge.CompleteMultipartUploadCommand({Bucket:r,Key:e,MultipartUpload:{Parts:o.map((a,i)=>({ETag:a,PartNumber:i+1}))},UploadId:t});try{return await Rr.send(n),!0}catch(a){throw console.error(a),a}},Xt=async(r,e)=>{let t=new ge.GetObjectCommand({Bucket:r,Key:e});try{let o=await Rr.send(t);return o.Body?ld(o.Body):null}catch{return}},Jt=async(r,e)=>{let t=new ge.DeleteObjectCommand({Bucket:r,Key:e});try{await Rr.send(t);return}catch{return}},la=async(r,e)=>{let t=new ge.HeadObjectCommand({Bucket:r,Key:e});try{return await Rr.send(t),!0}catch{return!1}},Ys=async(r,e)=>{let t=new ge.HeadObjectCommand({Bucket:r,Key:e});try{let o=await Rr.send(t);return{etag:o.ETag||"",contentType:o.ContentType||"",modifiedDate:o.LastModified.toISOString()||"",metadata:o.Metadata,size:o.ContentLength||0}}catch{return!1}};var Qs=async(r,e)=>{let t=new ge.ListObjectsV2Command({Bucket:r,Prefix:e});try{return(await Rr.send(t)).Contents||[]}catch{return[]}};var _c=ps(vc(),1);var gc=(r,e,{auth:t=!0}={})=>new Promise((o,n)=>{let a;try{t?a=zs(e.headers.Authorization||e.headers.authorization||""):a={}}catch{n(Hs());return}try{let i=lt(e.body||{},e.body||""),u=new _c.default;if(u.addKeyword("example"),u.validate(r,i)){let d=a.email,m=e.headers["x-as-role"]||"user",v=!!e.headers["x-as-admin"]&&gs.includes(d);o({userEmail:d,body:i,asAdmin:v,asRole:m})}else n(ca(u.errors))}catch(i){n(ca(i.message))}}),xc=r=>Ae(Mo,na(r)),hV=xc(Vs),yV=xc(/.*[0-9].*/);var wc={type:"object",additionalProperties:!1,properties:{uploadId:{type:"string",description:""},partEtags:{type:"array",description:"",items:{type:"string"}}},required:["uploadId","partEtags"]};var Tn={head:async({fileKey:r})=>Ys(pe,r).then(e=>e||{}),get:async({fileKey:r})=>Xt(pe,r),getRef:async({nodeId:r,prop:e})=>Xt(pe,wr.toFileRefKey({nodeId:r,prop:e})).then(lt({})).then(({fileKey:t})=>({fileKey:t})),getUploadId:async({uploadId:r})=>Xt(pe,r).then(lt({})).then(({fileKey:e})=>({fileKey:e})),getMetadata:async({fileKey:r})=>Xt(pe,wr.toFileMetadataKey({fileKey:r})).then(lt(!1)),put:async({fileKey:r,file:e,contentType:t})=>Xs(pe,r,e,{contentType:t}).then(()=>{}),putRef:async({nodeId:r,prop:e,fileKey:t})=>Qo(pe,wr.toFileRefKey({nodeId:r,prop:e}),{fileKey:t}).then(()=>{}),putUploadId:async({uploadId:r,fileKey:e})=>Qo(pe,r,{fileKey:e}).then(()=>{}),putMetadata:async({fileKey:r,metadata:e})=>Qo(pe,wr.toFileMetadataKey({fileKey:r}),e).then(()=>{}),delete:async({fileKey:r})=>Jt(pe,r),deleteRef:async({nodeId:r,prop:e})=>Jt(pe,wr.toFileRefKey({nodeId:r,prop:e})),deleteUploadId:async({uploadId:r})=>Jt(pe,r).then(()=>{}),deleteMetadata:async({fileKey:r})=>Jt(pe,wr.toFileMetadataKey({fileKey:r})).then(()=>{}),exists:async({fileKey:r})=>la(pe,r),existsRef:async({nodeId:r,prop:e})=>la(pe,wr.toFileRefKey({nodeId:r,prop:e})),listRefs:async r=>Qs(pe,`ref/${r}`).then(Ae(fa,Ee(Ae(async e=>{let[,,t]=fr("/",e),{fileKey:o}=await Tn.getRef({nodeId:r,prop:t});return{prop:t,fileKey:o}},Je("Key")))))};var $c=async r=>gc(wc,r).then(async({body:{uploadId:e,partEtags:t}})=>{let{fileKey:o}=await Tn.getUploadId({uploadId:e});return await Js(pe,o,{uploadId:e,partEtags:t}),await Tn.deleteUploadId({uploadId:e}),{statusCode:204,headers:Jo,body:""}}).catch(e=>(console.error(e),e));0&&(module.exports={handleHttp});
/*! Bundled license information:

uri-js/dist/es5/uri.all.js:
  (** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js *)
*/
