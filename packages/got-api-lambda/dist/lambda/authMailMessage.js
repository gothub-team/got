var bU=Object.create;var Ru=Object.defineProperty;var EU=Object.getOwnPropertyDescriptor;var AU=Object.getOwnPropertyNames;var MU=Object.getPrototypeOf,SU=Object.prototype.hasOwnProperty;var l=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),IU=(t,e)=>{for(var r in e)Ru(t,r,{get:e[r],enumerable:!0})},lq=(t,e,r,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of AU(e))!SU.call(t,n)&&n!==r&&Ru(t,n,{get:()=>e[n],enumerable:!(i=EU(e,n))||i.enumerable});return t};var ku=(t,e,r)=>(r=t!=null?bU(MU(t)):{},lq(e||!t||!t.__esModule?Ru(r,"default",{value:t,enumerable:!0}):r,t)),OU=t=>lq(Ru({},"__esModule",{value:!0}),t);var kq=l((WJe,Rq)=>{var O4=function(){return!1};Rq.exports=O4});var Kq=l((VJe,Lq)=>{var P4=function(){return!0};Lq.exports=P4});var Bq=l((YJe,Fq)=>{Fq.exports={"@@functional/placeholder":!0}});var ss=l((XJe,Hq)=>{function T4(t){return t!=null&&typeof t=="object"&&t["@@functional/placeholder"]===!0}Hq.exports=T4});var Z=l((ZJe,Uq)=>{var N4=ss();function C4(t){return function e(r){return arguments.length===0||N4(r)?e:t.apply(this,arguments)}}Uq.exports=C4});var k=l(($Je,Gq)=>{var oy=Z(),us=ss();function D4(t){return function e(r,i){switch(arguments.length){case 0:return e;case 1:return us(r)?e:oy(function(n){return t(r,n)});default:return us(r)&&us(i)?e:us(r)?oy(function(n){return t(n,i)}):us(i)?oy(function(n){return t(r,n)}):t(r,i)}}}Gq.exports=D4});var ls=l((QJe,jq)=>{var R4=k(),k4=R4(function(e,r){return Number(e)+Number(r)});jq.exports=k4});var ir=l((JJe,zq)=>{function L4(t,e){t=t||[],e=e||[];var r,i=t.length,n=e.length,a=[];for(r=0;r<i;)a[a.length]=t[r],r+=1;for(r=0;r<n;)a[a.length]=e[r],r+=1;return a}zq.exports=L4});var Ar=l((eet,Wq)=>{function K4(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(r){return e.apply(this,arguments)};case 2:return function(r,i){return e.apply(this,arguments)};case 3:return function(r,i,n){return e.apply(this,arguments)};case 4:return function(r,i,n,a){return e.apply(this,arguments)};case 5:return function(r,i,n,a,o){return e.apply(this,arguments)};case 6:return function(r,i,n,a,o,u){return e.apply(this,arguments)};case 7:return function(r,i,n,a,o,u,p){return e.apply(this,arguments)};case 8:return function(r,i,n,a,o,u,p,_){return e.apply(this,arguments)};case 9:return function(r,i,n,a,o,u,p,_,b){return e.apply(this,arguments)};case 10:return function(r,i,n,a,o,u,p,_,b,A){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}Wq.exports=K4});var wn=l((tet,Xq)=>{var F4=Ar(),Vq=ss();function Yq(t,e,r){return function(){for(var i=[],n=0,a=t,o=0;o<e.length||n<arguments.length;){var u;o<e.length&&(!Vq(e[o])||n>=arguments.length)?u=e[o]:(u=arguments[n],n+=1),i[o]=u,Vq(u)||(a-=1),o+=1}return a<=0?r.apply(this,i):F4(a,Yq(t,i,r))}}Xq.exports=Yq});var gt=l((ret,Zq)=>{var B4=Ar(),H4=Z(),U4=k(),G4=wn(),j4=U4(function(e,r){return e===1?H4(r):B4(e,G4(e,[],r))});Zq.exports=j4});var Qq=l((iet,$q)=>{var z4=ir(),W4=Z(),V4=gt(),Y4=W4(function(e){return V4(e.length,function(){var r=0,i=arguments[0],n=arguments[arguments.length-1],a=Array.prototype.slice.call(arguments,0);return a[0]=function(){var o=i.apply(this,z4(arguments,[r,n]));return r+=1,o},e.apply(this,a)})});$q.exports=Y4});var $=l((net,Jq)=>{var Qu=Z(),$n=k(),Et=ss();function X4(t){return function e(r,i,n){switch(arguments.length){case 0:return e;case 1:return Et(r)?e:$n(function(a,o){return t(r,a,o)});case 2:return Et(r)&&Et(i)?e:Et(r)?$n(function(a,o){return t(a,i,o)}):Et(i)?$n(function(a,o){return t(r,a,o)}):Qu(function(a){return t(r,i,a)});default:return Et(r)&&Et(i)&&Et(n)?e:Et(r)&&Et(i)?$n(function(a,o){return t(a,o,n)}):Et(r)&&Et(n)?$n(function(a,o){return t(a,i,o)}):Et(i)&&Et(n)?$n(function(a,o){return t(r,a,o)}):Et(r)?Qu(function(a){return t(a,i,n)}):Et(i)?Qu(function(a){return t(r,a,n)}):Et(n)?Qu(function(a){return t(r,i,a)}):t(r,i,n)}}}Jq.exports=X4});var sy=l((aet,eb)=>{var Z4=ir(),$4=$(),Q4=$4(function(e,r,i){var n=i.length;if(e>=n||e<-n)return i;var a=(n+e)%n,o=Z4(i);return o[a]=r(i[a]),o});eb.exports=Q4});var It=l((oet,tb)=>{tb.exports=Array.isArray||function(e){return e!=null&&e.length>=0&&Object.prototype.toString.call(e)==="[object Array]"}});var Ju=l((set,rb)=>{function J4(t){return t!=null&&typeof t["@@transducer/step"]=="function"}rb.exports=J4});var ot=l((uet,ib)=>{var ej=It(),tj=Ju();function rj(t,e,r){return function(){if(arguments.length===0)return r();var i=arguments[arguments.length-1];if(!ej(i)){for(var n=0;n<t.length;){if(typeof i[t[n]]=="function")return i[t[n]].apply(i,Array.prototype.slice.call(arguments,0,-1));n+=1}if(tj(i)){var a=e.apply(null,Array.prototype.slice.call(arguments,0,-1));return a(i)}}return r.apply(this,arguments)}}ib.exports=rj});var Br=l((cet,nb)=>{function ij(t){return t&&t["@@transducer/reduced"]?t:{"@@transducer/value":t,"@@transducer/reduced":!0}}nb.exports=ij});var st=l((fet,ab)=>{ab.exports={init:function(){return this.xf["@@transducer/init"]()},result:function(t){return this.xf["@@transducer/result"](t)}}});var sb=l((pet,ob)=>{var nj=k(),aj=Br(),oj=st(),sj=function(){function t(e,r){this.xf=r,this.f=e,this.all=!0}return t.prototype["@@transducer/init"]=oj.init,t.prototype["@@transducer/result"]=function(e){return this.all&&(e=this.xf["@@transducer/step"](e,!0)),this.xf["@@transducer/result"](e)},t.prototype["@@transducer/step"]=function(e,r){return this.f(r)||(this.all=!1,e=aj(this.xf["@@transducer/step"](e,!1))),e},t}(),uj=nj(function(e,r){return new sj(e,r)});ob.exports=uj});var uy=l((det,ub)=>{var lj=k(),cj=ot(),fj=sb(),pj=lj(cj(["all"],fj,function(e,r){for(var i=0;i<r.length;){if(!e(r[i]))return!1;i+=1}return!0}));ub.exports=pj});var qn=l((het,lb)=>{var dj=k(),hj=dj(function(e,r){return r>e?r:e});lb.exports=hj});var Qn=l((met,cb)=>{function mj(t,e){for(var r=0,i=e.length,n=Array(i);r<i;)n[r]=t(e[r]),r+=1;return n}cb.exports=mj});var Jn=l((vet,fb)=>{function vj(t){return Object.prototype.toString.call(t)==="[object String]"}fb.exports=vj});var cs=l((yet,pb)=>{var yj=Z(),_j=It(),gj=Jn(),xj=yj(function(e){return _j(e)?!0:!e||typeof e!="object"||gj(e)?!1:e.length===0?!0:e.length>0?e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1):!1});pb.exports=xj});var ly=l((_et,db)=>{var wj=function(){function t(e){this.f=e}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(e){return e},t.prototype["@@transducer/step"]=function(e,r){return this.f(e,r)},t}();function qj(t){return new wj(t)}db.exports=qj});var cy=l((get,hb)=>{var bj=Ar(),Ej=k(),Aj=Ej(function(e,r){return bj(e.length,function(){return e.apply(r,arguments)})});hb.exports=Aj});var Ot=l((xet,_b)=>{var Mj=cs(),Sj=ly(),Ij=cy();function Oj(t,e,r){for(var i=0,n=r.length;i<n;){if(e=t["@@transducer/step"](e,r[i]),e&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}i+=1}return t["@@transducer/result"](e)}function mb(t,e,r){for(var i=r.next();!i.done;){if(e=t["@@transducer/step"](e,i.value),e&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}i=r.next()}return t["@@transducer/result"](e)}function vb(t,e,r,i){return t["@@transducer/result"](r[i](Ij(t["@@transducer/step"],t),e))}var yb=typeof Symbol<"u"?Symbol.iterator:"@@iterator";function Pj(t,e,r){if(typeof t=="function"&&(t=Sj(t)),Mj(r))return Oj(t,e,r);if(typeof r["fantasy-land/reduce"]=="function")return vb(t,e,r,"fantasy-land/reduce");if(r[yb]!=null)return mb(t,e,r[yb]());if(typeof r.next=="function")return mb(t,e,r);if(typeof r.reduce=="function")return vb(t,e,r,"reduce");throw new TypeError("reduce: list must be array or iterable")}_b.exports=Pj});var wb=l((wet,xb)=>{var Tj=k(),gb=st(),Nj=function(){function t(e,r){this.xf=r,this.f=e}return t.prototype["@@transducer/init"]=gb.init,t.prototype["@@transducer/result"]=gb.result,t.prototype["@@transducer/step"]=function(e,r){return this.xf["@@transducer/step"](e,this.f(r))},t}(),Cj=Tj(function(e,r){return new Nj(e,r)});xb.exports=Cj});var Pt=l((qet,qb)=>{function Dj(t,e){return Object.prototype.hasOwnProperty.call(e,t)}qb.exports=Dj});var fy=l((bet,Eb)=>{var Rj=Pt(),bb=Object.prototype.toString,kj=function(){return bb.call(arguments)==="[object Arguments]"?function(e){return bb.call(e)==="[object Arguments]"}:function(e){return Rj("callee",e)}}();Eb.exports=kj});var nr=l((Eet,Ob)=>{var Ab=Z(),Mb=Pt(),Lj=fy(),Kj=!{toString:null}.propertyIsEnumerable("toString"),Sb=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Ib=function(){"use strict";return arguments.propertyIsEnumerable("length")}(),Fj=function(e,r){for(var i=0;i<e.length;){if(e[i]===r)return!0;i+=1}return!1},Bj=Ab(typeof Object.keys=="function"&&!Ib?function(e){return Object(e)!==e?[]:Object.keys(e)}:function(e){if(Object(e)!==e)return[];var r,i,n=[],a=Ib&&Lj(e);for(r in e)Mb(r,e)&&(!a||r!=="length")&&(n[n.length]=r);if(Kj)for(i=Sb.length-1;i>=0;)r=Sb[i],Mb(r,e)&&!Fj(n,r)&&(n[n.length]=r),i-=1;return n});Ob.exports=Bj});var ar=l((Aet,Pb)=>{var Hj=k(),Uj=ot(),Gj=Qn(),jj=Ot(),zj=wb(),Wj=gt(),Vj=nr(),Yj=Hj(Uj(["fantasy-land/map","map"],zj,function(e,r){switch(Object.prototype.toString.call(r)){case"[object Function]":return Wj(r.length,function(){return e.call(this,r.apply(this,arguments))});case"[object Object]":return jj(function(i,n){return i[n]=e(r[n]),i},{},Vj(r));default:return Gj(e,r)}}));Pb.exports=Yj});var ui=l((Met,Tb)=>{Tb.exports=Number.isInteger||function(e){return e<<0===e}});var Si=l((Iet,Nb)=>{var Xj=k(),Zj=Jn(),$j=Xj(function(e,r){var i=e<0?r.length+e:e;return Zj(r)?r.charAt(i):r[i]});Nb.exports=$j});var Ii=l((Oet,Cb)=>{var Qj=k(),Jj=ui(),e8=Si(),t8=Qj(function(e,r){if(r!=null)return Jj(e)?e8(e,r):r[e]});Cb.exports=t8});var ea=l((Pet,Db)=>{var r8=k(),i8=ar(),n8=Ii(),a8=r8(function(e,r){return i8(n8(e),r)});Db.exports=a8});var Hr=l((Tet,Rb)=>{var o8=$(),s8=Ot(),u8=o8(s8);Rb.exports=u8});var Lb=l((Net,kb)=>{var l8=Z(),c8=gt(),f8=qn(),p8=ea(),d8=Hr(),h8=l8(function(e){return c8(d8(f8,0,p8("length",e)),function(){for(var r=0,i=e.length;r<i;){if(!e[r].apply(this,arguments))return!1;r+=1}return!0})});kb.exports=h8});var fs=l((Cet,Kb)=>{var m8=Z(),v8=m8(function(e){return function(){return e}});Kb.exports=v8});var py=l((Det,Fb)=>{var y8=k(),_8=y8(function(e,r){return e&&r});Fb.exports=_8});var Hb=l((Ret,Bb)=>{var g8=k(),x8=Br(),w8=st(),q8=function(){function t(e,r){this.xf=r,this.f=e,this.any=!1}return t.prototype["@@transducer/init"]=w8.init,t.prototype["@@transducer/result"]=function(e){return this.any||(e=this.xf["@@transducer/step"](e,!1)),this.xf["@@transducer/result"](e)},t.prototype["@@transducer/step"]=function(e,r){return this.f(r)&&(this.any=!0,e=x8(this.xf["@@transducer/step"](e,!0))),e},t}(),b8=g8(function(e,r){return new q8(e,r)});Bb.exports=b8});var Gb=l((ket,Ub)=>{var E8=k(),A8=ot(),M8=Hb(),S8=E8(A8(["any"],M8,function(e,r){for(var i=0;i<r.length;){if(e(r[i]))return!0;i+=1}return!1}));Ub.exports=S8});var zb=l((Let,jb)=>{var I8=Z(),O8=gt(),P8=qn(),T8=ea(),N8=Hr(),C8=I8(function(e){return O8(N8(P8,0,T8("length",e)),function(){for(var r=0,i=e.length;r<i;){if(e[r].apply(this,arguments))return!0;r+=1}return!1})});jb.exports=C8});var el=l((Ket,Wb)=>{var D8=ir(),R8=k(),k8=Ot(),L8=ar(),K8=R8(function(e,r){return typeof r["fantasy-land/ap"]=="function"?r["fantasy-land/ap"](e):typeof e.ap=="function"?e.ap(r):typeof e=="function"?function(i){return e(i)(r(i))}:k8(function(i,n){return D8(i,L8(n,r))},[],e)});Wb.exports=K8});var Yb=l((Fet,Vb)=>{function F8(t,e){for(var r=0,i=e.length-(t-1),n=new Array(i>=0?i:0);r<i;)n[r]=Array.prototype.slice.call(e,r,r+t),r+=1;return n}Vb.exports=F8});var Zb=l((Bet,Xb)=>{var B8=ir(),H8=k(),U8=st(),G8=function(){function t(e,r){this.xf=r,this.pos=0,this.full=!1,this.acc=new Array(e)}return t.prototype["@@transducer/init"]=U8.init,t.prototype["@@transducer/result"]=function(e){return this.acc=null,this.xf["@@transducer/result"](e)},t.prototype["@@transducer/step"]=function(e,r){return this.store(r),this.full?this.xf["@@transducer/step"](e,this.getCopy()):e},t.prototype.store=function(e){this.acc[this.pos]=e,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},t.prototype.getCopy=function(){return B8(Array.prototype.slice.call(this.acc,this.pos),Array.prototype.slice.call(this.acc,0,this.pos))},t}(),j8=H8(function(e,r){return new G8(e,r)});Xb.exports=j8});var Qb=l((Het,$b)=>{var z8=Yb(),W8=k(),V8=ot(),Y8=Zb(),X8=W8(V8([],Y8,z8));$b.exports=X8});var e1=l((Uet,Jb)=>{var Z8=ir(),$8=k(),Q8=$8(function(e,r){return Z8(r,[e])});Jb.exports=Q8});var dy=l((Get,t1)=>{var J8=k(),ez=J8(function(e,r){return e.apply(this,r)});t1.exports=ez});var hy=l((jet,r1)=>{var tz=Z(),rz=nr(),iz=tz(function(e){for(var r=rz(e),i=r.length,n=[],a=0;a<i;)n[a]=e[r[a]],a+=1;return n});r1.exports=iz});var a1=l((zet,n1)=>{var nz=Z(),az=It(),oz=dy(),sz=gt(),uz=qn(),lz=ea(),cz=Hr(),fz=nr(),pz=hy();function i1(t,e){return az(e)?e.map(t):fz(e).reduce(function(r,i){return r[i]=t(e[i]),r},{})}var dz=nz(function t(e){return e=i1(function(r){return typeof r=="function"?r:t(r)},e),sz(cz(uz,0,lz("length",pz(e))),function(){var r=arguments;return i1(function(i){return oz(i,r)},e)})});n1.exports=dz});var s1=l((Wet,o1)=>{var hz=k(),mz=hz(function(e,r){return r(e)});o1.exports=mz});var l1=l((Vet,u1)=>{var vz=$(),yz=vz(function(e,r,i){var n=e(r),a=e(i);return n<a?-1:n>a?1:0});u1.exports=yz});var tl=l((Yet,c1)=>{var _z=It(),gz=ui();function xz(t,e,r){if(gz(t)&&_z(r)){var i=[].concat(r);return i[t]=e,i}var n={};for(var a in r)n[a]=r[a];return n[t]=e,n}c1.exports=xz});var ps=l((Xet,f1)=>{var wz=Z(),qz=wz(function(e){return e==null});f1.exports=qz});var rl=l((Zet,p1)=>{var bz=$(),Ez=Pt(),Az=ui(),Mz=tl(),Sz=ps(),Iz=bz(function t(e,r,i){if(e.length===0)return r;var n=e[0];if(e.length>1){var a=!Sz(i)&&Ez(n,i)?i[n]:Az(e[1])?[]:{};r=t(Array.prototype.slice.call(e,1),r,a)}return Mz(n,r,i)});p1.exports=Iz});var il=l(($et,d1)=>{var Oz=$(),Pz=rl(),Tz=Oz(function(e,r,i){return Pz([e],r,i)});d1.exports=Tz});var ds=l((Qet,h1)=>{var Nz=k(),Cz=Nz(function(e,r){switch(e){case 0:return function(){return r.call(this)};case 1:return function(i){return r.call(this,i)};case 2:return function(i,n){return r.call(this,i,n)};case 3:return function(i,n,a){return r.call(this,i,n,a)};case 4:return function(i,n,a,o){return r.call(this,i,n,a,o)};case 5:return function(i,n,a,o,u){return r.call(this,i,n,a,o,u)};case 6:return function(i,n,a,o,u,p){return r.call(this,i,n,a,o,u,p)};case 7:return function(i,n,a,o,u,p,_){return r.call(this,i,n,a,o,u,p,_)};case 8:return function(i,n,a,o,u,p,_,b){return r.call(this,i,n,a,o,u,p,_,b)};case 9:return function(i,n,a,o,u,p,_,b,A){return r.call(this,i,n,a,o,u,p,_,b,A)};case 10:return function(i,n,a,o,u,p,_,b,A,S){return r.call(this,i,n,a,o,u,p,_,b,A,S)};default:throw new Error("First argument to nAry must be a non-negative integer no greater than ten")}});h1.exports=Cz});var v1=l((Jet,m1)=>{var Dz=Z(),Rz=ds(),kz=Dz(function(e){return Rz(2,e)});m1.exports=kz});var ta=l((ett,y1)=>{function Lz(t){var e=Object.prototype.toString.call(t);return e==="[object Function]"||e==="[object AsyncFunction]"||e==="[object GeneratorFunction]"||e==="[object AsyncGeneratorFunction]"}y1.exports=Lz});var my=l((ttt,g1)=>{var Kz=k(),Fz=Ot(),Bz=el(),_1=gt(),Hz=ar(),Uz=Kz(function(e,r){var i=_1(e,r);return _1(e,function(){return Fz(Bz,Hz(i,arguments[0]),Array.prototype.slice.call(arguments,1))})});g1.exports=Uz});var hs=l((rtt,x1)=>{var Gz=Z(),jz=my(),zz=Gz(function(e){return jz(e.length,e)});x1.exports=zz});var q1=l((itt,w1)=>{var Wz=k(),Vz=ta(),Yz=py(),Xz=hs(),Zz=Wz(function(e,r){return Vz(e)?function(){return e.apply(this,arguments)&&r.apply(this,arguments)}:Xz(Yz)(e,r)});w1.exports=Zz});var E1=l((ntt,b1)=>{var $z=Z(),Qz=$z(function(e){return e.apply(this,Array.prototype.slice.call(arguments,1))});b1.exports=Qz});var vy=l((att,A1)=>{var Jz=cs();function eW(t){return function e(r){for(var i,n,a,o=[],u=0,p=r.length;u<p;){if(Jz(r[u]))for(i=t?e(r[u]):r[u],a=0,n=i.length;a<n;)o[o.length]=i[a],a+=1;else o[o.length]=r[u];u+=1}return o}}A1.exports=eW});var S1=l((ott,M1)=>{function tW(t){return{"@@transducer/value":t,"@@transducer/reduced":!0}}M1.exports=tW});var T1=l((stt,P1)=>{var rW=S1(),iW=cs(),I1=Ot(),O1=st(),nW=function(t){return{"@@transducer/init":O1.init,"@@transducer/result":function(e){return t["@@transducer/result"](e)},"@@transducer/step":function(e,r){var i=t["@@transducer/step"](e,r);return i["@@transducer/reduced"]?rW(i):i}}},aW=function(e){var r=nW(e);return{"@@transducer/init":O1.init,"@@transducer/result":function(i){return r["@@transducer/result"](i)},"@@transducer/step":function(i,n){return iW(n)?I1(r,i,n):I1(r,i,[n])}}};P1.exports=aW});var C1=l((utt,N1)=>{var oW=k(),sW=T1(),uW=ar(),lW=oW(function(e,r){return uW(e,sW(r))});N1.exports=lW});var yy=l((ltt,D1)=>{var cW=k(),fW=ot(),pW=vy(),dW=C1(),hW=ar(),mW=cW(fW(["fantasy-land/chain","chain"],dW,function(e,r){return typeof r=="function"?function(i){return e(r(i))(i)}:pW(!1)(hW(e,r))}));D1.exports=mW});var k1=l((ctt,R1)=>{var vW=$(),yW=vW(function(e,r,i){if(e>r)throw new Error("min must not be greater than max in clamp(min, max, value)");return i<e?e:i>r?r:i});R1.exports=yW});var _y=l((ftt,L1)=>{function _W(t){return new RegExp(t.source,(t.global?"g":"")+(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.sticky?"y":"")+(t.unicode?"u":""))}L1.exports=_W});var nl=l((ptt,K1)=>{var gW=Z(),xW=gW(function(e){return e===null?"Null":e===void 0?"Undefined":Object.prototype.toString.call(e).slice(8,-1)});K1.exports=xW});var al=l((dtt,B1)=>{var wW=_y(),qW=nl();function F1(t,e,r,i){var n=function(o){for(var u=e.length,p=0;p<u;){if(t===e[p])return r[p];p+=1}e[p]=t,r[p]=o;for(var _ in t)t.hasOwnProperty(_)&&(o[_]=i?F1(t[_],e,r,!0):t[_]);return o};switch(qW(t)){case"Object":return n(Object.create(Object.getPrototypeOf(t)));case"Array":return n([]);case"Date":return new Date(t.valueOf());case"RegExp":return wW(t);case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":return t.slice();default:return t}}B1.exports=F1});var U1=l((htt,H1)=>{var bW=al(),EW=Z(),AW=EW(function(e){return e!=null&&typeof e.clone=="function"?e.clone():bW(e,[],[],!0)});H1.exports=AW});var j1=l((mtt,G1)=>{var MW=k(),SW=Ot(),IW=MW(function(e,r){var i=SW(function(o,u){var p=e(u);return o[p]===void 0&&(o[p]=[]),o[p].push(u),o},{},r),n=[];for(var a in i)n.push(i[a]);return n});G1.exports=IW});var W1=l((vtt,z1)=>{var OW=Z(),PW=OW(function(e){return function(r,i){return e(r,i)?-1:e(i,r)?1:0}});z1.exports=PW});var gy=l((ytt,V1)=>{var TW=Z(),NW=TW(function(e){return!e});V1.exports=NW});var X1=l((_tt,Y1)=>{var CW=hs(),DW=gy(),RW=CW(DW);Y1.exports=RW});var $1=l((gtt,Z1)=>{function kW(t,e){return function(){return e.call(this,t.apply(this,arguments))}}Z1.exports=kW});var ra=l((xtt,Q1)=>{var LW=It();function KW(t,e){return function(){var r=arguments.length;if(r===0)return e();var i=arguments[r-1];return LW(i)||typeof i[t]!="function"?e.apply(this,arguments):i[t].apply(i,Array.prototype.slice.call(arguments,0,r-1))}}Q1.exports=KW});var or=l((wtt,J1)=>{var FW=ra(),BW=$(),HW=BW(FW("slice",function(e,r,i){return Array.prototype.slice.call(i,e,r)}));J1.exports=HW});var ol=l((qtt,eE)=>{var UW=ra(),GW=Z(),jW=or(),zW=GW(UW("tail",jW(1,1/0)));eE.exports=zW});var xy=l((btt,tE)=>{var WW=Ar(),VW=$1(),YW=Hr(),XW=ol();function ZW(){if(arguments.length===0)throw new Error("pipe requires at least one argument");return WW(arguments[0].length,YW(VW,arguments[0],XW(arguments)))}tE.exports=ZW});var sl=l((Ett,rE)=>{var $W=Z(),QW=Jn(),JW=$W(function(e){return QW(e)?e.split("").reverse().join(""):Array.prototype.slice.call(e,0).reverse()});rE.exports=JW});var wy=l((Att,iE)=>{var e5=xy(),t5=sl();function r5(){if(arguments.length===0)throw new Error("compose requires at least one argument");return e5.apply(this,t5(arguments))}iE.exports=r5});var qy=l((Mtt,nE)=>{var i5=Si(),n5=i5(0);nE.exports=n5});var ul=l((Stt,aE)=>{function a5(t){return t}aE.exports=a5});var ms=l((Itt,oE)=>{var o5=Z(),s5=ul(),u5=o5(s5);oE.exports=u5});var by=l((Ott,sE)=>{var l5=Ar(),c5=k(),f5=qy(),p5=Ot(),d5=ol(),h5=ms(),m5=c5(function(e,r){if(r.length<=0)return h5;var i=f5(r),n=d5(r);return l5(i.length,function(){return p5(function(a,o){return e.call(this,o,a)},i.apply(this,arguments),n)})});sE.exports=m5});var lE=l((Ptt,uE)=>{var v5=k(),y5=by(),_5=sl(),g5=v5(function(e,r){return y5.apply(this,[e,_5(r)])});uE.exports=g5});var fE=l((Ttt,cE)=>{function x5(t){for(var e=[],r;!(r=t.next()).done;)e.push(r.value);return e}cE.exports=x5});var ia=l((Ntt,pE)=>{function w5(t,e,r){for(var i=0,n=r.length;i<n;){if(t(e,r[i]))return!0;i+=1}return!1}pE.exports=w5});var hE=l((Ctt,dE)=>{function q5(t){var e=String(t).match(/^function (\w*)/);return e==null?"":e[1]}dE.exports=q5});var Ey=l((Dtt,mE)=>{function b5(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}mE.exports=typeof Object.is=="function"?Object.is:b5});var qE=l((Rtt,wE)=>{var vE=fE(),yE=ia(),E5=hE(),A5=Pt(),Ay=Ey(),_E=nr(),gE=nl();function xE(t,e,r,i){var n=vE(t),a=vE(e);function o(u,p){return My(u,p,r.slice(),i.slice())}return!yE(function(u,p){return!yE(o,p,u)},a,n)}function My(t,e,r,i){if(Ay(t,e))return!0;var n=gE(t);if(n!==gE(e))return!1;if(typeof t["fantasy-land/equals"]=="function"||typeof e["fantasy-land/equals"]=="function")return typeof t["fantasy-land/equals"]=="function"&&t["fantasy-land/equals"](e)&&typeof e["fantasy-land/equals"]=="function"&&e["fantasy-land/equals"](t);if(typeof t.equals=="function"||typeof e.equals=="function")return typeof t.equals=="function"&&t.equals(e)&&typeof e.equals=="function"&&e.equals(t);switch(n){case"Arguments":case"Array":case"Object":if(typeof t.constructor=="function"&&E5(t.constructor)==="Promise")return t===e;break;case"Boolean":case"Number":case"String":if(!(typeof t==typeof e&&Ay(t.valueOf(),e.valueOf())))return!1;break;case"Date":if(!Ay(t.valueOf(),e.valueOf()))return!1;break;case"Error":return t.name===e.name&&t.message===e.message;case"RegExp":if(!(t.source===e.source&&t.global===e.global&&t.ignoreCase===e.ignoreCase&&t.multiline===e.multiline&&t.sticky===e.sticky&&t.unicode===e.unicode))return!1;break}for(var a=r.length-1;a>=0;){if(r[a]===t)return i[a]===e;a-=1}switch(n){case"Map":return t.size!==e.size?!1:xE(t.entries(),e.entries(),r.concat([t]),i.concat([e]));case"Set":return t.size!==e.size?!1:xE(t.values(),e.values(),r.concat([t]),i.concat([e]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var o=_E(t);if(o.length!==_E(e).length)return!1;var u=r.concat([t]),p=i.concat([e]);for(a=o.length-1;a>=0;){var _=o[a];if(!(A5(_,e)&&My(e[_],t[_],u,p)))return!1;a-=1}return!0}wE.exports=My});var zt=l((ktt,bE)=>{var M5=k(),S5=qE(),I5=M5(function(e,r){return S5(e,r,[],[])});bE.exports=I5});var Sy=l((Ltt,EE)=>{var O5=zt();function P5(t,e,r){var i,n;if(typeof t.indexOf=="function")switch(typeof e){case"number":if(e===0){for(i=1/e;r<t.length;){if(n=t[r],n===0&&1/n===i)return r;r+=1}return-1}else if(e!==e){for(;r<t.length;){if(n=t[r],typeof n=="number"&&n!==n)return r;r+=1}return-1}return t.indexOf(e,r);case"string":case"boolean":case"function":case"undefined":return t.indexOf(e,r);case"object":if(e===null)return t.indexOf(e,r)}for(;r<t.length;){if(O5(t[r],e))return r;r+=1}return-1}EE.exports=P5});var na=l((Ktt,AE)=>{var T5=Sy();function N5(t,e){return T5(e,t,0)>=0}AE.exports=N5});var SE=l((Ftt,ME)=>{function C5(t){var e=t.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0");return'"'+e.replace(/"/g,'\\"')+'"'}ME.exports=C5});var OE=l((Btt,IE)=>{var vs=function(e){return(e<10?"0":"")+e},D5=typeof Date.prototype.toISOString=="function"?function(e){return e.toISOString()}:function(e){return e.getUTCFullYear()+"-"+vs(e.getUTCMonth()+1)+"-"+vs(e.getUTCDate())+"T"+vs(e.getUTCHours())+":"+vs(e.getUTCMinutes())+":"+vs(e.getUTCSeconds())+"."+(e.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};IE.exports=D5});var Iy=l((Htt,PE)=>{function R5(t){return function(){return!t.apply(this,arguments)}}PE.exports=R5});var ll=l((Utt,TE)=>{function k5(t,e){for(var r=0,i=e.length,n=[];r<i;)t(e[r])&&(n[n.length]=e[r]),r+=1;return n}TE.exports=k5});var aa=l((Gtt,NE)=>{function L5(t){return Object.prototype.toString.call(t)==="[object Object]"}NE.exports=L5});var RE=l((jtt,DE)=>{var K5=k(),CE=st(),F5=function(){function t(e,r){this.xf=r,this.f=e}return t.prototype["@@transducer/init"]=CE.init,t.prototype["@@transducer/result"]=CE.result,t.prototype["@@transducer/step"]=function(e,r){return this.f(r)?this.xf["@@transducer/step"](e,r):e},t}(),B5=K5(function(e,r){return new F5(e,r)});DE.exports=B5});var cl=l((ztt,kE)=>{var H5=k(),U5=ot(),G5=ll(),j5=aa(),z5=Ot(),W5=RE(),V5=nr(),Y5=H5(U5(["fantasy-land/filter","filter"],W5,function(t,e){return j5(e)?z5(function(r,i){return t(e[i])&&(r[i]=e[i]),r},{},V5(e)):G5(t,e)}));kE.exports=Y5});var ys=l((Wtt,LE)=>{var X5=Iy(),Z5=k(),$5=cl(),Q5=Z5(function(e,r){return $5(X5(e),r)});LE.exports=Q5});var Ty=l((Vtt,BE)=>{var J5=na(),Oy=Qn(),Py=SE(),eV=OE(),KE=nr(),tV=ys();function FE(t,e){var r=function(o){var u=e.concat([t]);return J5(o,u)?"<Circular>":FE(o,u)},i=function(a,o){return Oy(function(u){return Py(u)+": "+r(a[u])},o.slice().sort())};switch(Object.prototype.toString.call(t)){case"[object Arguments]":return"(function() { return arguments; }("+Oy(r,t).join(", ")+"))";case"[object Array]":return"["+Oy(r,t).concat(i(t,tV(function(a){return/^\d+$/.test(a)},KE(t)))).join(", ")+"]";case"[object Boolean]":return typeof t=="object"?"new Boolean("+r(t.valueOf())+")":t.toString();case"[object Date]":return"new Date("+(isNaN(t.valueOf())?r(NaN):Py(eV(t)))+")";case"[object Null]":return"null";case"[object Number]":return typeof t=="object"?"new Number("+r(t.valueOf())+")":1/t===-1/0?"-0":t.toString(10);case"[object String]":return typeof t=="object"?"new String("+r(t.valueOf())+")":Py(t);case"[object Undefined]":return"undefined";default:if(typeof t.toString=="function"){var n=t.toString();if(n!=="[object Object]")return n}return"{"+i(t,KE(t)).join(", ")+"}"}}BE.exports=FE});var _s=l((Ytt,HE)=>{var rV=Z(),iV=Ty(),nV=rV(function(e){return iV(e,[])});HE.exports=nV});var fl=l((Xtt,zE)=>{var aV=k(),UE=It(),GE=ta(),jE=Jn(),Ny=_s(),oV=aV(function(e,r){if(UE(e)){if(UE(r))return e.concat(r);throw new TypeError(Ny(r)+" is not an array")}if(jE(e)){if(jE(r))return e+r;throw new TypeError(Ny(r)+" is not a string")}if(e!=null&&GE(e["fantasy-land/concat"]))return e["fantasy-land/concat"](r);if(e!=null&&GE(e.concat))return e.concat(r);throw new TypeError(Ny(e)+' does not have a method named "concat" or "fantasy-land/concat"')});zE.exports=oV});var VE=l((Ztt,WE)=>{var sV=Ar(),uV=Z(),lV=ar(),cV=qn(),fV=Hr(),pV=uV(function(e){var r=fV(cV,0,lV(function(i){return i[0].length},e));return sV(r,function(){for(var i=0;i<e.length;){if(e[i][0].apply(this,arguments))return e[i][1].apply(this,arguments);i+=1}})});WE.exports=pV});var pl=l(($tt,YE)=>{var dV=Z(),hV=gt(),mV=dV(function(e){return hV(e.length,e)});YE.exports=mV});var Cy=l((Qtt,XE)=>{var vV=k(),yV=pl(),_V=ds(),gV=vV(function(e,r){if(e>10)throw new Error("Constructor with greater than ten arguments");return e===0?function(){return new r}:yV(_V(e,function(i,n,a,o,u,p,_,b,A,S){switch(arguments.length){case 1:return new r(i);case 2:return new r(i,n);case 3:return new r(i,n,a);case 4:return new r(i,n,a,o);case 5:return new r(i,n,a,o,u);case 6:return new r(i,n,a,o,u,p);case 7:return new r(i,n,a,o,u,p,_);case 8:return new r(i,n,a,o,u,p,_,b);case 9:return new r(i,n,a,o,u,p,_,b,A);case 10:return new r(i,n,a,o,u,p,_,b,A,S)}}))});XE.exports=gV});var $E=l((Jtt,ZE)=>{var xV=Z(),wV=Cy(),qV=xV(function(e){return wV(e.length,e)});ZE.exports=qV});var Dy=l((ert,QE)=>{var bV=k(),EV=Qn(),AV=gt(),MV=qn(),SV=ea(),IV=Hr(),OV=bV(function(e,r){return AV(IV(MV,0,SV("length",r)),function(){var i=arguments,n=this;return e.apply(n,EV(function(a){return a.apply(n,i)},r))})});QE.exports=OV});var eA=l((trt,JE)=>{var PV=Ot(),TV=pl(),NV=TV(function(t,e){return PV(function(r,i){return t(i)?r+1:r},0,e)});JE.exports=NV});var rA=l((rrt,tA)=>{var CV=wn(),DV=Pt(),RV=st(),kV=function(){function t(e,r,i,n){this.valueFn=e,this.valueAcc=r,this.keyFn=i,this.xf=n,this.inputs={}}return t.prototype["@@transducer/init"]=RV.init,t.prototype["@@transducer/result"]=function(e){var r;for(r in this.inputs)if(DV(r,this.inputs)&&(e=this.xf["@@transducer/step"](e,this.inputs[r]),e["@@transducer/reduced"])){e=e["@@transducer/value"];break}return this.inputs=null,this.xf["@@transducer/result"](e)},t.prototype["@@transducer/step"]=function(e,r){var i=this.keyFn(r);return this.inputs[i]=this.inputs[i]||[i,this.valueAcc],this.inputs[i][1]=this.valueFn(this.inputs[i][1],r),e},t}(),LV=CV(4,[],function(e,r,i,n){return new kV(e,r,i,n)});tA.exports=LV});var gs=l((irt,iA)=>{var KV=al(),FV=wn(),BV=ot(),HV=Pt(),UV=Ot(),GV=Br(),jV=rA(),zV=FV(4,[],BV([],jV,function(e,r,i,n){return UV(function(a,o){var u=i(o),p=e(HV(u,a)?a[u]:KV(r,[],[],!1),o);return p&&p["@@transducer/reduced"]?GV(a):(a[u]=p,a)},{},n)}));iA.exports=zV});var aA=l((nrt,nA)=>{var WV=gs(),VV=WV(function(t,e){return t+1},0);nA.exports=VV});var sA=l((art,oA)=>{var YV=ls(),XV=YV(-1);oA.exports=XV});var dl=l((ort,uA)=>{var ZV=k(),$V=ZV(function(e,r){return r==null||r!==r?e:r});uA.exports=$V});var cA=l((srt,lA)=>{var QV=$(),JV=QV(function(e,r,i){var n=e(r),a=e(i);return n>a?-1:n<a?1:0});lA.exports=JV});var hl=l((urt,dA)=>{var fA=na(),e7=function(){function t(){this._nativeSet=typeof Set=="function"?new Set:null,this._items={}}return t.prototype.add=function(e){return!pA(e,!0,this)},t.prototype.has=function(e){return pA(e,!1,this)},t}();function pA(t,e,r){var i=typeof t,n,a;switch(i){case"string":case"number":return t===0&&1/t===-1/0?r._items["-0"]?!0:(e&&(r._items["-0"]=!0),!1):r._nativeSet!==null?e?(n=r._nativeSet.size,r._nativeSet.add(t),a=r._nativeSet.size,a===n):r._nativeSet.has(t):i in r._items?t in r._items[i]?!0:(e&&(r._items[i][t]=!0),!1):(e&&(r._items[i]={},r._items[i][t]=!0),!1);case"boolean":if(i in r._items){var o=t?1:0;return r._items[i][o]?!0:(e&&(r._items[i][o]=!0),!1)}else return e&&(r._items[i]=t?[!1,!0]:[!0,!1]),!1;case"function":return r._nativeSet!==null?e?(n=r._nativeSet.size,r._nativeSet.add(t),a=r._nativeSet.size,a===n):r._nativeSet.has(t):i in r._items?fA(t,r._items[i])?!0:(e&&r._items[i].push(t),!1):(e&&(r._items[i]=[t]),!1);case"undefined":return r._items[i]?!0:(e&&(r._items[i]=!0),!1);case"object":if(t===null)return r._items.null?!0:(e&&(r._items.null=!0),!1);default:return i=Object.prototype.toString.call(t),i in r._items?fA(t,r._items[i])?!0:(e&&r._items[i].push(t),!1):(e&&(r._items[i]=[t]),!1)}}dA.exports=e7});var Ry=l((lrt,hA)=>{var t7=k(),r7=hl(),i7=t7(function(e,r){for(var i=[],n=0,a=e.length,o=r.length,u=new r7,p=0;p<o;p+=1)u.add(r[p]);for(;n<a;)u.add(e[n])&&(i[i.length]=e[n]),n+=1;return i});hA.exports=i7});var ky=l((crt,vA)=>{var mA=ia(),n7=$(),a7=n7(function(e,r,i){for(var n=[],a=0,o=r.length;a<o;)!mA(e,r[a],i)&&!mA(e,r[a],n)&&n.push(r[a]),a+=1;return n});vA.exports=a7});var Ly=l((frt,yA)=>{var o7=$(),s7=o7(function(e,r,i){var n=Array.prototype.slice.call(i,0);return n.splice(e,r),n});yA.exports=s7});var gA=l((prt,_A)=>{var u7=ui(),l7=It(),c7=Ly();function f7(t,e){if(e==null)return e;if(u7(t)&&l7(e))return c7(t,1,e);var r={};for(var i in e)r[i]=e[i];return delete r[t],r}_A.exports=f7});var Ky=l((drt,xA)=>{var p7=k(),d7=gA(),h7=ui(),m7=It(),v7=il();function y7(t,e){if(h7(t)&&m7(e))return[].concat(e);var r={};for(var i in e)r[i]=e[i];return r}var _7=p7(function t(e,r){if(r==null)return r;switch(e.length){case 0:return r;case 1:return d7(e[0],r);default:var i=e[0],n=Array.prototype.slice.call(e,1);return r[i]==null?y7(i,r):v7(i,t(n,r[i]),r)}});xA.exports=_7});var qA=l((hrt,wA)=>{var g7=k(),x7=Ky(),w7=g7(function(e,r){return x7([e],r)});wA.exports=w7});var EA=l((mrt,bA)=>{var q7=k(),b7=q7(function(e,r){return e/r});bA.exports=b7});var SA=l((vrt,MA)=>{var E7=k(),AA=st(),A7=function(){function t(e,r){this.xf=r,this.n=e}return t.prototype["@@transducer/init"]=AA.init,t.prototype["@@transducer/result"]=AA.result,t.prototype["@@transducer/step"]=function(e,r){return this.n>0?(this.n-=1,e):this.xf["@@transducer/step"](e,r)},t}(),M7=E7(function(e,r){return new A7(e,r)});MA.exports=M7});var Fy=l((yrt,IA)=>{var S7=k(),I7=ot(),O7=SA(),P7=or(),T7=S7(I7(["drop"],O7,function(e,r){return P7(Math.max(0,e),1/0,r)}));IA.exports=T7});var TA=l((_rt,PA)=>{var N7=k(),C7=Br(),OA=st(),D7=function(){function t(e,r){this.xf=r,this.n=e,this.i=0}return t.prototype["@@transducer/init"]=OA.init,t.prototype["@@transducer/result"]=OA.result,t.prototype["@@transducer/step"]=function(e,r){this.i+=1;var i=this.n===0?e:this.xf["@@transducer/step"](e,r);return this.n>=0&&this.i>=this.n?C7(i):i},t}(),R7=N7(function(e,r){return new D7(e,r)});PA.exports=R7});var ml=l((grt,NA)=>{var k7=k(),L7=ot(),K7=TA(),F7=or(),B7=k7(L7(["take"],K7,function(e,r){return F7(0,e<0?1/0:e,r)}));NA.exports=B7});var DA=l((xrt,CA)=>{var H7=ml();function U7(t,e){return H7(t<e.length?e.length-t:0,e)}CA.exports=U7});var kA=l((wrt,RA)=>{var G7=k(),j7=st(),z7=function(){function t(e,r){this.xf=r,this.pos=0,this.full=!1,this.acc=new Array(e)}return t.prototype["@@transducer/init"]=j7.init,t.prototype["@@transducer/result"]=function(e){return this.acc=null,this.xf["@@transducer/result"](e)},t.prototype["@@transducer/step"]=function(e,r){return this.full&&(e=this.xf["@@transducer/step"](e,this.acc[this.pos])),this.store(r),e},t.prototype.store=function(e){this.acc[this.pos]=e,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},t}(),W7=G7(function(e,r){return new z7(e,r)});RA.exports=W7});var KA=l((qrt,LA)=>{var V7=k(),Y7=ot(),X7=DA(),Z7=kA(),$7=V7(Y7([],Z7,X7));LA.exports=$7});var BA=l((brt,FA)=>{var Q7=or();function J7(t,e){for(var r=e.length-1;r>=0&&t(e[r]);)r-=1;return Q7(0,r+1,e)}FA.exports=J7});var UA=l((Ert,HA)=>{var eY=k(),tY=Ot(),rY=st(),iY=function(){function t(e,r){this.f=e,this.retained=[],this.xf=r}return t.prototype["@@transducer/init"]=rY.init,t.prototype["@@transducer/result"]=function(e){return this.retained=null,this.xf["@@transducer/result"](e)},t.prototype["@@transducer/step"]=function(e,r){return this.f(r)?this.retain(e,r):this.flush(e,r)},t.prototype.flush=function(e,r){return e=tY(this.xf["@@transducer/step"],e,this.retained),this.retained=[],this.xf["@@transducer/step"](e,r)},t.prototype.retain=function(e,r){return this.retained.push(r),e},t}(),nY=eY(function(e,r){return new iY(e,r)});HA.exports=nY});var jA=l((Art,GA)=>{var aY=k(),oY=ot(),sY=BA(),uY=UA(),lY=aY(oY([],uY,sY));GA.exports=lY});var By=l((Mrt,WA)=>{var cY=k(),zA=st(),fY=function(){function t(e,r){this.xf=r,this.pred=e,this.lastValue=void 0,this.seenFirstValue=!1}return t.prototype["@@transducer/init"]=zA.init,t.prototype["@@transducer/result"]=zA.result,t.prototype["@@transducer/step"]=function(e,r){var i=!1;return this.seenFirstValue?this.pred(this.lastValue,r)&&(i=!0):this.seenFirstValue=!0,this.lastValue=r,i?e:this.xf["@@transducer/step"](e,r)},t}(),pY=cY(function(e,r){return new fY(e,r)});WA.exports=pY});var Hy=l((Srt,VA)=>{var dY=Si(),hY=dY(-1);VA.exports=hY});var Uy=l((Irt,YA)=>{var mY=k(),vY=ot(),yY=By(),_Y=Hy(),gY=mY(vY([],yY,function(e,r){var i=[],n=1,a=r.length;if(a!==0)for(i[0]=r[0];n<a;)e(_Y(i),r[n])||(i[i.length]=r[n]),n+=1;return i}));YA.exports=gY});var $A=l((Ort,ZA)=>{var xY=Z(),wY=ot(),qY=By(),bY=Uy(),XA=zt(),EY=xY(wY([],qY(XA),bY(XA)));ZA.exports=EY});var eM=l((Prt,JA)=>{var AY=k(),QA=st(),MY=function(){function t(e,r){this.xf=r,this.f=e}return t.prototype["@@transducer/init"]=QA.init,t.prototype["@@transducer/result"]=QA.result,t.prototype["@@transducer/step"]=function(e,r){if(this.f){if(this.f(r))return e;this.f=null}return this.xf["@@transducer/step"](e,r)},t}(),SY=AY(function(e,r){return new MY(e,r)});JA.exports=SY});var rM=l((Trt,tM)=>{var IY=k(),OY=ot(),PY=eM(),TY=or(),NY=IY(OY(["dropWhile"],PY,function(e,r){for(var i=0,n=r.length;i<n&&e(r[i]);)i+=1;return TY(i,1/0,r)}));tM.exports=NY});var Gy=l((Nrt,iM)=>{var CY=k(),DY=CY(function(e,r){return e||r});iM.exports=DY});var aM=l((Crt,nM)=>{var RY=k(),kY=ta(),LY=hs(),KY=Gy(),FY=RY(function(e,r){return kY(e)?function(){return e.apply(this,arguments)||r.apply(this,arguments)}:LY(KY)(e,r)});nM.exports=FY});var sM=l((Drt,oM)=>{function BY(t){var e=Object.prototype.toString.call(t);return e==="[object Uint8ClampedArray]"||e==="[object Int8Array]"||e==="[object Uint8Array]"||e==="[object Int16Array]"||e==="[object Uint16Array]"||e==="[object Int32Array]"||e==="[object Uint32Array]"||e==="[object Float32Array]"||e==="[object Float64Array]"||e==="[object BigInt64Array]"||e==="[object BigUint64Array]"}oM.exports=BY});var jy=l((Rrt,uM)=>{var HY=Z(),UY=fy(),GY=It(),jY=aa(),zY=Jn(),WY=sM(),VY=HY(function(e){return e!=null&&typeof e["fantasy-land/empty"]=="function"?e["fantasy-land/empty"]():e!=null&&e.constructor!=null&&typeof e.constructor["fantasy-land/empty"]=="function"?e.constructor["fantasy-land/empty"]():e!=null&&typeof e.empty=="function"?e.empty():e!=null&&e.constructor!=null&&typeof e.constructor.empty=="function"?e.constructor.empty():GY(e)?[]:zY(e)?"":jY(e)?{}:UY(e)?function(){return arguments}():WY(e)?e.constructor.from(""):void 0});uM.exports=VY});var zy=l((krt,lM)=>{var YY=k(),XY=Fy(),ZY=YY(function(e,r){return XY(e>=0?r.length-e:0,r)});lM.exports=ZY});var fM=l((Lrt,cM)=>{var $Y=k(),QY=zt(),JY=zy(),e9=$Y(function(t,e){return QY(JY(t.length,e),t)});cM.exports=e9});var dM=l((Krt,pM)=>{var t9=$(),r9=zt(),i9=t9(function(e,r,i){return r9(e(r),e(i))});pM.exports=i9});var mM=l((Frt,hM)=>{var n9=$(),a9=zt(),o9=n9(function(e,r,i){return a9(r[e],i[e])});hM.exports=o9});var yM=l((Brt,vM)=>{var s9=k(),u9=It(),l9=aa(),c9=s9(function t(e,r){if(!l9(r)&&!u9(r))return r;var i=r instanceof Array?[]:{},n,a,o;for(a in r)n=e[a],o=typeof n,i[a]=o==="function"?n(r[a]):n&&o==="object"?t(n,r[a]):r[a];return i});vM.exports=c9});var gM=l((Hrt,_M)=>{var f9=k(),p9=Br(),d9=st(),h9=function(){function t(e,r){this.xf=r,this.f=e,this.found=!1}return t.prototype["@@transducer/init"]=d9.init,t.prototype["@@transducer/result"]=function(e){return this.found||(e=this.xf["@@transducer/step"](e,void 0)),this.xf["@@transducer/result"](e)},t.prototype["@@transducer/step"]=function(e,r){return this.f(r)&&(this.found=!0,e=p9(this.xf["@@transducer/step"](e,r))),e},t}(),m9=f9(function(e,r){return new h9(e,r)});_M.exports=m9});var wM=l((Urt,xM)=>{var v9=k(),y9=ot(),_9=gM(),g9=v9(y9(["find"],_9,function(e,r){for(var i=0,n=r.length;i<n;){if(e(r[i]))return r[i];i+=1}}));xM.exports=g9});var bM=l((Grt,qM)=>{var x9=k(),w9=Br(),q9=st(),b9=function(){function t(e,r){this.xf=r,this.f=e,this.idx=-1,this.found=!1}return t.prototype["@@transducer/init"]=q9.init,t.prototype["@@transducer/result"]=function(e){return this.found||(e=this.xf["@@transducer/step"](e,-1)),this.xf["@@transducer/result"](e)},t.prototype["@@transducer/step"]=function(e,r){return this.idx+=1,this.f(r)&&(this.found=!0,e=w9(this.xf["@@transducer/step"](e,this.idx))),e},t}(),E9=x9(function(e,r){return new b9(e,r)});qM.exports=E9});var AM=l((jrt,EM)=>{var A9=k(),M9=ot(),S9=bM(),I9=A9(M9([],S9,function(e,r){for(var i=0,n=r.length;i<n;){if(e(r[i]))return i;i+=1}return-1}));EM.exports=I9});var SM=l((zrt,MM)=>{var O9=k(),P9=st(),T9=function(){function t(e,r){this.xf=r,this.f=e}return t.prototype["@@transducer/init"]=P9.init,t.prototype["@@transducer/result"]=function(e){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](e,this.last))},t.prototype["@@transducer/step"]=function(e,r){return this.f(r)&&(this.last=r),e},t}(),N9=O9(function(e,r){return new T9(e,r)});MM.exports=N9});var OM=l((Wrt,IM)=>{var C9=k(),D9=ot(),R9=SM(),k9=C9(D9([],R9,function(e,r){for(var i=r.length-1;i>=0;){if(e(r[i]))return r[i];i-=1}}));IM.exports=k9});var TM=l((Vrt,PM)=>{var L9=k(),K9=st(),F9=function(){function t(e,r){this.xf=r,this.f=e,this.idx=-1,this.lastIdx=-1}return t.prototype["@@transducer/init"]=K9.init,t.prototype["@@transducer/result"]=function(e){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](e,this.lastIdx))},t.prototype["@@transducer/step"]=function(e,r){return this.idx+=1,this.f(r)&&(this.lastIdx=this.idx),e},t}(),B9=L9(function(e,r){return new F9(e,r)});PM.exports=B9});var CM=l((Yrt,NM)=>{var H9=k(),U9=ot(),G9=TM(),j9=H9(U9([],G9,function(e,r){for(var i=r.length-1;i>=0;){if(e(r[i]))return i;i-=1}return-1}));NM.exports=j9});var RM=l((Xrt,DM)=>{var z9=Z(),W9=vy(),V9=z9(W9(!0));DM.exports=V9});var xs=l((Zrt,kM)=>{var Y9=Z(),X9=gt(),Z9=Y9(function(e){return X9(e.length,function(r,i){var n=Array.prototype.slice.call(arguments,0);return n[0]=i,n[1]=r,e.apply(this,n)})});kM.exports=Z9});var KM=l(($rt,LM)=>{var $9=ra(),Q9=k(),J9=Q9($9("forEach",function(e,r){for(var i=r.length,n=0;n<i;)e(r[n]),n+=1;return r}));LM.exports=J9});var BM=l((Qrt,FM)=>{var eX=k(),tX=nr(),rX=eX(function(e,r){for(var i=tX(r),n=0;n<i.length;){var a=i[n];e(r[a],a,r),n+=1}return r});FM.exports=rX});var UM=l((Jrt,HM)=>{var iX=Z(),nX=iX(function(e){for(var r={},i=0;i<e.length;)r[e[i][0]]=e[i][1],i+=1;return r});HM.exports=nX});var jM=l((eit,GM)=>{var aX=ra(),oX=k(),sX=gs(),uX=oX(aX("groupBy",sX(function(t,e){return t.push(e),t},[])));GM.exports=uX});var WM=l((tit,zM)=>{var lX=k(),cX=lX(function(t,e){for(var r=[],i=0,n=e.length;i<n;){for(var a=i+1;a<n&&t(e[a-1],e[a]);)a+=1;r.push(e.slice(i,a)),i=a}return r});zM.exports=cX});var YM=l((rit,VM)=>{var fX=k(),pX=fX(function(e,r){return e>r});VM.exports=pX});var ZM=l((iit,XM)=>{var dX=k(),hX=dX(function(e,r){return e>=r});XM.exports=hX});var Wy=l((nit,QM)=>{var mX=k(),vX=Pt(),$M=ps(),yX=mX(function(e,r){if(e.length===0||$M(r))return!1;for(var i=r,n=0;n<e.length;)if(!$M(i)&&vX(e[n],i))i=i[e[n]],n+=1;else return!1;return!0});QM.exports=yX});var eS=l((ait,JM)=>{var _X=k(),gX=Wy(),xX=_X(function(e,r){return gX([e],r)});JM.exports=xX});var rS=l((oit,tS)=>{var wX=k(),qX=ps(),bX=wX(function(e,r){return qX(r)?!1:e in r});tS.exports=bX});var nS=l((sit,iS)=>{var EX=Ey(),AX=k(),MX=AX(EX);iS.exports=MX});var oS=l((uit,aS)=>{var SX=$(),IX=gt(),OX=SX(function(e,r,i){return IX(Math.max(e.length,r.length,i.length),function(){return e.apply(this,arguments)?r.apply(this,arguments):i.apply(this,arguments)})});aS.exports=OX});var uS=l((lit,sS)=>{var PX=ls(),TX=PX(1);sS.exports=TX});var cS=l((cit,lS)=>{var NX=na(),CX=k(),DX=CX(NX);lS.exports=DX});var pS=l((fit,fS)=>{var RX=gs(),kX=RX(function(t,e){return e},null);fS.exports=kX});var hS=l((pit,dS)=>{var LX=k(),KX=Sy(),FX=It(),BX=LX(function(e,r){return typeof r.indexOf=="function"&&!FX(r)?r.indexOf(e):KX(r,e,0)});dS.exports=BX});var vS=l((dit,mS)=>{var HX=or(),UX=HX(0,-1);mS.exports=UX});var _S=l((hit,yS)=>{var GX=ia(),jX=$(),zX=ll(),WX=jX(function(e,r,i){return zX(function(n){return GX(e,n,i)},r)});yS.exports=WX});var xS=l((mit,gS)=>{var VX=$(),YX=VX(function(e,r,i){e=e<i.length&&e>=0?e:i.length;var n=Array.prototype.slice.call(i,0);return n.splice(e,0,r),n});gS.exports=YX});var qS=l((vit,wS)=>{var XX=$(),ZX=XX(function(e,r,i){return e=e<i.length&&e>=0?e:i.length,[].concat(Array.prototype.slice.call(i,0,e),r,Array.prototype.slice.call(i,e))});wS.exports=ZX});var AS=l((yit,ES)=>{var $X=k(),QX=hl(),bS=st(),JX=function(){function t(e,r){this.xf=r,this.f=e,this.set=new QX}return t.prototype["@@transducer/init"]=bS.init,t.prototype["@@transducer/result"]=bS.result,t.prototype["@@transducer/step"]=function(e,r){return this.set.add(this.f(r))?this.xf["@@transducer/step"](e,r):e},t}(),eZ=$X(function(e,r){return new JX(e,r)});ES.exports=eZ});var Vy=l((_it,MS)=>{var tZ=hl(),rZ=k(),iZ=ot(),nZ=AS(),aZ=rZ(iZ([],nZ,function(t,e){for(var r=new tZ,i=[],n=0,a,o;n<e.length;)o=e[n],a=t(o),r.add(a)&&i.push(o),n+=1;return i}));MS.exports=aZ});var vl=l((git,SS)=>{var oZ=ms(),sZ=Vy(),uZ=sZ(oZ);SS.exports=uZ});var OS=l((xit,IS)=>{var lZ=na(),cZ=k(),fZ=ll(),pZ=xs(),dZ=vl(),hZ=cZ(function(e,r){var i,n;return e.length>r.length?(i=e,n=r):(i=r,n=e),dZ(fZ(pZ(lZ)(i),n))});IS.exports=hZ});var TS=l((wit,PS)=>{var mZ=ra(),vZ=k(),yZ=vZ(mZ("intersperse",function(e,r){for(var i=[],n=0,a=r.length;n<a;)n===a-1?i.push(r[n]):i.push(r[n],e),n+=1;return i}));PS.exports=yZ});var ws=l((qit,NS)=>{var _Z=Pt();function gZ(t){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),r=1,i=arguments.length;r<i;){var n=arguments[r];if(n!=null)for(var a in n)_Z(a,n)&&(e[a]=n[a]);r+=1}return e}NS.exports=typeof Object.assign=="function"?Object.assign:gZ});var Yy=l((bit,CS)=>{var xZ=k(),wZ=xZ(function(e,r){var i={};return i[e]=r,i});CS.exports=wZ});var kS=l((Eit,RS)=>{var qZ=ws(),Xy=ul(),DS=cs(),bZ=Ju(),EZ=Yy(),AZ={"@@transducer/init":Array,"@@transducer/step":function(t,e){return t.push(e),t},"@@transducer/result":Xy},MZ={"@@transducer/init":String,"@@transducer/step":function(t,e){return t+e},"@@transducer/result":Xy},SZ={"@@transducer/init":Object,"@@transducer/step":function(t,e){return qZ(t,DS(e)?EZ(e[0],e[1]):e)},"@@transducer/result":Xy};function IZ(t){if(bZ(t))return t;if(DS(t))return AZ;if(typeof t=="string")return MZ;if(typeof t=="object")return SZ;throw new Error("Cannot create transformer for "+t)}RS.exports=IZ});var FS=l((Ait,KS)=>{var OZ=al(),PZ=$(),TZ=Ju(),LS=Ot(),NZ=kS(),CZ=PZ(function(e,r,i){return TZ(e)?LS(r(e),e["@@transducer/init"](),i):LS(r(NZ(e)),OZ(e,[],[],!1),i)});KS.exports=CZ});var HS=l((Mit,BS)=>{var DZ=Z(),RZ=Pt(),kZ=nr(),LZ=DZ(function(e){for(var r=kZ(e),i=r.length,n=0,a={};n<i;){var o=r[n],u=e[o],p=RZ(u,a)?a[u]:a[u]=[];p[p.length]=o,n+=1}return a});BS.exports=LZ});var GS=l((Sit,US)=>{var KZ=Z(),FZ=nr(),BZ=KZ(function(e){for(var r=FZ(e),i=r.length,n=0,a={};n<i;){var o=r[n];a[e[o]]=o,n+=1}return a});US.exports=BZ});var oa=l((Iit,jS)=>{var HZ=k(),UZ=ta(),GZ=gt(),jZ=_s(),zZ=HZ(function(e,r){return GZ(e+1,function(){var i=arguments[e];if(i!=null&&UZ(i[r]))return i[r].apply(i,Array.prototype.slice.call(arguments,0,e));throw new TypeError(jZ(i)+' does not have a method named "'+r+'"')})});jS.exports=zZ});var Zy=l((Oit,zS)=>{var WZ=k(),VZ=WZ(function(e,r){return r instanceof e||r!=null&&(r.constructor===e||e.name==="Object"&&typeof r=="object")});zS.exports=VZ});var VS=l((Pit,WS)=>{var YZ=Z(),XZ=jy(),ZZ=zt(),$Z=YZ(function(e){return e!=null&&ZZ(e,XZ(e))});WS.exports=$Z});var XS=l((Tit,YS)=>{var QZ=oa(),JZ=QZ(1,"join");YS.exports=JZ});var $y=l((Nit,ZS)=>{var e$=Z(),t$=Dy(),r$=e$(function(e){return t$(function(){return Array.prototype.slice.call(arguments,0)},e)});ZS.exports=r$});var QS=l((Cit,$S)=>{var i$=Z(),n$=i$(function(e){var r,i=[];for(r in e)i[i.length]=r;return i});$S.exports=n$});var e2=l((Dit,JS)=>{var a$=k(),o$=It(),s$=zt(),u$=a$(function(e,r){if(typeof r.lastIndexOf=="function"&&!o$(r))return r.lastIndexOf(e);for(var i=r.length-1;i>=0;){if(s$(r[i],e))return i;i-=1}return-1});JS.exports=u$});var Qy=l((Rit,t2)=>{function l$(t){return Object.prototype.toString.call(t)==="[object Number]"}t2.exports=l$});var Jy=l((kit,r2)=>{var c$=Z(),f$=Qy(),p$=c$(function(e){return e!=null&&f$(e.length)?e.length:NaN});r2.exports=p$});var qs=l((Lit,i2)=>{var d$=k(),h$=ar(),m$=d$(function(e,r){return function(i){return function(n){return h$(function(a){return r(a,n)},i(e(n)))}}});i2.exports=m$});var e_=l((Kit,n2)=>{var v$=$(),y$=sy(),_$=fs(),g$=v$(function(e,r,i){return y$(e,_$(r),i)});n2.exports=g$});var o2=l((Fit,a2)=>{var x$=Z(),w$=qs(),q$=Si(),b$=e_(),E$=x$(function(e){return w$(q$(e),b$(e))});a2.exports=E$});var t_=l((Bit,s2)=>{var A$=k(),M$=ui(),S$=Si(),I$=A$(function(e,r){return e.map(function(i){for(var n=r,a=0,o;a<i.length;){if(n==null)return;o=i[a],n=M$(o)?S$(o,n):n[o],a+=1}return n})});s2.exports=I$});var bn=l((Hit,u2)=>{var O$=k(),P$=t_(),T$=O$(function(e,r){return P$([e],r)[0]});u2.exports=T$});var c2=l((Uit,l2)=>{var N$=Z(),C$=rl(),D$=qs(),R$=bn(),k$=N$(function(e){return D$(R$(e),C$(e))});l2.exports=k$});var p2=l((Git,f2)=>{var L$=Z(),K$=il(),F$=qs(),B$=Ii(),H$=L$(function(e){return F$(B$(e),K$(e))});f2.exports=H$});var h2=l((jit,d2)=>{var U$=k(),G$=U$(function(e,r){return e<r});d2.exports=G$});var v2=l((zit,m2)=>{var j$=k(),z$=j$(function(e,r){return e<=r});m2.exports=z$});var _2=l((Wit,y2)=>{var W$=$(),V$=W$(function(e,r,i){for(var n=0,a=i.length,o=[],u=[r];n<a;)u=e(u[0],i[n]),o[n]=u[1],n+=1;return[u[0],o]});y2.exports=V$});var x2=l((Vit,g2)=>{var Y$=$(),X$=Y$(function(e,r,i){for(var n=i.length-1,a=[],o=[r];n>=0;)o=e(o[0],i[n]),a[n]=o[1],n-=1;return[o[0],a]});g2.exports=X$});var q2=l((Yit,w2)=>{var Z$=k(),$$=Ot(),Q$=nr(),J$=Z$(function(e,r){return $$(function(i,n){return i[n]=e(r[n],n,r),i},{},Q$(r))});w2.exports=J$});var E2=l((Xit,b2)=>{var eQ=k(),tQ=eQ(function(e,r){return r.match(e)||[]});b2.exports=tQ});var S2=l((Zit,M2)=>{var rQ=k(),A2=ui(),iQ=rQ(function(e,r){return A2(e)?!A2(r)||r<1?NaN:(e%r+r)%r:NaN});M2.exports=iQ});var O2=l(($it,I2)=>{var nQ=$(),aQ=nQ(function(e,r,i){return e(i)>e(r)?i:r});I2.exports=aQ});var r_=l((Qit,P2)=>{var oQ=ls(),sQ=Hr(),uQ=sQ(oQ,0);P2.exports=uQ});var i_=l((Jit,T2)=>{var lQ=Z(),cQ=r_(),fQ=lQ(function(e){return cQ(e)/e.length});T2.exports=fQ});var C2=l((ent,N2)=>{var pQ=Z(),dQ=i_(),hQ=pQ(function(e){var r=e.length;if(r===0)return NaN;var i=2-r%2,n=(r-i)/2;return dQ(Array.prototype.slice.call(e,0).sort(function(a,o){return a<o?-1:a>o?1:0}).slice(n,n+i))});N2.exports=hQ});var R2=l((tnt,D2)=>{var mQ=Ar(),vQ=k(),yQ=Pt(),_Q=vQ(function(e,r){var i={};return mQ(r.length,function(){var n=e.apply(this,arguments);return yQ(n,i)||(i[n]=r.apply(this,arguments)),i[n]})});D2.exports=_Q});var L2=l((rnt,k2)=>{var gQ=ws(),xQ=Z(),wQ=xQ(function(e){return gQ.apply(null,[{}].concat(e))});k2.exports=wQ});var _l=l((int,K2)=>{var qQ=$(),yl=Pt(),bQ=qQ(function(e,r,i){var n={},a;for(a in r)yl(a,r)&&(n[a]=yl(a,i)?e(a,r[a],i[a]):r[a]);for(a in i)yl(a,i)&&!yl(a,n)&&(n[a]=i[a]);return n});K2.exports=bQ});var bs=l((nnt,B2)=>{var EQ=$(),F2=aa(),AQ=_l(),MQ=EQ(function t(e,r,i){return AQ(function(n,a,o){return F2(a)&&F2(o)?t(e,a,o):e(n,a,o)},r,i)});B2.exports=MQ});var U2=l((ant,H2)=>{var SQ=k(),IQ=bs(),OQ=SQ(function(e,r){return IQ(function(i,n,a){return n},e,r)});H2.exports=OQ});var n_=l((ont,G2)=>{var PQ=k(),TQ=bs(),NQ=PQ(function(e,r){return TQ(function(i,n,a){return a},e,r)});G2.exports=NQ});var z2=l((snt,j2)=>{var CQ=$(),DQ=bs(),RQ=CQ(function(e,r,i){return DQ(function(n,a,o){return e(a,o)},r,i)});j2.exports=RQ});var V2=l((unt,W2)=>{var kQ=ws(),LQ=k(),KQ=LQ(function(e,r){return kQ({},r,e)});W2.exports=KQ});var X2=l((lnt,Y2)=>{var FQ=ws(),BQ=k(),HQ=BQ(function(e,r){return FQ({},e,r)});Y2.exports=HQ});var $2=l((cnt,Z2)=>{var UQ=$(),GQ=_l(),jQ=UQ(function(e,r,i){return GQ(function(n,a,o){return e(a,o)},r,i)});Z2.exports=jQ});var J2=l((fnt,Q2)=>{var zQ=k(),WQ=zQ(function(e,r){return r<e?r:e});Q2.exports=WQ});var tI=l((pnt,eI)=>{var VQ=$(),YQ=VQ(function(e,r,i){return e(i)<e(r)?i:r});eI.exports=YQ});var iI=l((dnt,rI)=>{var XQ=It(),ZQ=ui();function $Q(t,e,r){if(ZQ(t)&&XQ(r)){var i=[].concat(r);return i[t]=e(i[t]),i}var n={};for(var a in r)n[a]=r[a];return n[t]=e(n[t]),n}rI.exports=$Q});var a_=l((hnt,nI)=>{var QQ=$(),JQ=It(),eJ=aa(),tJ=Pt(),rJ=tl(),iJ=iI(),nJ=QQ(function t(e,r,i){if(!eJ(i)&&!JQ(i)||e.length===0)return i;var n=e[0];if(!tJ(n,i))return i;if(e.length===1)return iJ(n,r,i);var a=t(Array.prototype.slice.call(e,1),r,i[n]);return a===i[n]?i:rJ(n,a,i)});nI.exports=nJ});var oI=l((mnt,aI)=>{var aJ=$(),oJ=a_(),sJ=aJ(function(e,r,i){return oJ([e],r,i)});aI.exports=sJ});var uI=l((vnt,sI)=>{var uJ=k(),lJ=uJ(function(e,r){return e%r});sI.exports=lJ});var cI=l((ynt,lI)=>{var cJ=$(),fJ=cJ(function(t,e,r){var i=r.length,n=r.slice(),a=t<0?i+t:t,o=e<0?i+e:e,u=n.splice(a,1);return a<0||a>=r.length||o<0||o>=r.length?r:[].concat(n.slice(0,o)).concat(u).concat(n.slice(o,r.length))});lI.exports=fJ});var o_=l((_nt,fI)=>{var pJ=k(),dJ=pJ(function(e,r){return e*r});fI.exports=dJ});var hI=l((pI,dI)=>{var hJ=n_(),mJ=k();dI.exports=mJ((t,e)=>r=>t.call(pI,hJ(e,r)))});var vI=l((gnt,mI)=>{var vJ=Z(),yJ=vJ(function(e){return-e});mI.exports=yJ});var _I=l((xnt,yI)=>{var _J=Iy(),gJ=k(),xJ=uy(),wJ=gJ(function(e,r){return xJ(_J(e),r)});yI.exports=wJ});var xI=l((wnt,gI)=>{var qJ=Z(),bJ=gt(),EJ=Si(),AJ=qJ(function(e){var r=e<0?1:e+1;return bJ(r,function(){return EJ(e,arguments)})});gI.exports=AJ});var qI=l((qnt,wI)=>{var MJ=$(),SJ=MJ(function(e,r,i){return e(r(i))});wI.exports=SJ});var EI=l((bnt,bI)=>{function IJ(t){return[t]}bI.exports=IJ});var MI=l((Ent,AI)=>{var OJ=Z(),PJ=EI(),TJ=OJ(PJ);AI.exports=TJ});var II=l((Ant,SI)=>{var NJ=k(),CJ=NJ(function(e,r){for(var i={},n={},a=0,o=e.length;a<o;)n[e[a]]=1,a+=1;for(var u in r)n.hasOwnProperty(u)||(i[u]=r[u]);return i});SI.exports=CJ});var PI=l((Mnt,OI)=>{var DJ=wn(),RJ=DJ(4,[],function(e,r,i,n){return e(r(i),r(n))});OI.exports=RJ});var NI=l((Snt,TI)=>{var kJ=Ar(),LJ=Z(),KJ=LJ(function(e){var r=!1,i;return kJ(e.length,function(){return r||(r=!0,i=e.apply(this,arguments)),i})});TI.exports=KJ});var s_=l((Int,CI)=>{var FJ=ta(),BJ=Ty();function HJ(t,e){if(e==null||!FJ(e.then))throw new TypeError("`"+t+"` expected a Promise, received "+BJ(e,[]))}CI.exports=HJ});var RI=l((Ont,DI)=>{var UJ=k(),GJ=s_(),jJ=UJ(function(e,r){return GJ("otherwise",r),r.then(null,e)});DI.exports=jJ});var u_=l((Pnt,LI)=>{var zJ=$(),kI=function(t){return{value:t,map:function(e){return kI(e(t))}}},WJ=zJ(function(e,r,i){return e(function(n){return kI(r(n))})(i).value});LI.exports=WJ});var FI=l((Tnt,KI)=>{var VJ=k(),YJ=VJ(function(e,r){return[e,r]});KI.exports=YJ});var l_=l((Nnt,BI)=>{var XJ=Ar(),ZJ=k();function $J(t){return ZJ(function(e,r){return XJ(Math.max(0,e.length-r.length),function(){return e.apply(this,t(r,arguments))})})}BI.exports=$J});var UI=l((Cnt,HI)=>{var QJ=ir(),JJ=l_(),eee=JJ(QJ);HI.exports=eee});var jI=l((Dnt,GI)=>{var tee=ir(),ree=l_(),iee=xs(),nee=ree(iee(tee));GI.exports=nee});var WI=l((Rnt,zI)=>{var aee=cl(),oee=$y(),see=ys(),uee=oee([aee,see]);zI.exports=uee});var YI=l((knt,VI)=>{var lee=$(),cee=zt(),fee=bn(),pee=lee(function(e,r,i){return cee(fee(e,i),r)});VI.exports=pee});var ZI=l((Lnt,XI)=>{var dee=$(),hee=dl(),mee=bn(),vee=dee(function(e,r,i){return hee(e,mee(r,i))});XI.exports=vee});var QI=l((Knt,$I)=>{var yee=$(),_ee=bn(),gee=yee(function(e,r,i){return e(_ee(r,i))});$I.exports=gee});var eO=l((Fnt,JI)=>{var xee=k(),wee=xee(function(e,r){for(var i={},n=0;n<e.length;)e[n]in r&&(i[e[n]]=r[e[n]]),n+=1;return i});JI.exports=wee});var c_=l((Bnt,tO)=>{var qee=k(),bee=qee(function(e,r){for(var i={},n=0,a=e.length;n<a;){var o=e[n];i[o]=r[o],n+=1}return i});tO.exports=bee});var iO=l((Hnt,rO)=>{var Eee=k(),Aee=Eee(function(e,r){var i={};for(var n in r)e(r[n],n,r)&&(i[n]=r[n]);return i});rO.exports=Aee});var f_=l((Unt,nO)=>{var Mee=ir(),See=k(),Iee=See(function(e,r){return Mee([e],r)});nO.exports=Iee});var oO=l((Gnt,aO)=>{var Oee=o_(),Pee=Hr(),Tee=Pee(Oee,1);aO.exports=Tee});var p_=l((jnt,sO)=>{var Nee=k(),Cee=gt(),Dee=Nee(function(e,r){return Cee(r.length,function(){for(var i=[],n=0;n<r.length;)i.push(r[n].call(this,arguments[n])),n+=1;return e.apply(this,i.concat(Array.prototype.slice.call(arguments,r.length)))})});sO.exports=Dee});var lO=l((znt,uO)=>{var Ree=Qn(),kee=ms(),Lee=c_(),Kee=p_(),Fee=Kee(Ree,[Lee,kee]);uO.exports=Fee});var d_=l((Wnt,cO)=>{function Bee(t,e,r){return function(i){return e(r(t(i)))}}cO.exports=Bee});var dO=l((Vnt,pO)=>{var Hee=$(),fO=st(),Uee=d_(),Gee=function(){function t(e,r,i){this.xf=i,this.f=e,this.g=r}return t.prototype["@@transducer/init"]=fO.init,t.prototype["@@transducer/result"]=fO.result,t.prototype["@@transducer/step"]=function(e,r){return this.xf["@@transducer/step"](e,Uee(this.f,this.g,r))},t}(),jee=Hee(function(e,r,i){return new Gee(e,r,i)});pO.exports=jee});var mO=l((Ynt,hO)=>{var zee=$(),Wee=ot(),Vee=d_(),Yee=dO(),Xee=zee(Wee(["fantasy-land/promap","promap"],Yee,Vee));hO.exports=Xee});var yO=l((Xnt,vO)=>{var Zee=$(),$ee=Ii(),Qee=zt(),Jee=Zee(function(e,r,i){return Qee(r,$ee(e,i))});vO.exports=Jee});var gO=l((Znt,_O)=>{var ete=$(),tte=Ii(),rte=Zy(),ite=ete(function(e,r,i){return rte(e,tte(r,i))});_O.exports=ite});var wO=l(($nt,xO)=>{var nte=$(),ate=dl(),ote=Ii(),ste=nte(function(e,r,i){return ate(e,ote(r,i))});xO.exports=ste});var bO=l((Qnt,qO)=>{var ute=$(),lte=Ii(),cte=ute(function(e,r,i){return e(lte(r,i))});qO.exports=cte});var AO=l((Jnt,EO)=>{var fte=k(),pte=bn(),dte=fte(function(e,r){return e.map(function(i){return pte([i],r)})});EO.exports=dte});var IO=l((eat,SO)=>{var hte=k(),MO=Qy(),mte=hte(function(e,r){if(!(MO(e)&&MO(r)))throw new TypeError("Both arguments to range must be numbers");for(var i=[],n=e;n<r;)i.push(n),n+=1;return i});SO.exports=mte});var h_=l((tat,OO)=>{var vte=$(),yte=vte(function(e,r,i){for(var n=i.length-1;n>=0;){if(r=e(i[n],r),r&&r["@@transducer/reduced"]){r=r["@@transducer/value"];break}n-=1}return r});OO.exports=yte});var TO=l((rat,PO)=>{var _te=wn(),gte=Ot(),xte=Br(),wte=_te(4,[],function(e,r,i,n){return gte(function(a,o){return e(a,o)?r(a,o):xte(a)},i,n)});PO.exports=wte});var CO=l((iat,NO)=>{var qte=Z(),bte=Br(),Ete=qte(bte);NO.exports=Ete});var m_=l((nat,DO)=>{var Ate=k(),Mte=Ate(function(e,r){var i=Number(r),n=0,a;if(i<0||isNaN(i))throw new RangeError("n must be a non-negative number");for(a=new Array(i);n<i;)a[n]=e(n),n+=1;return a});DO.exports=Mte});var kO=l((aat,RO)=>{var Ste=k(),Ite=fs(),Ote=m_(),Pte=Ste(function(e,r){return Ote(Ite(e),r)});RO.exports=Pte});var KO=l((oat,LO)=>{var Tte=$(),Nte=Tte(function(e,r,i){return i.replace(e,r)});LO.exports=Nte});var BO=l((sat,FO)=>{var Cte=$(),Dte=Cte(function(e,r,i){for(var n=0,a=i.length,o=[r];n<a;)r=e(r,i[n]),o[n+1]=r,n+=1;return o});FO.exports=Dte});var v_=l((uat,HO)=>{var Rte=k(),kte=el(),Lte=ar(),Kte=f_(),Fte=h_(),Bte=Rte(function(e,r){return typeof r.sequence=="function"?r.sequence(e):Fte(function(i,n){return kte(Lte(Kte,i),n)},e([]),r)});HO.exports=Bte});var GO=l((lat,UO)=>{var Hte=$(),Ute=fs(),Gte=u_(),jte=Hte(function(e,r,i){return Gte(e,Ute(r),i)});UO.exports=jte});var zO=l((cat,jO)=>{var zte=k(),Wte=zte(function(e,r){return Array.prototype.slice.call(r,0).sort(e)});jO.exports=Wte});var VO=l((fat,WO)=>{var Vte=k(),Yte=Vte(function(e,r){return Array.prototype.slice.call(r,0).sort(function(i,n){var a=e(i),o=e(n);return a<o?-1:a>o?1:0})});WO.exports=Yte});var XO=l((pat,YO)=>{var Xte=k(),Zte=Xte(function(e,r){return Array.prototype.slice.call(r,0).sort(function(i,n){for(var a=0,o=0;a===0&&o<e.length;)a=e[o](i,n),o+=1;return a})});YO.exports=Zte});var $O=l((dat,ZO)=>{var $te=oa(),Qte=$te(1,"split");ZO.exports=Qte});var eP=l((hat,JO)=>{var Jte=k(),ere=Jy(),QO=or(),tre=Jte(function(e,r){return[QO(0,e,r),QO(e,ere(r),r)]});JO.exports=tre});var rP=l((mat,tP)=>{var rre=k(),ire=or(),nre=rre(function(e,r){if(e<=0)throw new Error("First argument to splitEvery must be a positive integer");for(var i=[],n=0;n<r.length;)i.push(ire(n,n+=e,r));return i});tP.exports=nre});var nP=l((vat,iP)=>{var are=k(),ore=are(function(e,r){for(var i=0,n=r.length,a=[];i<n&&!e(r[i]);)a.push(r[i]),i+=1;return[a,Array.prototype.slice.call(r,i)]});iP.exports=ore});var oP=l((yat,aP)=>{var sre=wn(),ure=sre(2,[],function(e,r){for(var i=[],n=[],a=0;a<r.length;a=a+1)e(r[a])||n.push(r[a]),(a<r.length-1&&e(r[a+1])||a===r.length-1)&&n.length>0&&(i.push(n),n=[]);return i});aP.exports=ure});var uP=l((_at,sP)=>{var lre=k(),cre=zt(),fre=ml(),pre=lre(function(t,e){return cre(fre(t.length,e),t)});sP.exports=pre});var cP=l((gat,lP)=>{var dre=k(),hre=dre(function(e,r){return Number(e)-Number(r)});lP.exports=hre});var dP=l((xat,pP)=>{var mre=k(),vre=fl(),fP=Ry(),yre=mre(function(e,r){return vre(fP(e,r),fP(r,e))});pP.exports=yre});var vP=l((wat,mP)=>{var _re=$(),gre=fl(),hP=ky(),xre=_re(function(e,r,i){return gre(hP(e,r,i),hP(e,i,r))});mP.exports=xre});var _P=l((qat,yP)=>{var wre=k(),qre=or(),bre=wre(function(e,r){for(var i=r.length-1;i>=0&&e(r[i]);)i-=1;return qre(i+1,1/0,r)});yP.exports=bre});var wP=l((bat,xP)=>{var Ere=k(),Are=Br(),gP=st(),Mre=function(){function t(e,r){this.xf=r,this.f=e}return t.prototype["@@transducer/init"]=gP.init,t.prototype["@@transducer/result"]=gP.result,t.prototype["@@transducer/step"]=function(e,r){return this.f(r)?this.xf["@@transducer/step"](e,r):Are(e)},t}(),Sre=Ere(function(e,r){return new Mre(e,r)});xP.exports=Sre});var bP=l((Eat,qP)=>{var Ire=k(),Ore=ot(),Pre=wP(),Tre=or(),Nre=Ire(Ore(["takeWhile"],Pre,function(e,r){for(var i=0,n=r.length;i<n&&e(r[i]);)i+=1;return Tre(0,i,r)}));qP.exports=Nre});var MP=l((Aat,AP)=>{var Cre=k(),EP=st(),Dre=function(){function t(e,r){this.xf=r,this.f=e}return t.prototype["@@transducer/init"]=EP.init,t.prototype["@@transducer/result"]=EP.result,t.prototype["@@transducer/step"]=function(e,r){return this.f(r),this.xf["@@transducer/step"](e,r)},t}(),Rre=Cre(function(e,r){return new Dre(e,r)});AP.exports=Rre});var IP=l((Mat,SP)=>{var kre=k(),Lre=ot(),Kre=MP(),Fre=kre(Lre([],Kre,function(e,r){return e(r),r}));SP.exports=Fre});var PP=l((Sat,OP)=>{function Bre(t){return Object.prototype.toString.call(t)==="[object RegExp]"}OP.exports=Bre});var NP=l((Iat,TP)=>{var Hre=_y(),Ure=k(),Gre=PP(),jre=_s(),zre=Ure(function(e,r){if(!Gre(e))throw new TypeError("\u2018test\u2019 requires a value of type RegExp as its first argument; received "+jre(e));return Hre(e).test(r)});TP.exports=zre});var DP=l((Oat,CP)=>{var Wre=k(),Vre=s_(),Yre=Wre(function(e,r){return Vre("andThen",r),r.then(e)});CP.exports=Yre});var kP=l((Pat,RP)=>{var Xre=oa(),Zre=Xre(0,"toLowerCase");RP.exports=Zre});var KP=l((Tat,LP)=>{var $re=Z(),Qre=Pt(),Jre=$re(function(e){var r=[];for(var i in e)Qre(i,e)&&(r[r.length]=[i,e[i]]);return r});LP.exports=Jre});var BP=l((Nat,FP)=>{var eie=Z(),tie=eie(function(e){var r=[];for(var i in e)r[r.length]=[i,e[i]];return r});FP.exports=tie});var UP=l((Cat,HP)=>{var rie=oa(),iie=rie(0,"toUpperCase");HP.exports=iie});var jP=l((Dat,GP)=>{var nie=Ot(),aie=ly(),oie=gt(),sie=oie(4,function(e,r,i,n){return nie(e(typeof r=="function"?aie(r):r),i,n)});GP.exports=sie});var WP=l((Rat,zP)=>{var uie=Z(),lie=uie(function(e){for(var r=0,i=[];r<e.length;){for(var n=e[r],a=0;a<n.length;)typeof i[a]>"u"&&(i[a]=[]),i[a].push(n[a]),a+=1;r+=1}return i});zP.exports=lie});var YP=l((kat,VP)=>{var cie=$(),fie=ar(),pie=v_(),die=cie(function(e,r,i){return typeof i["fantasy-land/traverse"]=="function"?i["fantasy-land/traverse"](r,e):typeof i.traverse=="function"?i.traverse(r,e):pie(e,fie(r,i))});VP.exports=die});var $P=l((Lat,ZP)=>{var XP=Z(),Es=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`,hie="\u200B",mie=typeof String.prototype.trim=="function",vie=XP(!mie||Es.trim()||!hie.trim()?function(e){var r=new RegExp("^["+Es+"]["+Es+"]*"),i=new RegExp("["+Es+"]["+Es+"]*$");return e.replace(r,"").replace(i,"")}:function(e){return e.trim()});ZP.exports=vie});var JP=l((Kat,QP)=>{var yie=Ar(),_ie=ir(),gie=k(),xie=gie(function(e,r){return yie(e.length,function(){try{return e.apply(this,arguments)}catch(i){return r.apply(this,_ie([i],arguments))}})});QP.exports=xie});var tT=l((Fat,eT)=>{var wie=Z(),qie=wie(function(e){return function(){return e(Array.prototype.slice.call(arguments,0))}});eT.exports=qie});var iT=l((Bat,rT)=>{var bie=Z(),Eie=ds(),Aie=bie(function(e){return Eie(1,e)});rT.exports=Aie});var aT=l((Hat,nT)=>{var Mie=k(),Sie=gt(),Iie=Mie(function(e,r){return Sie(e,function(){for(var i=1,n=r,a=0,o;i<=e&&typeof n=="function";)o=i===e?arguments.length:a+n.length,n=n.apply(this,Array.prototype.slice.call(arguments,a,o)),i+=1,a=o;return n})});nT.exports=Iie});var sT=l((Uat,oT)=>{var Oie=k(),Pie=Oie(function(e,r){for(var i=e(r),n=[];i&&i.length;)n[n.length]=i[0],i=e(i[1]);return n});oT.exports=Pie});var lT=l((Gat,uT)=>{var Tie=ir(),Nie=k(),Cie=wy(),Die=vl(),Rie=Nie(Cie(Die,Tie));uT.exports=Rie});var pT=l((jat,fT)=>{var kie=k(),Lie=ia(),cT=st(),Kie=function(){function t(e,r){this.xf=r,this.pred=e,this.items=[]}return t.prototype["@@transducer/init"]=cT.init,t.prototype["@@transducer/result"]=cT.result,t.prototype["@@transducer/step"]=function(e,r){return Lie(this.pred,r,this.items)?e:(this.items.push(r),this.xf["@@transducer/step"](e,r))},t}(),Fie=kie(function(e,r){return new Kie(e,r)});fT.exports=Fie});var y_=l((zat,dT)=>{var Bie=k(),Hie=ot(),Uie=ia(),Gie=pT(),jie=Bie(Hie([],Gie,function(t,e){for(var r=0,i=e.length,n=[],a;r<i;)a=e[r],Uie(t,a,n)||(n[n.length]=a),r+=1;return n}));dT.exports=jie});var mT=l((Wat,hT)=>{var zie=ir(),Wie=$(),Vie=y_(),Yie=Wie(function(e,r,i){return Vie(e,zie(r,i))});hT.exports=Yie});var yT=l((Vat,vT)=>{var Xie=$(),Zie=Xie(function(e,r,i){return e(i)?i:r(i)});vT.exports=Zie});var gT=l((Yat,_T)=>{var $ie=ul(),Qie=yy(),Jie=Qie($ie);_T.exports=Jie});var wT=l((Xat,xT)=>{var ene=$(),tne=ene(function(e,r,i){for(var n=i;!e(n);)n=r(n);return n});xT.exports=tne});var bT=l((Zat,qT)=>{var rne=k(),ine=It(),nne=Qn(),ane=tl(),one=rne(function(t,e){return t in e&&ine(e[t])?nne(function(r){return ane(t,r,e)},e[t]):[e]});qT.exports=one});var AT=l(($at,ET)=>{var sne=Z(),une=sne(function(e){var r,i=[];for(r in e)i[i.length]=e[r];return i});ET.exports=une});var ST=l((Qat,MT)=>{var lne=k(),cne=function(t){return{value:t,"fantasy-land/map":function(){return this}}},fne=lne(function(e,r){return e(cne)(r).value});MT.exports=fne});var OT=l((Jat,IT)=>{var pne=$(),dne=pne(function(e,r,i){return e(i)?r(i):i});IT.exports=dne});var __=l((eot,PT)=>{var hne=k(),mne=Pt(),vne=hne(function(e,r){for(var i in e)if(mne(i,e)&&!e[i](r[i]))return!1;return!0});PT.exports=vne});var NT=l((tot,TT)=>{var yne=k(),_ne=Pt(),gne=yne(function(e,r){for(var i in e)if(_ne(i,e)&&e[i](r[i]))return!0;return!1});TT.exports=gne});var DT=l((rot,CT)=>{var xne=k(),wne=zt(),qne=ar(),bne=__(),Ene=xne(function(e,r){return bne(qne(wne,e),r)});CT.exports=Ene});var kT=l((iot,RT)=>{var Ane=na(),Mne=k(),Sne=xs(),Ine=ys(),One=Mne(function(t,e){return Ine(Sne(Ane)(t),e)});RT.exports=One});var KT=l((not,LT)=>{var Pne=k(),Tne=Pne(function(e,r){return!!(!e^!r)});LT.exports=Tne});var BT=l((aot,FT)=>{var Nne=k(),Cne=Nne(function(e,r){for(var i=0,n=e.length,a,o=r.length,u=[];i<n;){for(a=0;a<o;)u[u.length]=[e[i],r[a]],a+=1;i+=1}return u});FT.exports=Cne});var UT=l((oot,HT)=>{var Dne=k(),Rne=Dne(function(e,r){for(var i=[],n=0,a=Math.min(e.length,r.length);n<a;)i[n]=[e[n],r[n]],n+=1;return i});HT.exports=Rne});var jT=l((sot,GT)=>{var kne=k(),Lne=kne(function(e,r){for(var i=0,n=Math.min(e.length,r.length),a={};i<n;)a[e[i]]=r[i],i+=1;return a});GT.exports=Lne});var WT=l((uot,zT)=>{var Kne=$(),Fne=Kne(function(e,r,i){for(var n=[],a=0,o=Math.min(r.length,i.length);a<o;)n[a]=e(r[a],i[a]),a+=1;return n});zT.exports=Fne});var YT=l((lot,VT)=>{var Bne=gt(),Hne=Z(),Une=Hne(function(e){return Bne(e.length,function(){var i=arguments;return function(){return e.apply(this,i)}})});VT.exports=Une});var P=l((cot,I)=>{I.exports={};I.exports.F=kq();I.exports.T=Kq();I.exports.__=Bq();I.exports.add=ls();I.exports.addIndex=Qq();I.exports.adjust=sy();I.exports.all=uy();I.exports.allPass=Lb();I.exports.always=fs();I.exports.and=py();I.exports.any=Gb();I.exports.anyPass=zb();I.exports.ap=el();I.exports.aperture=Qb();I.exports.append=e1();I.exports.apply=dy();I.exports.applySpec=a1();I.exports.applyTo=s1();I.exports.ascend=l1();I.exports.assoc=il();I.exports.assocPath=rl();I.exports.binary=v1();I.exports.bind=cy();I.exports.both=q1();I.exports.call=E1();I.exports.chain=yy();I.exports.clamp=k1();I.exports.clone=U1();I.exports.collectBy=j1();I.exports.comparator=W1();I.exports.complement=X1();I.exports.compose=wy();I.exports.composeWith=lE();I.exports.concat=fl();I.exports.cond=VE();I.exports.construct=$E();I.exports.constructN=Cy();I.exports.converge=Dy();I.exports.count=eA();I.exports.countBy=aA();I.exports.curry=pl();I.exports.curryN=gt();I.exports.dec=sA();I.exports.defaultTo=dl();I.exports.descend=cA();I.exports.difference=Ry();I.exports.differenceWith=ky();I.exports.dissoc=qA();I.exports.dissocPath=Ky();I.exports.divide=EA();I.exports.drop=Fy();I.exports.dropLast=KA();I.exports.dropLastWhile=jA();I.exports.dropRepeats=$A();I.exports.dropRepeatsWith=Uy();I.exports.dropWhile=rM();I.exports.either=aM();I.exports.empty=jy();I.exports.endsWith=fM();I.exports.eqBy=dM();I.exports.eqProps=mM();I.exports.equals=zt();I.exports.evolve=yM();I.exports.filter=cl();I.exports.find=wM();I.exports.findIndex=AM();I.exports.findLast=OM();I.exports.findLastIndex=CM();I.exports.flatten=RM();I.exports.flip=xs();I.exports.forEach=KM();I.exports.forEachObjIndexed=BM();I.exports.fromPairs=UM();I.exports.groupBy=jM();I.exports.groupWith=WM();I.exports.gt=YM();I.exports.gte=ZM();I.exports.has=eS();I.exports.hasIn=rS();I.exports.hasPath=Wy();I.exports.head=qy();I.exports.identical=nS();I.exports.identity=ms();I.exports.ifElse=oS();I.exports.inc=uS();I.exports.includes=cS();I.exports.indexBy=pS();I.exports.indexOf=hS();I.exports.init=vS();I.exports.innerJoin=_S();I.exports.insert=xS();I.exports.insertAll=qS();I.exports.intersection=OS();I.exports.intersperse=TS();I.exports.into=FS();I.exports.invert=HS();I.exports.invertObj=GS();I.exports.invoker=oa();I.exports.is=Zy();I.exports.isEmpty=VS();I.exports.isNil=ps();I.exports.join=XS();I.exports.juxt=$y();I.exports.keys=nr();I.exports.keysIn=QS();I.exports.last=Hy();I.exports.lastIndexOf=e2();I.exports.length=Jy();I.exports.lens=qs();I.exports.lensIndex=o2();I.exports.lensPath=c2();I.exports.lensProp=p2();I.exports.lift=hs();I.exports.liftN=my();I.exports.lt=h2();I.exports.lte=v2();I.exports.map=ar();I.exports.mapAccum=_2();I.exports.mapAccumRight=x2();I.exports.mapObjIndexed=q2();I.exports.match=E2();I.exports.mathMod=S2();I.exports.max=qn();I.exports.maxBy=O2();I.exports.mean=i_();I.exports.median=C2();I.exports.memoizeWith=R2();I.exports.mergeAll=L2();I.exports.mergeDeepLeft=U2();I.exports.mergeDeepRight=n_();I.exports.mergeDeepWith=z2();I.exports.mergeDeepWithKey=bs();I.exports.mergeLeft=V2();I.exports.mergeRight=X2();I.exports.mergeWith=$2();I.exports.mergeWithKey=_l();I.exports.min=J2();I.exports.minBy=tI();I.exports.modify=oI();I.exports.modifyPath=a_();I.exports.modulo=uI();I.exports.move=cI();I.exports.multiply=o_();I.exports.nAry=ds();I.exports.partialObject=hI();I.exports.negate=vI();I.exports.none=_I();I.exports.not=gy();I.exports.nth=Si();I.exports.nthArg=xI();I.exports.o=qI();I.exports.objOf=Yy();I.exports.of=MI();I.exports.omit=II();I.exports.on=PI();I.exports.once=NI();I.exports.or=Gy();I.exports.otherwise=RI();I.exports.over=u_();I.exports.pair=FI();I.exports.partial=UI();I.exports.partialRight=jI();I.exports.partition=WI();I.exports.path=bn();I.exports.paths=t_();I.exports.pathEq=YI();I.exports.pathOr=ZI();I.exports.pathSatisfies=QI();I.exports.pick=eO();I.exports.pickAll=c_();I.exports.pickBy=iO();I.exports.pipe=xy();I.exports.pipeWith=by();I.exports.pluck=ea();I.exports.prepend=f_();I.exports.product=oO();I.exports.project=lO();I.exports.promap=mO();I.exports.prop=Ii();I.exports.propEq=yO();I.exports.propIs=gO();I.exports.propOr=wO();I.exports.propSatisfies=bO();I.exports.props=AO();I.exports.range=IO();I.exports.reduce=Hr();I.exports.reduceBy=gs();I.exports.reduceRight=h_();I.exports.reduceWhile=TO();I.exports.reduced=CO();I.exports.reject=ys();I.exports.remove=Ly();I.exports.repeat=kO();I.exports.replace=KO();I.exports.reverse=sl();I.exports.scan=BO();I.exports.sequence=v_();I.exports.set=GO();I.exports.slice=or();I.exports.sort=zO();I.exports.sortBy=VO();I.exports.sortWith=XO();I.exports.split=$O();I.exports.splitAt=eP();I.exports.splitEvery=rP();I.exports.splitWhen=nP();I.exports.splitWhenever=oP();I.exports.startsWith=uP();I.exports.subtract=cP();I.exports.sum=r_();I.exports.symmetricDifference=dP();I.exports.symmetricDifferenceWith=vP();I.exports.tail=ol();I.exports.take=ml();I.exports.takeLast=zy();I.exports.takeLastWhile=_P();I.exports.takeWhile=bP();I.exports.tap=IP();I.exports.test=NP();I.exports.andThen=DP();I.exports.times=m_();I.exports.toLower=kP();I.exports.toPairs=KP();I.exports.toPairsIn=BP();I.exports.toString=_s();I.exports.toUpper=UP();I.exports.transduce=jP();I.exports.transpose=WP();I.exports.traverse=YP();I.exports.trim=$P();I.exports.tryCatch=JP();I.exports.type=nl();I.exports.unapply=tT();I.exports.unary=iT();I.exports.uncurryN=aT();I.exports.unfold=sT();I.exports.union=lT();I.exports.unionWith=mT();I.exports.uniq=vl();I.exports.uniqBy=Vy();I.exports.uniqWith=y_();I.exports.unless=yT();I.exports.unnest=gT();I.exports.until=wT();I.exports.unwind=bT();I.exports.update=e_();I.exports.useWith=p_();I.exports.values=hy();I.exports.valuesIn=AT();I.exports.view=ST();I.exports.when=OT();I.exports.where=__();I.exports.whereAny=NT();I.exports.whereEq=DT();I.exports.without=kT();I.exports.xor=KT();I.exports.xprod=BT();I.exports.zip=UT();I.exports.zipObj=jT();I.exports.zipWith=WT();I.exports.thunkify=YT()});var sa=l(gl=>{"use strict";gl.__esModule=!0;gl.default=void 0;var Gne=P(),jne=(0,Gne.always)(void 0),zne=jne;gl.default=zne});var ua=l(xl=>{"use strict";xl.__esModule=!0;xl.default=void 0;var Wne=P(),Vne=Yne(sa());function Yne(t){return t&&t.__esModule?t:{default:t}}var Xne=(0,Wne.equals)((0,Vne.default)()),Zne=Xne;xl.default=Zne});var As=l(wl=>{"use strict";wl.__esModule=!0;wl.default=void 0;var $ne=P(),Qne=Jne(ua());function Jne(t){return t&&t.__esModule?t:{default:t}}var eae=(0,$ne.complement)(Qne.default),tae=eae;wl.default=tae});var Ms=l(ql=>{"use strict";ql.__esModule=!0;ql.default=void 0;var rae=P(),iae=(0,rae.equals)(null),nae=iae;ql.default=nae});var El=l(bl=>{"use strict";bl.__esModule=!0;bl.default=void 0;var aae=P(),oae=sae(Ms());function sae(t){return t&&t.__esModule?t:{default:t}}var uae=(0,aae.complement)(oae.default),lae=uae;bl.default=lae});var Ml=l(Al=>{"use strict";Al.__esModule=!0;Al.default=void 0;var XT=P(),cae=(0,XT.complement)(XT.isNil),fae=cae;Al.default=fae});var Ol=l(Il=>{"use strict";Il.__esModule=!0;Il.default=void 0;var Sl=P(),pae=(0,Sl.curryN)(1,(0,Sl.pipe)(Sl.type,(0,Sl.identical)("GeneratorFunction"))),dae=pae;Il.default=dae});var Nl=l(Tl=>{"use strict";Tl.__esModule=!0;Tl.default=void 0;var Pl=P(),hae=(0,Pl.curryN)(1,(0,Pl.pipe)(Pl.type,(0,Pl.identical)("AsyncFunction"))),mae=hae;Tl.default=mae});var Qe=l(Dl=>{"use strict";Dl.__esModule=!0;Dl.default=void 0;var Cl=P(),vae=ZT(Ol()),yae=ZT(Nl());function ZT(t){return t&&t.__esModule?t:{default:t}}var _ae=(0,Cl.anyPass)([(0,Cl.pipe)(Cl.type,(0,Cl.identical)("Function")),vae.default,yae.default]),gae=_ae;Dl.default=gae});var li=l(kl=>{"use strict";kl.__esModule=!0;kl.default=void 0;var Rl=P(),xae=wae(Qe());function wae(t){return t&&t.__esModule?t:{default:t}}var qae=(0,Rl.curryN)(1,(0,xae.default)(Array.isArray)?Array.isArray:(0,Rl.pipe)(Rl.type,(0,Rl.identical)("Array"))),bae=qae;kl.default=bae});var Kl=l(Ll=>{"use strict";Ll.__esModule=!0;Ll.default=void 0;var $T=P(),Eae=Aae(Qe());function Aae(t){return t&&t.__esModule?t:{default:t}}var Mae=(0,$T.curryN)(1,function(t){return typeof Symbol>"u"?!1:(0,$T.hasIn)(Symbol.iterator,Object(t))&&(0,Eae.default)(t[Symbol.iterator])}),Sae=Mae;Ll.default=Sae});var g_=l(Fl=>{"use strict";Fl.__esModule=!0;Fl.default=void 0;var QT=P(),Iae=Oae(li());function Oae(t){return t&&t.__esModule?t:{default:t}}var Pae=(0,QT.both)(Iae.default,QT.isEmpty),Tae=Pae;Fl.default=Tae});var x_=l(Bl=>{"use strict";Bl.__esModule=!0;Bl.default=void 0;var Nae=P(),Cae=Dae(li());function Dae(t){return t&&t.__esModule?t:{default:t}}var Rae=(0,Nae.complement)(Cae.default),kae=Rae;Bl.default=kae});var Ss=l(Hl=>{"use strict";Hl.__esModule=!0;Hl.default=void 0;var JT=P(),Lae=(0,JT.complement)(JT.isEmpty),Kae=Lae;Hl.default=Kae});var w_=l(Ul=>{"use strict";Ul.__esModule=!0;Ul.default=void 0;var Fae=P(),Bae=eN(Ss()),Hae=eN(li());function eN(t){return t&&t.__esModule?t:{default:t}}var Uae=(0,Fae.both)(Hae.default,Bae.default),Gae=Uae;Ul.default=Gae});var zl=l(jl=>{"use strict";jl.__esModule=!0;jl.default=void 0;var Gl=P(),jae=(0,Gl.curryN)(1,(0,Gl.pipe)(Gl.type,(0,Gl.identical)("Boolean"))),zae=jae;jl.default=zae});var tN=l(Wl=>{"use strict";Wl.__esModule=!0;Wl.default=void 0;var Wae=P(),Vae=Yae(zl());function Yae(t){return t&&t.__esModule?t:{default:t}}var Xae=(0,Wae.complement)(Vae.default),Zae=Xae;Wl.default=Zae});var q_=l(Yl=>{"use strict";Yl.__esModule=!0;Yl.default=void 0;var Vl=P(),$ae=(0,Vl.curryN)(1,(0,Vl.either)(Vl.isNil,Vl.isEmpty)),Qae=$ae;Yl.default=Qae});var ci=l(Zl=>{"use strict";Zl.__esModule=!0;Zl.default=void 0;var Xl=P(),Jae=(0,Xl.curryN)(1,(0,Xl.pipe)(Xl.type,(0,Xl.identical)("String"))),eoe=Jae;Zl.default=eoe});var rN=l($l=>{"use strict";$l.__esModule=!0;$l.default=void 0;var toe=P(),roe=(0,toe.equals)(""),ioe=roe;$l.default=ioe});var iN=l(Ql=>{"use strict";Ql.__esModule=!0;Ql.default=void 0;var noe=P(),aoe=ooe(ci());function ooe(t){return t&&t.__esModule?t:{default:t}}var soe=(0,noe.complement)(aoe.default),uoe=soe;Ql.default=uoe});var E_=l(Jl=>{"use strict";Jl.__esModule=!0;Jl.default=void 0;function b_(t){"@babel/helpers - typeof";return b_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b_(t)}var loe=function(e){return b_(e)==="object"},coe=loe;Jl.default=coe});var Is=l(ec=>{"use strict";ec.__esModule=!0;ec.default=void 0;var A_=P(),foe=M_(El()),poe=M_(Qe()),doe=M_(E_());function M_(t){return t&&t.__esModule?t:{default:t}}var hoe=(0,A_.curryN)(1,(0,A_.both)(foe.default,(0,A_.either)(doe.default,poe.default))),moe=hoe;ec.default=moe});var rc=l(tc=>{"use strict";tc.__esModule=!0;tc.default=void 0;var voe=P(),yoe=_oe(Is());function _oe(t){return t&&t.__esModule?t:{default:t}}var goe=(0,voe.complement)(yoe.default),xoe=goe;tc.default=xoe});var nN=l(ic=>{"use strict";ic.__esModule=!0;ic.default=void 0;var woe=P(),qoe=S_(ci()),boe=S_(rc()),Eoe=S_(Ss());function S_(t){return t&&t.__esModule?t:{default:t}}var Aoe=(0,woe.allPass)([qoe.default,boe.default,Eoe.default]),Moe=Aoe;ic.default=Moe});var ac=l(nc=>{"use strict";nc.__esModule=!0;nc.default=void 0;var I_=P(),Soe=aN(li()),Ioe=aN(ci());function aN(t){return t&&t.__esModule?t:{default:t}}function O_(t){"@babel/helpers - typeof";return O_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O_(t)}var Ooe=(0,I_.curryN)(1,function(t){return(0,Soe.default)(t)?!0:!t||(0,Ioe.default)(t)||O_(t)!=="object"?!1:t.nodeType===1?!!t.length:t.length===0?!0:t.length>0?(0,I_.has)(0,t)&&(0,I_.has)(t.length-1,t):!1}),Poe=Ooe;nc.default=Poe});var oN=l(oc=>{"use strict";oc.__esModule=!0;oc.default=void 0;var Toe=P(),Noe=Coe(ac());function Coe(t){return t&&t.__esModule?t:{default:t}}var Doe=(0,Toe.complement)(Noe.default),Roe=Doe;oc.default=Roe});var sN=l(sc=>{"use strict";sc.__esModule=!0;sc.default=void 0;var koe=P(),Loe=Koe(Ol());function Koe(t){return t&&t.__esModule?t:{default:t}}var Foe=(0,koe.complement)(Loe.default),Boe=Foe;sc.default=Boe});var uN=l(uc=>{"use strict";uc.__esModule=!0;uc.default=void 0;var Hoe=P(),Uoe=Goe(Nl());function Goe(t){return t&&t.__esModule?t:{default:t}}var joe=(0,Hoe.complement)(Uoe.default),zoe=joe;uc.default=zoe});var cc=l(lc=>{"use strict";lc.__esModule=!0;lc.default=void 0;var Woe=P(),Voe=Yoe(Qe());function Yoe(t){return t&&t.__esModule?t:{default:t}}var Xoe=(0,Woe.complement)(Voe.default),Zoe=Xoe;lc.default=Zoe});var pc=l(fc=>{"use strict";fc.__esModule=!0;fc.default=void 0;var lN=P(),$oe=cN(El()),Qoe=cN(E_());function cN(t){return t&&t.__esModule?t:{default:t}}var Joe=(0,lN.curryN)(1,(0,lN.both)($oe.default,Qoe.default)),ese=Joe;fc.default=ese});var fN=l(dc=>{"use strict";dc.__esModule=!0;dc.default=void 0;var tse=P(),rse=ise(pc());function ise(t){return t&&t.__esModule?t:{default:t}}var nse=(0,tse.complement)(rse.default),ase=nse;dc.default=ase});var T_=l(hc=>{"use strict";hc.__esModule=!0;hc.default=void 0;var Ur=P(),ose=P_(Ms()),sse=P_(pc()),use=P_(Qe());function P_(t){return t&&t.__esModule?t:{default:t}}var lse=(0,Ur.pipe)(Ur.type,(0,Ur.identical)("Object")),cse=(0,Ur.pipe)(Ur.toString,(0,Ur.equals)((0,Ur.toString)(Object))),fse=(0,Ur.pathSatisfies)((0,Ur.both)(use.default,cse),["constructor"]),pse=(0,Ur.curryN)(1,function(t){if(!(0,sse.default)(t)||!lse(t))return!1;var e=Object.getPrototypeOf(t);return(0,ose.default)(e)?!0:fse(e)}),dse=pse;hc.default=dse});var pN=l(mc=>{"use strict";mc.__esModule=!0;mc.default=void 0;var hse=P(),mse=vse(T_());function vse(t){return t&&t.__esModule?t:{default:t}}var yse=(0,hse.complement)(mse.default),_se=yse;mc.default=_se});var _c=l(yc=>{"use strict";yc.__esModule=!0;yc.default=void 0;var vc=P(),gse=(0,vc.curryN)(1,(0,vc.pipe)(vc.type,(0,vc.identical)("Date"))),xse=gse;yc.default=xse});var dN=l(gc=>{"use strict";gc.__esModule=!0;gc.default=void 0;var wse=P(),qse=bse(_c());function bse(t){return t&&t.__esModule?t:{default:t}}var Ese=(0,wse.complement)(qse.default),Ase=Ese;gc.default=Ase});var Mr=l(wc=>{"use strict";wc.__esModule=!0;wc.default=void 0;var xc=P(),Mse=(0,xc.curryN)(1,(0,xc.pipe)(xc.type,(0,xc.identical)("Number"))),Sse=Mse;wc.default=Sse});var hN=l(qc=>{"use strict";qc.__esModule=!0;qc.default=void 0;var Ise=P(),Ose=Pse(Mr());function Pse(t){return t&&t.__esModule?t:{default:t}}var Tse=(0,Ise.both)(Ose.default,isNaN),Nse=Tse;qc.default=Nse});var N_=l(la=>{"use strict";la.__esModule=!0;la.isNaNPonyfill=la.default=void 0;var mN=P(),Cse=vN(Qe()),Dse=vN(hN());function vN(t){return t&&t.__esModule?t:{default:t}}var yN=(0,mN.curryN)(1,Dse.default);la.isNaNPonyfill=yN;var Rse=(0,Cse.default)(Number.isNaN)?(0,mN.curryN)(1,Number.isNaN):yN,kse=Rse;la.default=kse});var C_=l(bc=>{"use strict";bc.__esModule=!0;bc.default=void 0;var Lse=P(),Kse=Fse(N_());function Fse(t){return t&&t.__esModule?t:{default:t}}var Bse=(0,Lse.complement)(Kse.default),Hse=Bse;bc.default=Hse});var D_=l(Ac=>{"use strict";Ac.__esModule=!0;Ac.default=void 0;var Ec=P(),Use=_N(_c()),Gse=_N(C_());function _N(t){return t&&t.__esModule?t:{default:t}}var jse=(0,Ec.curryN)(1,(0,Ec.both)(Use.default,(0,Ec.pipe)((0,Ec.invoker)(0,"getTime"),Gse.default))),zse=jse;Ac.default=zse});var gN=l(Mc=>{"use strict";Mc.__esModule=!0;Mc.default=void 0;var Wse=P(),Vse=Yse(D_());function Yse(t){return t&&t.__esModule?t:{default:t}}var Xse=(0,Wse.complement)(Vse.default),Zse=Xse;Mc.default=Zse});var xN=l(Sc=>{"use strict";Sc.__esModule=!0;Sc.default=void 0;var $se=P(),Qse=Jse(Mr());function Jse(t){return t&&t.__esModule?t:{default:t}}var eue=(0,$se.complement)(Qse.default),tue=eue;Sc.default=tue});var qN=l(Ic=>{"use strict";Ic.__esModule=!0;Ic.default=void 0;var wN=P(),rue=iue(Mr());function iue(t){return t&&t.__esModule?t:{default:t}}var nue=(0,wN.both)(rue.default,(0,wN.lt)(0)),aue=nue;Ic.default=aue});var Pc=l(Oc=>{"use strict";Oc.__esModule=!0;Oc.default=void 0;var R_=P(),oue=sue(Mr());function sue(t){return t&&t.__esModule?t:{default:t}}var uue=(0,R_.curryN)(1,(0,R_.both)(oue.default,(0,R_.gt)(0))),lue=uue;Oc.default=lue});var bN=l(Tc=>{"use strict";Tc.__esModule=!0;Tc.default=void 0;var cue=P(),fue=(0,cue.identical)(0),pue=fue;Tc.default=pue});var EN=l(Nc=>{"use strict";Nc.__esModule=!0;Nc.default=void 0;var due=P(),hue=(0,due.identical)(-0),mue=hue;Nc.default=mue});var AN=l(Cc=>{"use strict";Cc.__esModule=!0;Cc.default=void 0;var vue=P(),yue=_ue(q_());function _ue(t){return t&&t.__esModule?t:{default:t}}var gue=(0,vue.complement)(yue.default),xue=gue;Cc.default=xue});var MN=l(Rc=>{"use strict";Rc.__esModule=!0;Rc.default=void 0;var Dc=P(),wue=que(Mr());function que(t){return t&&t.__esModule?t:{default:t}}var bue=(0,Dc.curryN)(1,(0,Dc.both)(wue.default,(0,Dc.flip)(Dc.lte)(0))),Eue=bue;Rc.default=Eue});var k_=l(Lc=>{"use strict";Lc.__esModule=!0;Lc.default=void 0;var kc=P(),Aue=Mue(Mr());function Mue(t){return t&&t.__esModule?t:{default:t}}var Sue=(0,kc.curryN)(1,(0,kc.both)(Aue.default,(0,kc.flip)(kc.gte)(0))),Iue=Sue;Lc.default=Iue});var L_=l(Fc=>{"use strict";Fc.__esModule=!0;Fc.default=void 0;var Kc=P(),Oue=(0,Kc.curryN)(1,(0,Kc.pipe)(Kc.type,(0,Kc.identical)("Map"))),Pue=Oue;Fc.default=Pue});var SN=l(Bc=>{"use strict";Bc.__esModule=!0;Bc.default=void 0;var Tue=P(),Nue=Cue(L_());function Cue(t){return t&&t.__esModule?t:{default:t}}var Due=(0,Tue.complement)(Nue.default),Rue=Due;Bc.default=Rue});var IN=l(Hc=>{"use strict";Hc.__esModule=!0;Hc.default=void 0;var kue=P(),Lue=Kue(Mr());function Kue(t){return t&&t.__esModule?t:{default:t}}var Fue=(0,kue.both)(Lue.default,isFinite),Bue=Fue;Hc.default=Bue});var fa=l(ca=>{"use strict";ca.__esModule=!0;ca.isFinitePonyfill=ca.default=void 0;var K_=P(),Hue=ON(Qe()),Uue=ON(IN());function ON(t){return t&&t.__esModule?t:{default:t}}var PN=(0,K_.curryN)(1,Uue.default);ca.isFinitePonyfill=PN;var Gue=(0,Hue.default)(Number.isFinite)?(0,K_.curryN)(1,(0,K_.bind)(Number.isFinite,Number)):PN,jue=Gue;ca.default=jue});var F_=l(Uc=>{"use strict";Uc.__esModule=!0;Uc.default=void 0;var zue=P(),Wue=Vue(fa());function Vue(t){return t&&t.__esModule?t:{default:t}}var Yue=(0,zue.complement)(Wue.default),Xue=Yue;Uc.default=Xue});var TN=l(jc=>{"use strict";jc.__esModule=!0;jc.default=void 0;var Gc=P(),Zue=$ue(fa());function $ue(t){return t&&t.__esModule?t:{default:t}}var Que=(0,Gc.both)(Zue.default,(0,Gc.converge)(Gc.equals,[Math.floor,Gc.identity])),Jue=Que;jc.default=Jue});var Gr=l(pa=>{"use strict";pa.__esModule=!0;pa.isIntegerPonyfill=pa.default=void 0;var B_=P(),ele=NN(Qe()),tle=NN(TN());function NN(t){return t&&t.__esModule?t:{default:t}}var CN=(0,B_.curryN)(1,tle.default);pa.isIntegerPonyfill=CN;var rle=(0,ele.default)(Number.isInteger)?(0,B_.curryN)(1,(0,B_.bind)(Number.isInteger,Number)):CN,ile=rle;pa.default=ile});var H_=l(zc=>{"use strict";zc.__esModule=!0;zc.default=void 0;var nle=P(),ale=(0,nle.curryN)(1,function(t){return t>>0}),ole=ale;zc.default=ole});var U_=l(Wc=>{"use strict";Wc.__esModule=!0;Wc.default=void 0;var sle=P(),ule=lle(H_());function lle(t){return t&&t.__esModule?t:{default:t}}var cle=(0,sle.curryN)(1,function(t){return(0,ule.default)(t)===t}),fle=cle;Wc.default=fle});var G_=l(Vc=>{"use strict";Vc.__esModule=!0;Vc.default=void 0;var ple=P(),dle=(0,ple.curryN)(1,function(t){return t>>>0}),hle=dle;Vc.default=hle});var DN=l(Yc=>{"use strict";Yc.__esModule=!0;Yc.default=void 0;var mle=P(),vle=yle(G_());function yle(t){return t&&t.__esModule?t:{default:t}}var _le=(0,mle.curryN)(1,function(t){return(0,vle.default)(t)===t}),gle=_le;Yc.default=gle});var RN=l(Xc=>{"use strict";Xc.__esModule=!0;Xc.default=void 0;var xle=P(),wle=qle(Gr());function qle(t){return t&&t.__esModule?t:{default:t}}var ble=(0,xle.complement)(wle.default),Ele=ble;Xc.default=Ele});var j_=l($c=>{"use strict";$c.__esModule=!0;$c.default=void 0;var Zc=P(),Ale=(0,Zc.curryN)(1,(0,Zc.pipe)(Zc.type,(0,Zc.identical)("BigInt"))),Mle=Ale;$c.default=Mle});var Jc=l(Qc=>{"use strict";Qc.__esModule=!0;Qc.default=void 0;var kN=P(),Sle=LN(Gr()),Ile=LN(fa());function LN(t){return t&&t.__esModule?t:{default:t}}var Ole=(0,kN.both)(Ile.default,(0,kN.complement)(Sle.default)),Ple=Ole;Qc.default=Ple});var FN=l(ef=>{"use strict";ef.__esModule=!0;ef.default=void 0;var KN=P(),Tle=Nle(Jc());function Nle(t){return t&&t.__esModule?t:{default:t}}var Cle=(0,KN.curryN)(1,(0,KN.complement)(Tle.default)),Dle=Cle;ef.default=Dle});var z_=l(tf=>{"use strict";tf.__esModule=!0;tf.default=void 0;var BN=P(),Rle=HN(Jc()),kle=HN(Gr());function HN(t){return t&&t.__esModule?t:{default:t}}var Lle=(0,BN.curryN)(1,(0,BN.either)(kle.default,Rle.default)),Kle=Lle;tf.default=Kle});var UN=l(rf=>{"use strict";rf.__esModule=!0;rf.default=void 0;var Fle=P(),Ble=Hle(z_());function Hle(t){return t&&t.__esModule?t:{default:t}}var Ule=(0,Fle.complement)(Ble.default),Gle=Ule;rf.default=Gle});var W_=l(nf=>{"use strict";nf.__esModule=!0;nf.default=void 0;var En=P(),jle=zle(Gr());function zle(t){return t&&t.__esModule?t:{default:t}}var Wle=(0,En.curryN)(1,(0,En.both)(jle.default,(0,En.pipe)((0,En.flip)(En.modulo)(2),(0,En.complement)(En.equals)(0)))),Vle=Wle;nf.default=Vle});var jN=l(af=>{"use strict";af.__esModule=!0;af.default=void 0;var V_=P(),Yle=GN(Gr()),Xle=GN(W_());function GN(t){return t&&t.__esModule?t:{default:t}}var Zle=(0,V_.curryN)(1,(0,V_.both)(Yle.default,(0,V_.complement)(Xle.default))),$le=Zle;af.default=$le});var Y_=l(of=>{"use strict";of.__esModule=!0;of.default=void 0;var Os=P(),Qle=Jle(li());function Jle(t){return t&&t.__esModule?t:{default:t}}var ece=(0,Os.curryN)(1,(0,Os.both)(Qle.default,(0,Os.pipe)(Os.length,(0,Os.equals)(2)))),tce=ece;of.default=tce});var zN=l(sf=>{"use strict";sf.__esModule=!0;sf.default=void 0;var rce=P(),ice=nce(Y_());function nce(t){return t&&t.__esModule?t:{default:t}}var ace=(0,rce.complement)(ice.default),oce=ace;sf.default=oce});var WN=l(uf=>{"use strict";uf.__esModule=!0;uf.default=void 0;var sce=P(),uce=lce(Qe());function lce(t){return t&&t.__esModule?t:{default:t}}var cce=(0,sce.pathSatisfies)(uce.default,["then"]),fce=cce;uf.default=fce});var VN=l(lf=>{"use strict";lf.__esModule=!0;lf.default=void 0;var Ps=P(),pce=dce(Is());function dce(t){return t&&t.__esModule?t:{default:t}}var hce=(0,Ps.curryN)(1,(0,Ps.both)(pce.default,(0,Ps.pipe)(Ps.toString,(0,Ps.equals)("[object Promise]")))),mce=hce;lf.default=mce});var X_=l(cf=>{"use strict";cf.__esModule=!0;cf.default=void 0;var vce=P(),yce=(0,vce.identical)(!0),_ce=yce;cf.default=_ce});var Z_=l(ff=>{"use strict";ff.__esModule=!0;ff.default=void 0;var gce=P(),xce=(0,gce.identical)(!1),wce=xce;ff.default=wce});var df=l(pf=>{"use strict";pf.__esModule=!0;pf.default=void 0;var qce=P(),bce=(0,qce.curryN)(1,Boolean),Ece=bce;pf.default=Ece});var $_=l(hf=>{"use strict";hf.__esModule=!0;hf.default=void 0;var Ace=P(),Mce=Sce(df());function Sce(t){return t&&t.__esModule?t:{default:t}}var Ice=(0,Ace.complement)(Mce.default),Oce=Ice;hf.default=Oce});var yf=l(vf=>{"use strict";vf.__esModule=!0;vf.default=void 0;var mf=P(),Pce=(0,mf.curryN)(1,(0,mf.pipe)(mf.type,(0,mf.identical)("RegExp"))),Tce=Pce;vf.default=Tce});var YN=l(_f=>{"use strict";_f.__esModule=!0;_f.default=void 0;var Nce=P(),Cce=Dce(yf());function Dce(t){return t&&t.__esModule?t:{default:t}}var Rce=(0,Nce.complement)(Cce.default),kce=Rce;_f.default=kce});var Q_=l(xf=>{"use strict";xf.__esModule=!0;xf.default=void 0;var gf=P(),Lce=(0,gf.curryN)(1,(0,gf.pipe)(gf.type,(0,gf.identical)("Set"))),Kce=Lce;xf.default=Kce});var XN=l(wf=>{"use strict";wf.__esModule=!0;wf.default=void 0;var Fce=P(),Bce=Hce(Q_());function Hce(t){return t&&t.__esModule?t:{default:t}}var Uce=(0,Fce.complement)(Bce.default),Gce=Uce;wf.default=Gce});var ZN=l(qf=>{"use strict";qf.__esModule=!0;qf.default=void 0;var Oi=P(),jce=zce(li());function zce(t){return t&&t.__esModule?t:{default:t}}var Wce=(0,Oi.both)(jce.default,(0,Oi.converge)((0,Oi.complement)(Oi.identical),[(0,Oi.pipe)(Oi.values,Oi.length),Oi.length])),Vce=Wce;qf.default=Vce});var Af=l(Ef=>{"use strict";Ef.__esModule=!0;Ef.default=void 0;var $N=P();function bf(t){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(t)}var Yce=(0,$N.curryN)(1,function(t){return bf(t)==="symbol"||bf(t)==="object"&&(0,$N.type)(t)==="Symbol"}),Xce=Yce;Ef.default=Xce});var QN=l(Mf=>{"use strict";Mf.__esModule=!0;Mf.default=void 0;var Zce=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1,$ce=Zce;Mf.default=$ce});var eC=l(Sf=>{"use strict";Sf.__esModule=!0;Sf.default=void 0;var Qce=P(),Jce=JN(Gr()),efe=JN(QN());function JN(t){return t&&t.__esModule?t:{default:t}}var tfe=(0,Qce.both)(Jce.default,function(t){return Math.abs(t)<=efe.default}),rfe=tfe;Sf.default=rfe});var iC=l(da=>{"use strict";da.__esModule=!0;da.isSafeIntegerPonyfill=da.default=void 0;var J_=P(),ife=tC(Qe()),nfe=tC(eC());function tC(t){return t&&t.__esModule?t:{default:t}}var rC=(0,J_.curryN)(1,nfe.default);da.isSafeIntegerPonyfill=rC;var afe=(0,ife.default)(Number.isSafeInteger)?(0,J_.curryN)(1,(0,J_.bind)(Number.isSafeInteger,Number)):rC,ofe=afe;da.default=ofe});var oC=l(If=>{"use strict";If.__esModule=!0;If.default=void 0;var nC=P(),sfe=aC(li()),ufe=aC(ci());function aC(t){return t&&t.__esModule?t:{default:t}}var lfe=(0,nC.curryN)(1,(0,nC.either)(ufe.default,sfe.default)),cfe=lfe;If.default=cfe});var sC=l(Pf=>{"use strict";Pf.__esModule=!0;Pf.default=void 0;var Of=P(),ffe=(0,Of.curryN)(1,(0,Of.pipe)(Of.type,(0,Of.identical)("Error"))),pfe=ffe;Pf.default=pfe});var lC=l(Tf=>{"use strict";Tf.__esModule=!0;Tf.default=void 0;var eg=P(),dfe=uC(Gr()),hfe=uC(Pc());function uC(t){return t&&t.__esModule?t:{default:t}}var mfe=(0,eg.curryN)(1,(0,eg.both)(dfe.default,(0,eg.complement)(hfe.default))),vfe=mfe;Tf.default=vfe});var tg=l(Nf=>{"use strict";Nf.__esModule=!0;Nf.default=void 0;var cC=P(),yfe=Pi(rc()),_fe=Pi(ci()),gfe=Pi(Mr()),xfe=Pi(j_()),wfe=Pi(zl()),qfe=Pi(ua()),bfe=Pi(Ms()),Efe=Pi(Af());function Pi(t){return t&&t.__esModule?t:{default:t}}var Afe=(0,cC.both)(yfe.default,(0,cC.anyPass)([_fe.default,gfe.default,xfe.default,wfe.default,qfe.default,bfe.default,Efe.default])),Mfe=Afe;Nf.default=Mfe});var pC=l(Cf=>{"use strict";Cf.__esModule=!0;Cf.default=void 0;var fC=P(),Sfe=Ife(tg());function Ife(t){return t&&t.__esModule?t:{default:t}}var Ofe=(0,fC.curryN)(1,(0,fC.complement)(Sfe.default)),Pfe=Ofe;Cf.default=Pfe});var dC=l(Df=>{"use strict";Df.__esModule=!0;Df.default=void 0;var Tfe=P(),Nfe=Cfe(U_());function Cfe(t){return t&&t.__esModule?t:{default:t}}var Dfe=(0,Tfe.curryN)(1,function(t){return(0,Nfe.default)(t)&&~t===0}),Rfe=Dfe;Df.default=Rfe});var hC=l(kf=>{"use strict";kf.__esModule=!0;kf.default=void 0;var Rf=P(),kfe=Lfe(Z_());function Lfe(t){return t&&t.__esModule?t:{default:t}}var Kfe=(0,Rf.anyPass)([kfe.default,Rf.isNil,Rf.isEmpty,(0,Rf.test)(/^\s+$/gm)]),Ffe=Kfe;kf.default=Ffe});var mC=l(Lf=>{"use strict";Lf.__esModule=!0;Lf.default=void 0;var Bfe=P(),Hfe=(0,Bfe.always)(null),Ufe=Hfe;Lf.default=Ufe});var vC=l(Kf=>{"use strict";Kf.__esModule=!0;Kf.default=void 0;var Gfe=function(){return{}},jfe=Gfe;Kf.default=jfe});var yC=l(Ff=>{"use strict";Ff.__esModule=!0;Ff.default=void 0;var zfe=P(),Wfe=(0,zfe.always)(""),Vfe=Wfe;Ff.default=Vfe});var _C=l(Bf=>{"use strict";Bf.__esModule=!0;Bf.default=void 0;var Yfe=function(){return[]},Xfe=Yfe;Bf.default=Xfe});var gC=l(Hf=>{"use strict";Hf.__esModule=!0;Hf.default=void 0;var Zfe=P(),$fe=Qfe(sa());function Qfe(t){return t&&t.__esModule?t:{default:t}}var Jfe=(0,Zfe.always)((0,$fe.default)()),epe=Jfe;Hf.default=epe});var Uf=l(ae=>{"use strict";ae.__esModule=!0;ae.zero=ae.traverse=ae.reduce=ae.promap=ae.of=ae.map=ae.lte=ae.id=ae.extract=ae.extend=ae.equals=ae.empty=ae.contramap=ae.concat=ae.compose=ae.chainRec=ae.chain=ae.bimap=ae.ap=ae.alt=void 0;var tpe="fantasy-land/equals";ae.equals=tpe;var rpe="fantasy-land/lte";ae.lte=rpe;var ipe="fantasy-land/compose";ae.compose=ipe;var npe="fantasy-land/id";ae.id=npe;var ape="fantasy-land/concat";ae.concat=ape;var ope="fantasy-land/empty";ae.empty=ope;var spe="fantasy-land/map";ae.map=spe;var upe="fantasy-land/contramap";ae.contramap=upe;var lpe="fantasy-land/ap";ae.ap=lpe;var cpe="fantasy-land/of";ae.of=cpe;var fpe="fantasy-land/alt";ae.alt=fpe;var ppe="fantasy-land/zero";ae.zero=ppe;var dpe="fantasy-land/reduce";ae.reduce=dpe;var hpe="fantasy-land/traverse";ae.traverse=hpe;var mpe="fantasy-land/chain";ae.chain=mpe;var vpe="fantasy-land/chainRec";ae.chainRec=vpe;var ype="fantasy-land/extend";ae.extend=ype;var _pe="fantasy-land/extract";ae.extract=_pe;var gpe="fantasy-land/bimap";ae.bimap=gpe;var xpe="fantasy-land/promap";ae.promap=xpe});var bC=l(jf=>{"use strict";function rg(t){"@babel/helpers - typeof";return rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rg(t)}jf.__esModule=!0;jf.default=void 0;var fi=P(),Gf=qpe(Qe()),wC=wpe(Uf());function qC(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(qC=function(n){return n?r:e})(t)}function wpe(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||rg(t)!=="object"&&typeof t!="function")return{default:t};var r=qC(e);if(r&&r.has(t))return r.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(a!=="default"&&Object.prototype.hasOwnProperty.call(t,a)){var o=n?Object.getOwnPropertyDescriptor(t,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=t[a]}return i.default=t,r&&r.set(t,i),i}function qpe(t){return t&&t.__esModule?t:{default:t}}var bpe=(0,fi.either)((0,fi.pathSatisfies)(Gf.default,["map"]),(0,fi.pathSatisfies)(Gf.default,[wC.map])),xC=(0,fi.both)(bpe,(0,fi.either)((0,fi.pathSatisfies)(Gf.default,["ap"]),(0,fi.pathSatisfies)(Gf.default,[wC.ap]))),Epe=(0,fi.curryN)(2,function(t,e){if(!xC(t)||!xC(e))return(0,fi.ap)(t,e);try{return t.ap(e)}catch{return e.ap(t)}}),Ape=Epe;jf.default=Ape});var ig=l(zf=>{"use strict";zf.__esModule=!0;zf.default=void 0;var An=P(),Mpe=Spe(bC());function Spe(t){return t&&t.__esModule?t:{default:t}}var Ipe=(0,An.curry)(function(t,e){var r=(0,An.curryN)(t,e);return(0,An.curryN)(t,function(){for(var i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];var o=(0,An.map)(r,(0,An.head)(n)),u=(0,An.slice)(1,1/0,n);return(0,An.reduce)(Mpe.default,o,u)})}),Ope=Ipe;zf.default=Ope});var EC=l(Wf=>{"use strict";Wf.__esModule=!0;Wf.default=void 0;var Ppe=P(),Tpe=Npe(ig());function Npe(t){return t&&t.__esModule?t:{default:t}}var Cpe=(0,Ppe.curryN)(1,function(t){return(0,Tpe.default)(t.length,t)}),Dpe=Cpe;Wf.default=Dpe});var AC=l(Vf=>{"use strict";Vf.__esModule=!0;Vf.default=void 0;var Rpe=P(),ng=kpe(Qe());function kpe(t){return t&&t.__esModule?t:{default:t}}var Lpe=(0,Rpe.curry)(function(t,e,r){if((0,ng.default)(r.matchWith))return r.matchWith({Ok:function(o){var u=o.value;return e(u)},Error:function(o){var u=o.value;return t(u)},Just:function(o){var u=o.value;return e(u)},Nothing:function(){return t(void 0)},Success:function(o){var u=o.value;return e(u)},Failure:function(o){var u=o.value;return t(u)}});if((0,ng.default)(r.cata))return r.cata(t,e);if((0,ng.default)(r.getOrElse)){var i="RA.cata".concat(Math.random()),n=r.getOrElse(i);return n===i?t():e(n)}return r.either(t,e)}),Kpe=Lpe;Vf.default=Kpe});var SC=l(Yf=>{"use strict";Yf.__esModule=!0;Yf.default=void 0;var MC=P(),Fpe=(0,MC.curryN)(2,function(t,e){return(0,MC.curryN)(t.length,function(){return t.apply(void 0,arguments).run(e)})}),Bpe=Fpe;Yf.default=Bpe});var OC=l(Xf=>{"use strict";Xf.__esModule=!0;Xf.default=void 0;var IC=P(),Hpe=(0,IC.curryN)(2,function(t,e){return(0,IC.curryN)(t.length,function(){return t.apply(void 0,arguments).run(e())})}),Upe=Hpe;Xf.default=Upe});var og=l(Zf=>{"use strict";Zf.__esModule=!0;Zf.default=void 0;var ag=P(),Gpe=(0,ag.curryN)(2,function(t,e){return(0,ag.curryN)(t,function(){for(var i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return e.apply(this,(0,ag.reverse)(n))})}),jpe=Gpe;Zf.default=jpe});var PC=l($f=>{"use strict";$f.__esModule=!0;$f.default=void 0;var sg=P(),zpe=Wpe(og());function Wpe(t){return t&&t.__esModule?t:{default:t}}var Vpe=(0,sg.converge)(zpe.default,[sg.length,sg.identity]),Ype=Vpe;$f.default=Ype});var Mn=l(Qf=>{"use strict";Qf.__esModule=!0;Qf.default=void 0;var TC=P(),Xpe=(0,TC.curryN)(1,(0,TC.bind)(Promise.all,Promise)),Zpe=Xpe;Qf.default=Zpe});var NC=l(Jf=>{"use strict";Jf.__esModule=!0;Jf.default=void 0;var $pe=P(),Qpe=(0,$pe.invoker)(1,"catch"),Jpe=Qpe;Jf.default=Jpe});var Ts=l(ep=>{"use strict";ep.__esModule=!0;ep.default=void 0;var ede=P(),tde=(0,ede.bind)(Promise.reject,Promise),rde=tde;ep.default=rde});var pi=l(tp=>{"use strict";tp.__esModule=!0;tp.default=void 0;var ide=P(),nde=(0,ide.bind)(Promise.resolve,Promise),ade=nde;tp.default=ade});var DC=l(ip=>{"use strict";ip.__esModule=!0;ip.default=void 0;var rp=P(),ode=ug(Mn()),sde=ug(Ts()),CC=ug(pi());function ug(t){return t&&t.__esModule?t:{default:t}}var ude=(0,rp.curryN)(1,(0,rp.pipe)((0,rp.map)(CC.default),(0,rp.map)(function(t){return t.then(sde.default,CC.default)}),ode.default)),lde=ude;ip.default=lde});var KC=l(np=>{"use strict";np.__esModule=!0;np.default=void 0;var ha=P(),cde=RC(k_()),fde=RC(Gr());function RC(t){return t&&t.__esModule?t:{default:t}}var kC=(0,ha.curry)(function(t,e){var r,i;return(0,fde.default)(e)&&(0,cde.default)(e)?r=e:(r=(0,ha.propOr)(0,"timeout",e),i=(0,ha.propOr)(i,"value",e)),new Promise(function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];var u=t(a);setTimeout((0,ha.partial)(u,[i]),r)})}),LC=kC((0,ha.nth)(0));LC.reject=kC((0,ha.nth)(1));var pde=LC;np.default=pde});var BC=l(ma=>{"use strict";ma.__esModule=!0;ma.thenCatchP=ma.default=void 0;var dde=P(),FC=(0,dde.invoker)(2,"then");ma.thenCatchP=FC;var hde=FC;ma.default=hde});var UC=l(ap=>{"use strict";ap.__esModule=!0;ap.default=void 0;var mde=P(),vde=HC(Mn()),yde=HC(pi());function HC(t){return t&&t.__esModule?t:{default:t}}function _de(t){return qde(t)||wde(t)||xde(t)||gde()}function gde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xde(t,e){if(t){if(typeof t=="string")return lg(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lg(t,e)}}function wde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qde(t){if(Array.isArray(t))return lg(t)}function lg(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}var bde=function(e){return{status:"fulfilled",value:e}},Ede=function(e){return{status:"rejected",reason:e}},Ade=function(e){var r=(0,mde.map)(function(i){return(0,yde.default)(i).then(bde).catch(Ede)},_de(e));return(0,vde.default)(r)},Mde=Ade;ap.default=Mde});var zC=l(va=>{"use strict";va.__esModule=!0;va.default=va.allSettledPPonyfill=void 0;var cg=P(),Sde=GC(Qe()),Ide=GC(UC());function GC(t){return t&&t.__esModule?t:{default:t}}var jC=(0,cg.curryN)(1,Ide.default);va.allSettledPPonyfill=jC;var Ode=(0,Sde.default)(Promise.allSettled)?(0,cg.curryN)(1,(0,cg.bind)(Promise.allSettled,Promise)):jC,Pde=Ode;va.default=Pde});var WC=l(op=>{"use strict";op.__esModule=!0;op.default=void 0;var Tde=P(),Nde=(0,Tde.curryN)(1,function(t){return function(e){return e(e)}(function(e){return t(function(r){return e(e)(r)})})}),Cde=Nde;op.default=Cde});var VC=l(sp=>{"use strict";sp.__esModule=!0;sp.default=void 0;var fg=P(),Dde=(0,fg.curry)(function(t,e){return(0,fg.tap)(function(r){return(0,fg.map)(function(i){return i(r)})(t)})(e)}),Rde=Dde;sp.default=Rde});var YC=l(up=>{"use strict";up.__esModule=!0;up.default=void 0;var jr=P(),kde=dg(Ml()),Lde=dg(w_()),Kde=dg(sa());function dg(t){return t&&t.__esModule?t:{default:t}}function Fde(t){return Gde(t)||Ude(t)||Hde(t)||Bde()}function Bde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hde(t,e){if(t){if(typeof t=="string")return pg(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pg(t,e)}}function Ude(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gde(t){if(Array.isArray(t))return pg(t)}function pg(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}var jde=(0,jr.comparator)(function(t,e){return t.length>e.length}),zde=(0,jr.pipe)((0,jr.sort)(jde),jr.head,(0,jr.prop)("length")),Wde=(0,jr.curry)(function(t,e,r){var i=r.apply(void 0,Fde(t));return(0,kde.default)(i)?(0,jr.reduced)(i):e}),Vde=function(e){var r=zde(e);return(0,jr.curryN)(r,function(){for(var i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return(0,jr.reduce)(Wde(n),void 0,e)})},Yde=(0,jr.ifElse)(Lde.default,Vde,Kde.default),Xde=Yde;up.default=Xde});var ZC=l(lp=>{"use strict";lp.__esModule=!0;lp.default=void 0;var hg=P(),Zde=XC(pi()),$de=XC(Ts());function XC(t){return t&&t.__esModule?t:{default:t}}var Qde=(0,hg.curryN)(1,function(t){function e(){var r=(0,hg.bind)(t,this).apply(void 0,arguments),i=function n(a){var o=(0,Zde.default)(a.value);return a.done?o:o.then(function(u){return n(r.next(u))},function(u){return n(r.throw(u))})};try{return i(r.next())}catch(n){return(0,$de.default)(n)}}return t.length>0?(0,hg.curryN)(t.length,e):e}),Jde=Qde;lp.default=Jde});var eD=l(_a=>{"use strict";function ya(t){"@babel/helpers - typeof";return ya=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ya(t)}_a.__esModule=!0;_a.default=_a.AggregatedError=void 0;var ehe=P(),the=rhe(pi());function rhe(t){return t&&t.__esModule?t:{default:t}}function ihe(t){return she(t)||ohe(t)||ahe(t)||nhe()}function nhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ahe(t,e){if(t){if(typeof t=="string")return mg(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mg(t,e)}}function ohe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function she(t){if(Array.isArray(t))return mg(t)}function mg(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}function $C(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,lhe(i.key),i)}}function uhe(t,e,r){return e&&$C(t.prototype,e),r&&$C(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function lhe(t){var e=che(t,"string");return ya(e)==="symbol"?e:String(e)}function che(t,e){if(ya(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(ya(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function phe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ns(t,e)}function dhe(t){var e=QC();return function(){var i=Cs(t),n;if(e){var a=Cs(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return hhe(this,n)}}function hhe(t,e){if(e&&(ya(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mhe(t)}function mhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vg(t){var e=typeof Map=="function"?new Map:void 0;return vg=function(i){if(i===null||!vhe(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(i))return e.get(i);e.set(i,n)}function n(){return cp(i,arguments,Cs(this).constructor)}return n.prototype=Object.create(i.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Ns(n,i)},vg(t)}function cp(t,e,r){return QC()?cp=Reflect.construct.bind():cp=function(n,a,o){var u=[null];u.push.apply(u,a);var p=Function.bind.apply(n,u),_=new p;return o&&Ns(_,o.prototype),_},cp.apply(null,arguments)}function QC(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function vhe(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function Ns(t,e){return Ns=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,n){return i.__proto__=n,i},Ns(t,e)}function Cs(t){return Cs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cs(t)}var JC=function(t){phe(r,t);var e=dhe(r);function r(){var i,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return fhe(this,r),i=e.call(this,a),i.errors=n,i}return uhe(r)}(vg(Error));_a.AggregatedError=JC;var yhe=function(e){var r=[];return new Promise(function(i,n){var a=function(u){r.push(u),r.length===e.length&&n(new JC(r))};(0,ehe.map)(function(o){return(0,the.default)(o).then(i).catch(a)},ihe(e))})},_he=yhe;_a.default=_he});var nD=l(Sn=>{"use strict";function yg(t){"@babel/helpers - typeof";return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yg(t)}Sn.__esModule=!0;Sn.default=Sn.anyPPonyfill=void 0;var _g=P(),ghe=whe(Qe()),tD=xhe(eD());Sn.AggregatedError=tD.AggregatedError;function rD(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(rD=function(n){return n?r:e})(t)}function xhe(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||yg(t)!=="object"&&typeof t!="function")return{default:t};var r=rD(e);if(r&&r.has(t))return r.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(a!=="default"&&Object.prototype.hasOwnProperty.call(t,a)){var o=n?Object.getOwnPropertyDescriptor(t,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=t[a]}return i.default=t,r&&r.set(t,i),i}function whe(t){return t&&t.__esModule?t:{default:t}}var iD=(0,_g.curryN)(1,tD.default);Sn.anyPPonyfill=iD;var qhe=(0,ghe.default)(Promise.any)?(0,_g.curryN)(1,(0,_g.bind)(Promise.any,Promise)):iD,bhe=qhe;Sn.default=bhe});var In=l(fp=>{"use strict";fp.__esModule=!0;fp.default=void 0;var gg=P(),Ehe=(0,gg.curry)(function(t,e,r){return(0,gg.compose)(t(e),gg.length)(r)}),Ahe=Ehe;fp.default=Ahe});var Ds=l(pp=>{"use strict";pp.__esModule=!0;pp.default=void 0;var Mhe=P(),She=Ihe(In());function Ihe(t){return t&&t.__esModule?t:{default:t}}var Ohe=(0,She.default)(Mhe.equals),Phe=Ohe;pp.default=Phe});var xg=l(dp=>{"use strict";dp.__esModule=!0;dp.default=void 0;var aD=P(),The=Nhe(In());function Nhe(t){return t&&t.__esModule?t:{default:t}}var Che=(0,The.default)((0,aD.flip)(aD.gte)),Dhe=Che;dp.default=Dhe});var sD=l(hp=>{"use strict";hp.__esModule=!0;hp.default=void 0;var Rs=P(),Rhe=ks(Mn()),oD=ks(Ds()),khe=ks(xg()),Lhe=ks(Ts()),Khe=ks(pi());function ks(t){return t&&t.__esModule?t:{default:t}}function Fhe(t){return Ghe(t)||Uhe(t)||Hhe(t)||Bhe()}function Bhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hhe(t,e){if(t){if(typeof t=="string")return wg(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wg(t,e)}}function Uhe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ghe(t){if(Array.isArray(t))return wg(t)}function wg(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}var jhe=(0,Rs.curryN)(1,function(t){var e=[],r=[],i=(0,Rs.bind)(e.push,e),n=(0,Rs.bind)(r.push,r),a=(0,Rs.map)(function(o){return(0,Khe.default)(o).then(i).catch(n)},Fhe(t));return(0,Rhe.default)(a).then(function(){if(!((0,oD.default)(0,e)&&(0,oD.default)(0,r)))return(0,khe.default)(1,e)?(0,Rs.last)(e):(0,Lhe.default)(r)})}),zhe=jhe;hp.default=zhe});var qg=l(mp=>{"use strict";mp.__esModule=!0;mp.default=void 0;var Whe=P(),Vhe=(0,Whe.curry)(function(t,e,r){return t(r)?e:r}),Yhe=Vhe;mp.default=Yhe});var bg=l(vp=>{"use strict";vp.__esModule=!0;vp.default=void 0;var uD=P(),Xhe=(0,uD.addIndex)(uD.map),Zhe=Xhe;vp.default=Zhe});var cD=l(_p=>{"use strict";_p.__esModule=!0;_p.default=void 0;var yp=P(),$he=lD(qg()),Qhe=lD(bg());function lD(t){return t&&t.__esModule?t:{default:t}}var Jhe=(0,yp.curry)(function(t,e){return(0,yp.curryN)(t.length,function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];var a=(0,Qhe.default)(function(o,u){return(0,$he.default)(yp.isNil,e[u],o)},i);return(0,yp.apply)(t,a)})}),eme=Jhe;_p.default=eme});var pD=l(gp=>{"use strict";gp.__esModule=!0;gp.default=void 0;var fD=P(),tme=(0,fD.addIndex)(fD.reduce),rme=tme;gp.default=rme});var hD=l(xp=>{"use strict";xp.__esModule=!0;xp.default=void 0;var dD=P(),ime=(0,dD.addIndex)(dD.filter),nme=ime;xp.default=nme});var mD=l(wp=>{"use strict";wp.__esModule=!0;wp.default=void 0;var Ls=P(),ame=(0,Ls.addIndex)(Ls.filter),ome=(0,Ls.curry)(function(t,e,r){return(0,Ls.includes)(r,t)}),sme=(0,Ls.curry)(function(t,e){return ame(ome(t),e)}),ume=sme;wp.default=ume});var Eg=l(qp=>{"use strict";qp.__esModule=!0;qp.default=void 0;var vD=P(),lme=(0,vD.unapply)(vD.identity),cme=lme;qp.default=cme});var _D=l(bp=>{"use strict";bp.__esModule=!0;bp.default=void 0;var yD=P(),fme=pme(x_());function pme(t){return t&&t.__esModule?t:{default:t}}var dme=(0,yD.when)(fme.default,yD.of),hme=dme;bp.default=hme});var xD=l(Ep=>{"use strict";Ep.__esModule=!0;Ep.default=void 0;var ga=P(),mme=vme(sa());function vme(t){return t&&t.__esModule?t:{default:t}}var gD={concat:ga.identity},yme=(0,ga.pipe)((0,ga.reduce)(ga.concat,gD),(0,ga.when)((0,ga.identical)(gD),mme.default)),_me=yme;Ep.default=_me});var qD=l(Ap=>{"use strict";Ap.__esModule=!0;Ap.default=void 0;var wD=P(),gme=(0,wD.flip)(wD.concat),xme=gme;Ap.default=xme});var AD=l(Mp=>{"use strict";Mp.__esModule=!0;Mp.default=void 0;var Ag=P(),wme=Mg(ua()),bD=Mg(pi()),qme=Mg(Mn());function Mg(t){return t&&t.__esModule?t:{default:t}}function bme(t,e){return Sme(t)||Mme(t,e)||Ame(t,e)||Eme()}function Eme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ame(t,e){if(t){if(typeof t=="string")return ED(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ED(t,e)}}function ED(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}function Mme(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var i,n,a,o,u=[],p=!0,_=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;p=!1}else for(;!(p=(i=a.call(r)).done)&&(u.push(i.value),u.length!==e);p=!0);}catch(b){_=!0,n=b}finally{try{if(!p&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(_)throw n}}return u}}function Sme(t){if(Array.isArray(t))return t}var Ime=(0,Ag.curryN)(3,function(t,e,r){return(0,bD.default)(r).then(function(i){var n=(0,Ag.length)(i);if(n===0)return e;var a=(0,Ag.reduce)(function(o,u){return o.then(function(p){return(0,qme.default)([p,u])}).then(function(p){var _=bme(p,2),b=_[0],A=_[1];return(0,wme.default)(b)&&n===1?A:t(b,A)})});return a((0,bD.default)(e),i)})}),Ome=Ime;Mp.default=Ome});var ID=l(Sp=>{"use strict";Sp.__esModule=!0;Sp.default=void 0;var On=P(),Pme=Sg(ua()),MD=Sg(pi()),Tme=Sg(Mn());function Sg(t){return t&&t.__esModule?t:{default:t}}function Nme(t,e){return kme(t)||Rme(t,e)||Dme(t,e)||Cme()}function Cme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dme(t,e){if(t){if(typeof t=="string")return SD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SD(t,e)}}function SD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}function Rme(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var i,n,a,o,u=[],p=!0,_=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;p=!1}else for(;!(p=(i=a.call(r)).done)&&(u.push(i.value),u.length!==e);p=!0);}catch(b){_=!0,n=b}finally{try{if(!p&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(_)throw n}}return u}}function kme(t){if(Array.isArray(t))return t}var Lme=(0,On.pipe)((0,On.reduceRight)(On.concat,""),(0,On.equals)("ba"))(["a","b"]),Kme=(0,On.curryN)(3,function(t,e,r){return(0,MD.default)(r).then(function(i){var n=(0,On.length)(i);if(n===0)return e;var a=(0,On.reduceRight)(function(o,u){var p,_;return Lme?(p=o,_=u):(p=u,_=o),p.then(function(b){return(0,Tme.default)([b,_])}).then(function(b){var A=Nme(b,2),S=A[0],C=A[1];return(0,Pme.default)(S)&&n===1?C:t(C,S)})});return a((0,MD.default)(e),i)})}),Fme=Kme;Sp.default=Fme});var PD=l(Ip=>{"use strict";Ip.__esModule=!0;Ip.default=void 0;var OD=P(),Bme=(0,OD.slice)(OD.__,1/0),Hme=Bme;Ip.default=Hme});var TD=l(Op=>{"use strict";Op.__esModule=!0;Op.default=void 0;var Ume=P(),Gme=(0,Ume.slice)(0),jme=Gme;Op.default=jme});var ND=l(Pp=>{"use strict";Pp.__esModule=!0;Pp.default=void 0;var Ks=P(),zme=(0,Ks.addIndex)(Ks.reject),Wme=(0,Ks.curry)(function(t,e,r){return(0,Ks.includes)(r,t)}),Vme=(0,Ks.curry)(function(t,e){return zme(Wme(t),e)}),Yme=Vme;Pp.default=Yme});var CD=l(Tp=>{"use strict";Tp.__esModule=!0;Tp.default=void 0;var Xme=P(),Zme=$me($_());function $me(t){return t&&t.__esModule?t:{default:t}}var Qme=(0,Xme.reject)(Zme.default),Jme=Qme;Tp.default=Jme});var RD=l(Np=>{"use strict";Np.__esModule=!0;Np.default=void 0;var DD=P(),eve=(0,DD.flip)(DD.append),tve=eve;Np.default=tve});var Dp=l(Cp=>{"use strict";Cp.__esModule=!0;Cp.default=void 0;var kD=P(),rve=(0,kD.flip)(kD.includes),ive=rve;Cp.default=ive});var LD=l(Rp=>{"use strict";Rp.__esModule=!0;Rp.default=void 0;var Fs=P(),nve=(0,Fs.curry)(function(t,e,r){return(0,Fs.compose)((0,Fs.insert)(e,(0,Fs.nth)(t,r)),(0,Fs.remove)(t,1))(r)}),ave=nve;Rp.default=ave});var FD=l(kp=>{"use strict";kp.__esModule=!0;kp.default=void 0;var KD=P(),ove=sve(In());function sve(t){return t&&t.__esModule?t:{default:t}}var uve=(0,ove.default)((0,KD.flip)(KD.gt)),lve=uve;kp.default=lve});var HD=l(Lp=>{"use strict";Lp.__esModule=!0;Lp.default=void 0;var BD=P(),cve=fve(In());function fve(t){return t&&t.__esModule?t:{default:t}}var pve=(0,cve.default)((0,BD.flip)(BD.lt)),dve=pve;Lp.default=dve});var Fp=l(Kp=>{"use strict";Kp.__esModule=!0;Kp.default=void 0;var UD=P(),hve=mve(In());function mve(t){return t&&t.__esModule?t:{default:t}}var vve=(0,hve.default)((0,UD.flip)(UD.lte)),yve=vve;Kp.default=yve});var jD=l(Bp=>{"use strict";Bp.__esModule=!0;Bp.default=void 0;var GD=P(),_ve=gve(In());function gve(t){return t&&t.__esModule?t:{default:t}}var xve=(0,_ve.default)((0,GD.complement)(GD.equals)),wve=xve;Bp.default=wve});var zD=l(Hp=>{"use strict";Hp.__esModule=!0;Hp.default=void 0;var Ig=P(),qve=bve(Fp());function bve(t){return t&&t.__esModule?t:{default:t}}var Eve=(0,Ig.curryN)(1,(0,Ig.pipe)(Ig.uniq,(0,qve.default)(1))),Ave=Eve;Hp.default=Ave});var Gp=l(Up=>{"use strict";Up.__esModule=!0;Up.default=void 0;var Mve=WD(F_()),Sve=WD(Pc());function WD(t){return t&&t.__esModule?t:{default:t}}var Ive=function(e,r){var i=Number(r);if(i!==r&&(i=0),(0,Sve.default)(i))throw new RangeError("repeat count must be non-negative");if((0,Mve.default)(i))throw new RangeError("repeat count must be less than infinity");if(i=Math.floor(i),e.length===0||i===0)return"";if(e.length*i>=1<<28)throw new RangeError("repeat count must not overflow maximum string size");var n=e.length*i;i=Math.floor(Math.log(i)/Math.log(2));for(var a=e;i;)a+=e,i-=1;return a+=a.substring(0,n-a.length),a},Ove=Ive;Up.default=Ove});var ZD=l(Ti=>{"use strict";Ti.__esModule=!0;Ti.repeatStrPonyfill=Ti.repeatStrInvoker=Ti.default=void 0;var Og=P(),Pve=VD(Gp()),Tve=VD(Qe());function VD(t){return t&&t.__esModule?t:{default:t}}var YD=(0,Og.curry)(Pve.default);Ti.repeatStrPonyfill=YD;var XD=(0,Og.flip)((0,Og.invoker)(1,"repeat"));Ti.repeatStrInvoker=XD;var Nve=(0,Tve.default)(String.prototype.repeat)?XD:YD,Cve=Nve;Ti.default=Cve});var $D=l(zp=>{"use strict";zp.__esModule=!0;zp.default=void 0;var jp=P(),Dve=Rve(Fp());function Rve(t){return t&&t.__esModule?t:{default:t}}var kve=(0,jp.curryN)(1,(0,jp.pipe)((0,jp.uniqWith)(jp.identical),(0,Dve.default)(1))),Lve=kve;zp.default=Lve});var QD=l(Wp=>{"use strict";Wp.__esModule=!0;Wp.default=void 0;var Pg=P(),Kve=(0,Pg.curry)(function(t,e){return(0,Pg.all)((0,Pg.identical)(t),e)}),Fve=Kve;Wp.default=Fve});var JD=l(Vp=>{"use strict";Vp.__esModule=!0;Vp.default=void 0;var Tg=P(),Bve=(0,Tg.curry)(function(t,e){return(0,Tg.all)((0,Tg.equals)(t),e)}),Hve=Bve;Vp.default=Hve});var eR=l(Yp=>{"use strict";Yp.__esModule=!0;Yp.default=void 0;var Uve=Gve(ac());function Gve(t){return t&&t.__esModule?t:{default:t}}var jve=function(e){return function r(i){for(var n,a,o,u=[],p=0;p<i.length;){if((0,Uve.default)(i[p]))for(n=e?r(i[p]):i[p],o=0,a=n.length;o<a;)u[u.length]=n[o],o+=1;else u[u.length]=i[p];p+=1}return u}},zve=jve;Yp.default=zve});var tR=l(Xp=>{"use strict";Xp.__esModule=!0;Xp.default=void 0;var Wve=P(),Vve=Yve(eR());function Yve(t){return t&&t.__esModule?t:{default:t}}function Xve(t){return Jve(t)||Qve(t)||$ve(t)||Zve()}function Zve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ve(t,e){if(t){if(typeof t=="string")return Ng(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ng(t,e)}}function Qve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jve(t){if(Array.isArray(t))return Ng(t)}function Ng(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}var eye=(0,Vve.default)(!1),tye=(0,Wve.curry)(function(t,e){for(var r=t,i=Xve(e);r>0;)i=eye(i),r-=1;return i}),rye=tye;Xp.default=rye});var nR=l($p=>{"use strict";$p.__esModule=!0;$p.default=void 0;var iye=P(),nye=Zp(Kl()),rR=Zp(As()),aye=Zp(Ml()),oye=Zp(cc());function Zp(t){return t&&t.__esModule?t:{default:t}}function iR(t){return cye(t)||lye(t)||uye(t)||sye()}function sye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uye(t,e){if(t){if(typeof t=="string")return Cg(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cg(t,e)}}function lye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cye(t){if(Array.isArray(t))return Cg(t)}function Cg(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}var fye=function(e,r,i){var n=(0,rR.default)(i)?(0,iye.bind)(r,i):r;return(0,rR.default)(r)?iR(e).map(n):iR(e)},pye=function(e,r,i){if(e==null)throw new TypeError("Array.from requires an array-like object - not null or undefined");if((0,aye.default)(r)&&(0,oye.default)(r))throw new TypeError("Array.from: when provided, the second argument must be a function");return(0,nye.default)(e)?fye(e,r,i):[]},dye=pye;$p.default=dye});var oR=l(xa=>{"use strict";xa.__esModule=!0;xa.fromPonyfill=xa.default=void 0;var Qp=P(),hye=Dg(Kl()),mye=Dg(Qe()),vye=Dg(nR());function Dg(t){return t&&t.__esModule?t:{default:t}}var aR=(0,Qp.curryN)(1,vye.default);xa.fromPonyfill=aR;var yye=(0,mye.default)(Array.from)?(0,Qp.curryN)(1,Array.from):aR,_ye=(0,Qp.ifElse)(hye.default,yye,Qp.values),gye=_ye;xa.default=gye});var kg=l(Jp=>{"use strict";Jp.__esModule=!0;Jp.default=void 0;var Rg=P(),xye=wye(Ds());function wye(t){return t&&t.__esModule?t:{default:t}}var qye=(0,Rg.converge)(xye.default,[Rg.length,Rg.uniq]),bye=qye;Jp.default=bye});var sR=l(ed=>{"use strict";ed.__esModule=!0;ed.default=void 0;var Eye=P(),Aye=Mye(kg());function Mye(t){return t&&t.__esModule?t:{default:t}}var Sye=(0,Eye.complement)(Aye.default),Iye=Sye;ed.default=Iye});var Lg=l(td=>{"use strict";td.__esModule=!0;td.default=void 0;var di=P();function Oye(t){return Cye(t)||Nye(t)||Tye(t)||Pye()}function Pye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tye(t,e){if(t){if(typeof t=="string")return uR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uR(t,e)}}function uR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}function Nye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Cye(t){if(Array.isArray(t))return t}var Dye=(0,di.curry)(function(t,e){var r=function(a){var o=Oye(a),u=o[0],p=o.slice(1);return(0,di.reduce)(di.either,u,p)},i=function(a){return(0,di.comparator)(function(o,u){return(0,di.lt)((0,di.prop)(a,o),(0,di.prop)(a,u))})};return(0,di.sort)(r((0,di.map)(i,t)),e)}),Rye=Dye;td.default=Rye});var lR=l(id=>{"use strict";id.__esModule=!0;id.default=void 0;var rd=P(),kye=Lye(Lg());function Lye(t){return t&&t.__esModule?t:{default:t}}var Kye=(0,rd.append)(rd.__,[]),Fye=(0,rd.useWith)(kye.default,[Kye,rd.identity]),Bye=Fye;id.default=Bye});var cR=l(nd=>{"use strict";nd.__esModule=!0;nd.default=void 0;var Pn=P(),Hye=(0,Pn.pipe)(Pn.path,Pn.ascend),Uye=(0,Pn.map)(Hye),Gye=(0,Pn.useWith)(Pn.sortWith,[Uye,Pn.identity]),jye=Gye;nd.default=jye});var fR=l(ad=>{"use strict";ad.__esModule=!0;ad.default=void 0;var Ni=P(),zye=(0,Ni.curry)(function(t,e){return(0,Ni.addIndex)(Ni.filter)((0,Ni.pipe)((0,Ni.nthArg)(1),(0,Ni.modulo)(Ni.__,t),(0,Ni.identical)(0)))(e)}),Wye=zye;ad.default=Wye});var Kg=l(od=>{"use strict";od.__esModule=!0;od.default=void 0;var pR=P(),Vye=(0,pR.curryN)(1,(0,pR.bind)(Math.floor,Math)),Yye=Vye;od.default=Yye});var dR=l(ud=>{"use strict";ud.__esModule=!0;ud.default=void 0;var sd=P(),Xye=Zye(Kg());function Zye(t){return t&&t.__esModule?t:{default:t}}var $ye=(0,sd.curryN)(3,function(t,e,r){var i=t===0?(0,sd.always)(e):function(a){return e+t*a},n=t===0?r-e:(0,Xye.default)((r-e)/t);return(0,sd.map)(i,(0,sd.range)(0,n))}),Qye=$ye;ud.default=Qye});var hR=l(cd=>{"use strict";cd.__esModule=!0;cd.default=void 0;var ld=P(),Jye=(0,ld.curry)(function(t,e,r){return(0,ld.pipe)((0,ld.find)(e),(0,ld.defaultTo)(t))(r)}),e_e=Jye;cd.default=e_e});var pd=l(fd=>{"use strict";fd.__esModule=!0;fd.default=void 0;var wa=P(),t_e=mR(cc()),r_e=mR(g_());function mR(t){return t&&t.__esModule?t:{default:t}}var i_e=(0,wa.curryN)(3,function(t,e,r){var i=(0,wa.path)(t,r),n=(0,wa.path)((0,wa.init)(t),r);if(!(0,t_e.default)(i)&&!(0,r_e.default)(t)){var a=(0,wa.bind)(i,n);return(0,wa.apply)(a,e)}}),n_e=i_e;fd.default=n_e});var yR=l(dd=>{"use strict";dd.__esModule=!0;dd.default=void 0;var vR=P(),a_e=o_e(pd());function o_e(t){return t&&t.__esModule?t:{default:t}}var s_e=(0,a_e.default)(vR.__,[],vR.__),u_e=s_e;dd.default=u_e});var Fg=l(md=>{"use strict";md.__esModule=!0;md.default=void 0;var hd=P(),l_e=(0,hd.curry)(function(t,e){return(0,hd.ap)([(0,hd.path)(hd.__,e)],t)}),c_e=l_e;md.default=c_e});var yd=l(vd=>{"use strict";vd.__esModule=!0;vd.default=void 0;var Tn=P(),f_e=(0,Tn.curry)(function(t,e){return(0,Tn.pipe)(Tn.toPairs,(0,Tn.map)((0,Tn.over)((0,Tn.lensIndex)(0),t)),Tn.fromPairs)(e)}),p_e=f_e;vd.default=p_e});var Bg=l(_d=>{"use strict";_d.__esModule=!0;_d.default=void 0;var _R=P(),d_e=h_e(yd());function h_e(t){return t&&t.__esModule?t:{default:t}}var m_e=function(e){return function(r){return(0,_R.has)(r,e)?e[r]:r}},v_e=(0,_R.curry)(function(t,e){return(0,d_e.default)(m_e(t),e)}),y_e=v_e;_d.default=y_e});var gR=l(gd=>{"use strict";gd.__esModule=!0;gd.default=void 0;var Hg=P(),__e=g_e(yd());function g_e(t){return t&&t.__esModule?t:{default:t}}var x_e=(0,Hg.curry)(function(t,e,r){return(0,__e.default)((0,Hg.when)((0,Hg.equals)(e),t),r)}),w_e=x_e;gd.default=w_e});var qR=l(xd=>{"use strict";xd.__esModule=!0;xd.default=void 0;var q_e=P(),b_e=E_e(Bg());function E_e(t){return t&&t.__esModule?t:{default:t}}function Bs(t){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bs(t)}function xR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function wR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xR(Object(r),!0).forEach(function(i){A_e(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xR(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function A_e(t,e,r){return e=M_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M_e(t){var e=S_e(t,"string");return Bs(e)==="symbol"?e:String(e)}function S_e(t,e){if(Bs(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(Bs(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var I_e=(0,q_e.curryN)(2,function(t,e){return wR(wR({},e),(0,b_e.default)(t,e))}),O_e=I_e;xd.default=O_e});var bR=l(qd=>{"use strict";qd.__esModule=!0;qd.default=void 0;var wd=P(),P_e=(0,wd.curryN)(2,(0,wd.pipe)(wd.props,wd.mergeAll)),T_e=P_e;qd.default=T_e});var ER=l(bd=>{"use strict";bd.__esModule=!0;bd.default=void 0;var Ug=P(),N_e=C_e(Fg());function C_e(t){return t&&t.__esModule?t:{default:t}}var D_e=(0,Ug.curryN)(2,(0,Ug.pipe)(N_e.default,Ug.mergeAll)),R_e=D_e;bd.default=R_e});var Gg=l(Ad=>{"use strict";Ad.__esModule=!0;Ad.default=void 0;var Ed=P(),k_e=(0,Ed.curry)(function(t,e,r){return(0,Ed.over)((0,Ed.lensPath)(t),(0,Ed.mergeLeft)(e),r)}),L_e=k_e;Ad.default=L_e});var MR=l(Md=>{"use strict";Md.__esModule=!0;Md.default=void 0;var AR=P(),K_e=F_e(Gg());function F_e(t){return t&&t.__esModule?t:{default:t}}var B_e=(0,AR.curry)(function(t,e,r){return(0,K_e.default)((0,AR.of)(t),e,r)}),H_e=B_e;Md.default=H_e});var SR=l(Id=>{"use strict";Id.__esModule=!0;Id.default=void 0;var Sd=P(),U_e=(0,Sd.useWith)(Sd.pickBy,[Sd.complement,Sd.identity]),G_e=U_e;Id.default=G_e});var IR=l(Od=>{"use strict";Od.__esModule=!0;Od.default=void 0;var qa=P(),j_e=(0,qa.curryN)(3,function(t,e,r){return(0,qa.when)((0,qa.identical)(t),(0,qa.partial)((0,qa.unary)(t),[r]),(0,qa.pathOr)(t,e,r))}),z_e=j_e;Od.default=z_e});var OR=l(Pd=>{"use strict";Pd.__esModule=!0;Pd.default=void 0;var jg=P(),W_e=(0,jg.curryN)(3,function(t,e,r){return(0,jg.defaultTo)(t,(0,jg.view)(e,r))}),V_e=W_e;Pd.default=V_e});var zg=l(Td=>{"use strict";Td.__esModule=!0;Td.default=void 0;var Hs=P(),Y_e=(0,Hs.curryN)(2,(0,Hs.converge)(Hs.mergeRight,[Hs.dissocPath,(0,Hs.pathOr)({})])),X_e=Y_e;Td.default=X_e});var TR=l(Nd=>{"use strict";Nd.__esModule=!0;Nd.default=void 0;var PR=P(),Z_e=$_e(zg());function $_e(t){return t&&t.__esModule?t:{default:t}}var Q_e=(0,PR.curry)(function(t,e){return(0,Z_e.default)((0,PR.of)(t),e)}),J_e=Q_e;Nd.default=J_e});var Vg=l(Cd=>{"use strict";Cd.__esModule=!0;Cd.default=void 0;var Wg=P(),ege=(0,Wg.curry)(function(t,e){return(0,Wg.mergeRight)(e,(0,Wg.pathOr)({},t,e))}),tge=ege;Cd.default=tge});var CR=l(Dd=>{"use strict";Dd.__esModule=!0;Dd.default=void 0;var NR=P(),rge=ige(Vg());function ige(t){return t&&t.__esModule?t:{default:t}}var nge=(0,NR.curry)(function(t,e){return(0,rge.default)((0,NR.of)(t),e)}),age=nge;Dd.default=age});var DR=l(Rd=>{"use strict";Rd.__esModule=!0;Rd.default=void 0;var hi=P(),oge=sge(Ds());function sge(t){return t&&t.__esModule?t:{default:t}}var uge=(0,hi.curryN)(2,function(t,e){return(0,hi.pipe)(hi.toPairs,(0,hi.map)((0,hi.pipe)(hi.flip,hi.apply)(t)),hi.transpose,(0,hi.when)((0,oge.default)(0),function(){return[[],[]]}))(e)}),lge=uge;Rd.default=lge});var RR=l(kd=>{"use strict";kd.__esModule=!0;kd.default=void 0;var ba=P(),cge=(0,ba.curryN)(3,function(t,e,r){return(0,ba.pipe)(ba.zip,(0,ba.map)((0,ba.apply)(t)),ba.fromPairs)(r,e)}),fge=cge;kd.default=fge});var kR=l(Ld=>{"use strict";Ld.__esModule=!0;Ld.default=void 0;var pge=P(),dge=hge(pd());function hge(t){return t&&t.__esModule?t:{default:t}}var mge=(0,pge.curry)(function(t,e){return!!(0,dge.default)(["prototype","isPrototypeOf"],[e],t)}),vge=mge;Ld.default=vge});var Yg=l(Fd=>{"use strict";Fd.__esModule=!0;Fd.default=void 0;var Kd=P(),yge=(0,Kd.curryN)(3,function(t,e,r){return(0,Kd.pipe)((0,Kd.view)(t),(0,Kd.equals)(e))(r)}),_ge=yge;Fd.default=_ge});var LR=l(Bd=>{"use strict";Bd.__esModule=!0;Bd.default=void 0;var gge=P(),xge=wge(Yg());function wge(t){return t&&t.__esModule?t:{default:t}}var qge=(0,gge.complement)(xge.default),bge=qge;Bd.default=bge});var Zg=l(Hd=>{"use strict";Hd.__esModule=!0;Hd.default=void 0;var Xg=P(),Ege=Age(X_());function Age(t){return t&&t.__esModule?t:{default:t}}var Mge=(0,Xg.curryN)(3,function(t,e,r){return(0,Xg.pipe)((0,Xg.view)(e),t,Ege.default)(r)}),Sge=Mge;Hd.default=Sge});var KR=l(Ud=>{"use strict";Ud.__esModule=!0;Ud.default=void 0;var Ige=P(),Oge=Pge(Zg());function Pge(t){return t&&t.__esModule?t:{default:t}}var Tge=(0,Ige.complement)(Oge.default),Nge=Tge;Ud.default=Nge});var BR=l(zr=>{"use strict";zr.__esModule=!0;zr.typeEquals=zr.type=zr.isSameType=zr.isNotSameType=void 0;var Ci=P(),Gd=(0,Ci.either)((0,Ci.path)(["@@type"]),(0,Ci.path)(["constructor","@@type"]));zr.type=Gd;var Cge=(0,Ci.curry)(function(t,e){return Gd(e)===t});zr.typeEquals=Cge;var FR=(0,Ci.curryN)(2,(0,Ci.useWith)(Ci.equals,[Gd,Gd]));zr.isSameType=FR;var Dge=(0,Ci.complement)(FR);zr.isNotSameType=Dge});var GR=l(kt=>{"use strict";kt.__esModule=!0;kt.setoidTrait=kt.semigroupTrait=kt.ordTrait=kt.functorTrait=kt.chainTrait=kt.applyTrait=void 0;var $g=P(),Rge=Jg(ci()),kge=Jg(Mr()),HR=Jg(Qe()),Qg=BR(),Sr=Lge(Uf());function UR(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(UR=function(n){return n?r:e})(t)}function Lge(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||Ea(t)!=="object"&&typeof t!="function")return{default:t};var r=UR(e);if(r&&r.has(t))return r.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(a!=="default"&&Object.prototype.hasOwnProperty.call(t,a)){var o=n?Object.getOwnPropertyDescriptor(t,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=t[a]}return i.default=t,r&&r.set(t,i),i}function Jg(t){return t&&t.__esModule?t:{default:t}}function Ea(t){"@babel/helpers - typeof";return Ea=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ea(t)}function Aa(t,e,r){return e=Kge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kge(t){var e=Fge(t,"string");return Ea(e)==="symbol"?e:String(e)}function Fge(t,e){if(Ea(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(Ea(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bge=Aa({},Sr.map,function(t){return this.constructor[Sr.of](t(this.value))});kt.functorTrait=Bge;var Hge=Aa({},Sr.ap,function(t){var e=this;return t.map(function(r){return r(e.value)})});kt.applyTrait=Hge;var Uge=Aa({},Sr.equals,function(t){return(0,Qg.isSameType)(this,t)&&(0,$g.equals)(this.value,t.value)});kt.setoidTrait=Uge;var Gge=Aa({},Sr.concat,function(t){var e=this.value;return(0,Rge.default)(this.value)||(0,kge.default)(this.value)?e=this.value+t.value:(0,$g.pathSatisfies)(HR.default,["value",Sr.concat],this)?e=this.value[Sr.concat](t.value):(0,$g.pathSatisfies)(HR.default,["value","concat"],this)&&(e=this.value.concat(t.value)),this.constructor[Sr.of](e)});kt.semigroupTrait=Gge;var jge=Aa({},Sr.chain,function(t){var e=t(this.value);return(0,Qg.isSameType)(this,e)?e:this});kt.chainTrait=jge;var zge=Aa({},Sr.lte,function(t){return(0,Qg.isSameType)(this,t)&&(this.value<t.value||this[Sr.equals](t))});kt.ordTrait=zge});var e0=l(jd=>{"use strict";jd.__esModule=!0;jd.default=void 0;var Wge=P(),ut=Vge(Uf()),Ma=GR();function zR(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(zR=function(n){return n?r:e})(t)}function Vge(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||Sa(t)!=="object"&&typeof t!="function")return{default:t};var r=zR(e);if(r&&r.has(t))return r.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(a!=="default"&&Object.prototype.hasOwnProperty.call(t,a)){var o=n?Object.getOwnPropertyDescriptor(t,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=t[a]}return i.default=t,r&&r.set(t,i),i}function Sa(t){"@babel/helpers - typeof";return Sa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sa(t)}function Yge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jR(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,Zge(i.key),i)}}function Xge(t,e,r){return e&&jR(t.prototype,e),r&&jR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zge(t){var e=$ge(t,"string");return Sa(e)==="symbol"?e:String(e)}function $ge(t,e){if(Sa(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(Sa(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qge=function(t,e,r,i,n,a,o,u,p){function _(b){Yge(this,_),this.value=b}return Xge(_,[{key:"get",value:function(){return this.value}},{key:e,value:function(A){return Ma.applyTrait[ut.ap].call(this,A)}},{key:"ap",value:function(A){return this[ut.ap](A)}},{key:r,value:function(A){return Ma.functorTrait[ut.map].call(this,A)}},{key:"map",value:function(A){return this[ut.map](A)}},{key:i,value:function(A){return Ma.setoidTrait[ut.equals].call(this,A)}},{key:"equals",value:function(A){return this[ut.equals](A)}},{key:n,value:function(A){return Ma.semigroupTrait[ut.concat].call(this,A)}},{key:"concat",value:function(A){return this[ut.concat](A)}},{key:a,value:function(A){return Ma.chainTrait[ut.chain].call(this,A)}},{key:"chain",value:function(A){return this[ut.chain](A)}},{key:o,value:function(A){return Ma.ordTrait[ut.lte].call(this,A)}},{key:"lte",value:function(A){return this[ut.lte](A)}},{key:u,value:function(){return this.constructor.of((0,Wge.empty)(this.value))}},{key:"empty",value:function(){return this[ut.empty]()}},{key:p,value:function(A){var S=this;return this.constructor.of(function(C){return S.value(A(C))})}},{key:"contramap",value:function(A){return this[ut.contramap](A)}}],[{key:t,value:function(A){return new _(A)}},{key:"of",value:function(A){return new _(A)}},{key:"@@type",get:function(){return"RA/Identity"}}]),_}(ut.of,ut.ap,ut.map,ut.equals,ut.concat,ut.chain,ut.lte,ut.empty,ut.contramap),Jge=Qge;jd.default=Jge});var WR=l(zd=>{"use strict";zd.__esModule=!0;zd.default=void 0;var Us=P(),e0e=t0e(e0());function t0e(t){return t&&t.__esModule?t:{default:t}}var r0e=(0,Us.curryN)(1,function(t){return(0,Us.curry)(function(e,r){return e0e.default.of((0,Us.traverse)(t,(0,Us.pipe)(e,(0,Us.prop)("value")),r))})}),i0e=r0e;zd.default=i0e});var YR=l(Wd=>{"use strict";Wd.__esModule=!0;Wd.default=void 0;var Ia=P(),n0e=function(e,r){var i=function(a){return e(a)};return i.from=r,i},a0e=function(e,r){return n0e((0,Ia.curry)(function(i,n){return(0,Ia.map)(r,i(e(n)))}),(0,Ia.curry)(function(i,n){return(0,Ia.map)(e,i(r(n)))}))},o0e=(0,Ia.curry)(function(t,e){return t.from(e)}),VR=(0,Ia.curry)(a0e);VR.from=o0e;var s0e=VR;Wd.default=s0e});var ZR=l(Vd=>{"use strict";Vd.__esModule=!0;Vd.default=void 0;var XR=P(),u0e=(0,XR.complement)(XR.propEq),l0e=u0e;Vd.default=l0e});var QR=l(Yd=>{"use strict";Yd.__esModule=!0;Yd.default=void 0;var $R=P(),c0e=(0,$R.complement)($R.pathEq),f0e=c0e;Yd.default=f0e});var JR=l(Xd=>{"use strict";Xd.__esModule=!0;Xd.default=void 0;var Nn=P(),p0e=(0,Nn.ifElse)(Nn.gte,function(){throw new Error("low must not be greater than high in inRange(low, high, value)")},(0,Nn.useWith)(Nn.both,[Nn.lte,Nn.gt])),d0e=(0,Nn.curry)(function(t,e,r){return p0e(t,e)(r)});Xd.default=d0e});var tk=l(Zd=>{"use strict";Zd.__esModule=!0;Zd.default=void 0;var ek=P(),h0e=(0,ek.complement)(ek.equals),m0e=h0e;Zd.default=m0e});var rk=l(Qd=>{"use strict";Qd.__esModule=!0;Qd.default=void 0;var $d=P(),v0e=y0e(Ss());function y0e(t){return t&&t.__esModule?t:{default:t}}var _0e=(0,$d.curryN)(2,function(t,e){return(0,$d.isEmpty)(t)?!0:(0,$d.pipe)($d.intersection,v0e.default)(t,e)}),g0e=_0e;Qd.default=g0e});var ik=l(eh=>{"use strict";eh.__esModule=!0;eh.default=void 0;var Jd=P(),x0e=(0,Jd.curry)((0,Jd.compose)(Jd.complement,Jd.both)),w0e=x0e;eh.default=w0e});var ak=l(th=>{"use strict";th.__esModule=!0;th.default=void 0;var nk=P(),q0e=(0,nk.complement)(nk.and),b0e=q0e;th.default=b0e});var t0=l(ih=>{"use strict";ih.__esModule=!0;ih.default=void 0;var rh=P(),E0e=(0,rh.curry)((0,rh.compose)(rh.complement,rh.either)),A0e=E0e;ih.default=A0e});var sk=l(nh=>{"use strict";nh.__esModule=!0;nh.default=void 0;var ok=P(),M0e=(0,ok.complement)(ok.or),S0e=M0e;nh.default=S0e});var uk=l(oh=>{"use strict";oh.__esModule=!0;oh.default=void 0;var ah=P(),I0e=(0,ah.curry)((0,ah.compose)(ah.complement,ah.allPass)),O0e=I0e;oh.default=O0e});var lk=l(uh=>{"use strict";uh.__esModule=!0;uh.default=void 0;var sh=P(),P0e=(0,sh.curryN)(1,(0,sh.compose)(sh.complement,sh.anyPass)),T0e=P0e;uh.default=T0e});var fk=l(lh=>{"use strict";lh.__esModule=!0;lh.default=void 0;var r0=P(),N0e=ck(Eg()),C0e=ck(df());function ck(t){return t&&t.__esModule?t:{default:t}}var D0e=(0,r0.curry)(function(t,e){return(0,r0.useWith)((0,r0.compose)(t(C0e.default),N0e.default),e)}),R0e=D0e;lh.default=R0e});var pk=l(ch=>{"use strict";ch.__esModule=!0;ch.default=void 0;var k0e=P(),L0e=(0,k0e.nAry)(0),K0e=L0e;ch.default=K0e});var hk=l(fh=>{"use strict";fh.__esModule=!0;fh.default=void 0;var dk=P(),F0e=(0,dk.curryN)(1,(0,dk.bind)(Math.round,Math)),B0e=F0e;fh.default=B0e});var vk=l(ph=>{"use strict";ph.__esModule=!0;ph.default=void 0;var mk=P(),H0e=(0,mk.curryN)(1,(0,mk.bind)(Math.ceil,Math)),U0e=H0e;ph.default=U0e});var _k=l(dh=>{"use strict";dh.__esModule=!0;dh.default=void 0;var yk=P(),G0e=(0,yk.flip)(yk.divide),j0e=G0e;dh.default=j0e});var gk=l(hh=>{"use strict";hh.__esModule=!0;hh.default=void 0;var z0e=W0e(fa());function W0e(t){return t&&t.__esModule?t:{default:t}}var V0e=function(e){var r=Number(e);return(0,z0e.default)(r)?r-r%1||(r<0?-0:r===0?r:0):r},Y0e=V0e;hh.default=Y0e});var qk=l(Oa=>{"use strict";Oa.__esModule=!0;Oa.truncPonyfill=Oa.default=void 0;var i0=P(),X0e=xk(gk()),Z0e=xk(Qe());function xk(t){return t&&t.__esModule?t:{default:t}}var wk=(0,i0.curryN)(1,X0e.default);Oa.truncPonyfill=wk;var $0e=(0,Z0e.default)(Math.trunc)?(0,i0.curryN)(1,(0,i0.bind)(Math.trunc,Math)):wk,Q0e=$0e;Oa.default=Q0e});var bk=l(mh=>{"use strict";mh.__esModule=!0;mh.default=void 0;var J0e=function(e){return(e>0)-(e<0)||+e},exe=J0e;mh.default=exe});var Mk=l(Pa=>{"use strict";Pa.__esModule=!0;Pa.signPonyfill=Pa.default=void 0;var n0=P(),txe=Ek(Qe()),rxe=Ek(bk());function Ek(t){return t&&t.__esModule?t:{default:t}}var Ak=(0,n0.curryN)(1,rxe.default);Pa.signPonyfill=Ak;var ixe=(0,txe.default)(Math.sign)?(0,n0.curryN)(1,(0,n0.bind)(Math.sign,Math)):Ak,nxe=ixe;Pa.default=nxe});var Ik=l(vh=>{"use strict";vh.__esModule=!0;vh.default=void 0;var Sk=P(),axe=(0,Sk.flip)(Sk.subtract),oxe=axe;vh.default=oxe});var Pk=l(yh=>{"use strict";yh.__esModule=!0;yh.default=void 0;var a0=P(),sxe=o0(Is()),uxe=o0(Af()),Ok=o0(t0());function o0(t){return t&&t.__esModule?t:{default:t}}var lxe=(0,Ok.default)(uxe.default,(0,a0.both)(sxe.default,(0,Ok.default)((0,a0.hasIn)("toString"),(0,a0.hasIn)("valueOf")))),cxe=lxe;yh.default=cxe});var Nk=l(_h=>{"use strict";_h.__esModule=!0;_h.default=void 0;var Tk=P(),fxe=pxe(Pk());function pxe(t){return t&&t.__esModule?t:{default:t}}var dxe=(0,Tk.ifElse)(fxe.default,Number,(0,Tk.always)(NaN)),hxe=dxe;_h.default=hxe});var s0=l(gh=>{"use strict";gh.__esModule=!0;gh.default=void 0;var Ck=P(),mxe=vxe(ci());function vxe(t){return t&&t.__esModule?t:{default:t}}var yxe=(0,Ck.when)(mxe.default,(0,Ck.replace)(/[.*+?^${}()|[\]\\-]/g,"\\$&")),_xe=yxe;gh.default=_xe});var kk=l(xh=>{"use strict";xh.__esModule=!0;xh.default=void 0;var gxe=P(),xxe=Rk(yf()),wxe=Rk(s0());function Rk(t){return t&&t.__esModule?t:{default:t}}var qxe=function(e,r,i){if(i==null||e==null||r==null)throw TypeError("Input values must not be `null` or `undefined`")},Dk=function(e,r){if(typeof e!="string"&&!(e instanceof String))throw TypeError("`".concat(r,"` must be a string"))},bxe=function(e){if(typeof e!="string"&&!(e instanceof String)&&!(e instanceof RegExp))throw TypeError("`searchValue` must be a string or an regexp")},Exe=function(e,r,i){qxe(e,r,i),Dk(i,"str"),Dk(r,"replaceValue"),bxe(e);var n=new RegExp((0,xxe.default)(e)?e:(0,wxe.default)(e),"g");return(0,gxe.replace)(n,r,i)},Axe=Exe;xh.default=Axe});var Hk=l(Di=>{"use strict";Di.__esModule=!0;Di.replaceAllPonyfill=Di.replaceAllInvoker=Di.default=void 0;var Lk=P(),Mxe=Kk(Qe()),Sxe=Kk(kk());function Kk(t){return t&&t.__esModule?t:{default:t}}var Fk=(0,Lk.curryN)(3,Sxe.default);Di.replaceAllPonyfill=Fk;var Bk=(0,Lk.invoker)(2,"replaceAll");Di.replaceAllInvoker=Bk;var Ixe=(0,Mxe.default)(String.prototype.replaceAll)?Bk:Fk,Oxe=Ixe;Di.default=Oxe});var Uk=l(wh=>{"use strict";wh.__esModule=!0;wh.default=void 0;var Pxe=P(),Txe=(0,Pxe.replace)(/^[\s\uFEFF\xA0]+/,""),Nxe=Txe;wh.default=Nxe});var Wk=l(Ri=>{"use strict";Ri.__esModule=!0;Ri.trimStartPonyfill=Ri.trimStartInvoker=Ri.default=void 0;var Cxe=P(),Dxe=Gk(Uk()),Rxe=Gk(Qe());function Gk(t){return t&&t.__esModule?t:{default:t}}var jk=Dxe.default;Ri.trimStartPonyfill=jk;var zk=(0,Cxe.invoker)(0,"trimStart");Ri.trimStartInvoker=zk;var kxe=(0,Rxe.default)(String.prototype.trimStart)?zk:jk,Lxe=kxe;Ri.default=Lxe});var Vk=l(qh=>{"use strict";qh.__esModule=!0;qh.default=void 0;var Kxe=P(),Fxe=(0,Kxe.replace)(/[\s\uFEFF\xA0]+$/,""),Bxe=Fxe;qh.default=Bxe});var $k=l(ki=>{"use strict";ki.__esModule=!0;ki.trimEndPonyfill=ki.trimEndInvoker=ki.default=void 0;var Hxe=P(),Uxe=Yk(Vk()),Gxe=Yk(Qe());function Yk(t){return t&&t.__esModule?t:{default:t}}var Xk=Uxe.default;ki.trimEndPonyfill=Xk;var Zk=(0,Hxe.invoker)(0,"trimEnd");ki.trimEndInvoker=Zk;var jxe=(0,Gxe.default)(String.prototype.trimEnd)?Zk:Xk,zxe=jxe;ki.default=zxe});var Qk=l(bh=>{"use strict";bh.__esModule=!0;bh.default=void 0;var Gs=P(),Wxe=Vxe(Dp());function Vxe(t){return t&&t.__esModule?t:{default:t}}var Yxe=(0,Gs.curry)(function(t,e){return(0,Gs.pipe)((0,Gs.split)(""),(0,Gs.dropLastWhile)((0,Wxe.default)(t)),(0,Gs.join)(""))(e)}),Xxe=Yxe;bh.default=Xxe});var Jk=l(Eh=>{"use strict";Eh.__esModule=!0;Eh.default=void 0;var js=P(),Zxe=$xe(Dp());function $xe(t){return t&&t.__esModule?t:{default:t}}var Qxe=(0,js.curry)(function(t,e){return(0,js.pipe)((0,js.split)(""),(0,js.dropWhile)((0,Zxe.default)(t)),(0,js.join)(""))(e)}),Jxe=Qxe;Eh.default=Jxe});var eL=l(Ah=>{"use strict";Ah.__esModule=!0;Ah.default=void 0;var ewe=u0(Qe()),twe=u0(As()),rwe=u0(Gp());function u0(t){return t&&t.__esModule?t:{default:t}}var iwe=function(e,r,i){var n=r>>0,a=String((0,twe.default)(e)?e:" ");if(i.length>=n)return String(i);if(n-=i.length,n>a.length){var o=n/a.length;a+=(0,ewe.default)(String.prototype.repeat)?a.repeat(o):(0,rwe.default)(a,o)}return a.slice(0,n)+String(i)},nwe=iwe;Ah.default=nwe});var c0=l(Li=>{"use strict";Li.__esModule=!0;Li.padStartPonyfill=Li.padStartInvoker=Li.default=void 0;var l0=P(),awe=tL(Qe()),owe=tL(eL());function tL(t){return t&&t.__esModule?t:{default:t}}var rL=(0,l0.flip)((0,l0.invoker)(2,"padStart"));Li.padStartInvoker=rL;var iL=(0,l0.curry)(owe.default);Li.padStartPonyfill=iL;var swe=(0,awe.default)(String.prototype.padStart)?rL:iL,uwe=swe;Li.default=uwe});var nL=l(Mh=>{"use strict";Mh.__esModule=!0;Mh.default=void 0;var lwe=f0(Qe()),cwe=f0(As()),fwe=f0(Gp());function f0(t){return t&&t.__esModule?t:{default:t}}var pwe=function(e,r,i){var n=r>>0,a=String((0,cwe.default)(e)?e:" ");if(i.length>n)return String(i);if(n-=i.length,n>a.length){var o=n/a.length;a+=(0,lwe.default)(String.prototype.repeat)?a.repeat(o):(0,fwe.default)(a,o)}return String(i)+a.slice(0,n)},dwe=pwe;Mh.default=dwe});var d0=l(Ki=>{"use strict";Ki.__esModule=!0;Ki.padEndPonyfill=Ki.padEndInvoker=Ki.default=void 0;var p0=P(),hwe=aL(nL()),mwe=aL(Qe());function aL(t){return t&&t.__esModule?t:{default:t}}var oL=(0,p0.curry)(hwe.default);Ki.padEndPonyfill=oL;var sL=(0,p0.flip)((0,p0.invoker)(2,"padEnd"));Ki.padEndInvoker=sL;var vwe=(0,mwe.default)(String.prototype.padEnd)?sL:oL,ywe=vwe;Ki.default=ywe});var uL=l(Sh=>{"use strict";Sh.__esModule=!0;Sh.default=void 0;var _we=gwe(d0());function gwe(t){return t&&t.__esModule?t:{default:t}}var xwe=(0,_we.default)(" "),wwe=xwe;Sh.default=wwe});var lL=l(Ih=>{"use strict";Ih.__esModule=!0;Ih.default=void 0;var qwe=bwe(c0());function bwe(t){return t&&t.__esModule?t:{default:t}}var Ewe=(0,qwe.default)(" "),Awe=Ewe;Ih.default=Awe});var ML=l(w=>{"use strict";w.__esModule=!0;w.isNotRegExp=w.isNotPrimitive=w.isNotPlainObject=w.isNotPlainObj=w.isNotPair=w.isNotObjectLike=w.isNotObject=w.isNotObjLike=w.isNotObj=w.isNotNumber=w.isNotNull=w.isNotNilOrEmpty=w.isNotNil=w.isNotNaN=w.isNotMap=w.isNotInteger=w.isNotGeneratorFunction=w.isNotFunction=w.isNotFloat=w.isNotFinite=w.isNotEmpty=w.isNotDate=w.isNotBoolean=w.isNotAsyncFunction=w.isNotArrayLike=w.isNotArray=w.isNonPositive=w.isNonNegative=w.isNonEmptyString=w.isNonEmptyArray=w.isNilOrEmpty=w.isNegativeZero=w.isNegative=w.isNaturalNumber=w.isNaN=w.isMap=w.isIterable=w.isInvalidDate=w.isInteger32=w.isInteger=w.isInt32=w.isIndexed=w.isGeneratorFunction=w.isFunction=w.isFloat=w.isFinite=w.isFalsy=w.isFalse=w.isEven=w.isError=w.isEmptyString=w.isEmptyArray=w.isDate=w.isBoolean=w.isBlank=w.isBigInt=w.isAsyncFunction=w.isArrayLike=w.isArray=w.invokeArgs=w.invoke=w.included=w.inRange=w.fnull=w.floor=w.flattenProp=w.flattenPath=w.flattenDepth=w.firstP=w.findOr=w.filterIndexed=w.escapeRegExp=w.ensureArray=w.dropArgs=w.divideNum=w.dispatch=w.delayP=w.defaultWhen=w.curryRightN=w.curryRight=w.copyKeys=w.concatRight=w.concatAll=w.compact=w.ceil=w.catchP=w.cata=w.async=w.argsPass=w.appendFlipped=w.anyP=w.allUnique=w.allSettledP=w.allP=w.allIdenticalTo=w.allIdentical=w.allEqualTo=w.allEqual=w.Y=w.Identity=void 0;w.sortByProps=w.sortByProp=w.sortByPaths=w.sliceTo=w.sliceFrom=w.skipTake=w.sign=w.sequencing=w.seq=w.round=w.resolveP=w.replaceAll=w.repeatStr=w.renameKeysWith=w.renameKeys=w.renameKeyWith=w.rejectP=w.reduceRightP=w.reduceP=w.reduceIndexed=w.rangeStep=w.propNotEq=w.pickIndexes=w.paths=w.pathOrLazy=w.pathNotEq=w.padStart=w.padEnd=w.padCharsStart=w.padCharsEnd=w.overlaps=w.omitIndexes=w.omitBy=w.notEqual=w.notBoth=w.notAllUnique=w.notAllPass=w.nor=w.noop=w.nonePass=w.noneP=w.neither=w.nand=w.move=w.mergeProps=w.mergeProp=w.mergePaths=w.mergePath=w.mapIndexed=w.list=w.liftFN=w.liftF=w.lensTraverse=w.lensSatisfies=w.lensNotSatisfy=w.lensNotEq=w.lensIso=w.lensEq=w.lengthNotEq=w.lengthLte=w.lengthLt=w.lengthGte=w.lengthGt=w.lengthEq=w.lastP=w.isValidNumber=w.isValidDate=w.isUndefined=w.isUinteger32=w.isUint32=w.isTruthy=w.isTrue=w.isThenable=w.isSymbol=w.isString=w.isSparseArray=w.isSet=w.isSentinelValue=w.isSafeInteger=w.isRegExp=w.isPrototypeOf=w.isPromise=w.isPrimitive=w.isPositiveZero=w.isPositive=w.isPlainObject=w.isPlainObj=w.isPair=w.isOdd=w.isObjectLike=w.isObject=w.isObjLike=w.isObj=w.isNumber=w.isNull=w.isNotValidNumber=w.isNotValidDate=w.isNotUndefined=w.isNotString=w.isNotSet=void 0;w.zipObjWith=w.weaveLazy=w.weave=w.viewOr=w.unzipObjWith=w.trunc=w.trimStart=w.trimRight=w.trimLeft=w.trimEnd=w.trimCharsStart=w.trimCharsEnd=w.toUinteger32=w.toUint32=w.toNumber=w.toInteger32=w.toInt32=w.toArray=w.thenCatchP=w.subtractNum=w.stubUndefined=w.stubString=w.stubObject=w.stubObj=w.stubNull=w.stubArray=w.spreadProp=w.spreadPath=void 0;var Mwe=T(As());w.isNotUndefined=Mwe.default;var Swe=T(ua());w.isUndefined=Swe.default;var Iwe=T(Ms());w.isNull=Iwe.default;var Owe=T(El());w.isNotNull=Owe.default;var Pwe=T(Ml());w.isNotNil=Pwe.default;var Twe=T(li());w.isArray=Twe.default;var Nwe=T(Kl());w.isIterable=Nwe.default;var Cwe=T(g_());w.isEmptyArray=Cwe.default;var Dwe=T(x_());w.isNotArray=Dwe.default;var Rwe=T(w_());w.isNonEmptyArray=Rwe.default;var kwe=T(zl());w.isBoolean=kwe.default;var Lwe=T(tN());w.isNotBoolean=Lwe.default;var Kwe=T(q_());w.isNilOrEmpty=Kwe.default;var Fwe=T(ci());w.isString=Fwe.default;var Bwe=T(rN());w.isEmptyString=Bwe.default;var Hwe=T(iN());w.isNotString=Hwe.default;var Uwe=T(nN());w.isNonEmptyString=Uwe.default;var Gwe=T(ac());w.isArrayLike=Gwe.default;var jwe=T(oN());w.isNotArrayLike=jwe.default;var zwe=T(Ol());w.isGeneratorFunction=zwe.default;var Wwe=T(sN());w.isNotGeneratorFunction=Wwe.default;var Vwe=T(Nl());w.isAsyncFunction=Vwe.default;var Ywe=T(uN());w.isNotAsyncFunction=Ywe.default;var Xwe=T(Qe());w.isFunction=Xwe.default;var Zwe=T(cc());w.isNotFunction=Zwe.default;var cL=T(Is());w.isObj=cL.default;w.isObject=cL.default;var fL=T(rc());w.isNotObj=fL.default;w.isNotObject=fL.default;var pL=T(pc());w.isObjLike=pL.default;w.isObjectLike=pL.default;var dL=T(fN());w.isNotObjLike=dL.default;w.isNotObjectLike=dL.default;var hL=T(T_());w.isPlainObj=hL.default;w.isPlainObject=hL.default;var mL=T(pN());w.isNotPlainObj=mL.default;w.isNotPlainObject=mL.default;var $we=T(_c());w.isDate=$we.default;var Qwe=T(dN());w.isNotDate=Qwe.default;var Jwe=T(D_());w.isValidDate=Jwe.default;var vL=T(gN());w.isNotValidDate=vL.default;w.isInvalidDate=vL.default;var eqe=T(Mr());w.isNumber=eqe.default;var tqe=T(xN());w.isNotNumber=tqe.default;var rqe=T(qN());w.isPositive=rqe.default;var iqe=T(Pc());w.isNegative=iqe.default;var nqe=T(bN());w.isPositiveZero=nqe.default;var aqe=T(EN());w.isNegativeZero=aqe.default;var oqe=T(AN());w.isNotNilOrEmpty=oqe.default;var sqe=T(MN());w.isNonPositive=sqe.default;var uqe=T(k_());w.isNonNegative=uqe.default;var lqe=T(L_());w.isMap=lqe.default;var cqe=T(SN());w.isNotMap=cqe.default;var fqe=T(N_());w.isNaN=fqe.default;var pqe=T(C_());w.isNotNaN=pqe.default;var dqe=T(fa());w.isFinite=dqe.default;var hqe=T(F_());w.isNotFinite=hqe.default;var mqe=T(Gr());w.isInteger=mqe.default;var yL=T(U_());w.isInteger32=yL.default;w.isInt32=yL.default;var _L=T(DN());w.isUinteger32=_L.default;w.isUint32=_L.default;var vqe=T(RN());w.isNotInteger=vqe.default;var yqe=T(j_());w.isBigInt=yqe.default;var _qe=T(Jc());w.isFloat=_qe.default;var gqe=T(FN());w.isNotFloat=gqe.default;var xqe=T(z_());w.isValidNumber=xqe.default;var wqe=T(UN());w.isNotValidNumber=wqe.default;var qqe=T(W_());w.isOdd=qqe.default;var bqe=T(jN());w.isEven=bqe.default;var Eqe=T(Y_());w.isPair=Eqe.default;var Aqe=T(zN());w.isNotPair=Aqe.default;var Mqe=T(WN());w.isThenable=Mqe.default;var Sqe=T(VN());w.isPromise=Sqe.default;var Iqe=T(X_());w.isTrue=Iqe.default;var Oqe=T(Z_());w.isFalse=Oqe.default;var Pqe=T(df());w.isTruthy=Pqe.default;var Tqe=T($_());w.isFalsy=Tqe.default;var Nqe=T(yf());w.isRegExp=Nqe.default;var Cqe=T(YN());w.isNotRegExp=Cqe.default;var Dqe=T(Q_());w.isSet=Dqe.default;var Rqe=T(XN());w.isNotSet=Rqe.default;var kqe=T(ZN());w.isSparseArray=kqe.default;var Lqe=T(Af());w.isSymbol=Lqe.default;var Kqe=T(iC());w.isSafeInteger=Kqe.default;var Fqe=T(oC());w.isIndexed=Fqe.default;var Bqe=T(sC());w.isError=Bqe.default;var Hqe=T(lC());w.isNaturalNumber=Hqe.default;var Uqe=T(tg());w.isPrimitive=Uqe.default;var Gqe=T(pC());w.isNotPrimitive=Gqe.default;var jqe=T(dC());w.isSentinelValue=jqe.default;var zqe=T(hC());w.isBlank=zqe.default;var Wqe=T(sa());w.stubUndefined=Wqe.default;var Vqe=T(mC());w.stubNull=Vqe.default;var gL=T(vC());w.stubObj=gL.default;w.stubObject=gL.default;var Yqe=T(yC());w.stubString=Yqe.default;var Xqe=T(_C());w.stubArray=Xqe.default;var Zqe=T(gC());w.noop=Zqe.default;var $qe=T(ig());w.liftFN=$qe.default;var Qqe=T(EC());w.liftF=Qqe.default;var Jqe=T(AC());w.cata=Jqe.default;var ebe=T(SC());w.weave=ebe.default;var tbe=T(OC());w.weaveLazy=tbe.default;var rbe=T(og());w.curryRightN=rbe.default;var ibe=T(PC());w.curryRight=ibe.default;var nbe=T(Mn());w.allP=nbe.default;var abe=T(NC());w.catchP=abe.default;var obe=T(DC());w.noneP=obe.default;var sbe=T(pi());w.resolveP=sbe.default;var ube=T(Ts());w.rejectP=ube.default;var lbe=T(KC());w.delayP=lbe.default;var cbe=T(BC());w.thenCatchP=cbe.default;var fbe=T(zC());w.allSettledP=fbe.default;var pbe=T(WC());w.Y=pbe.default;var xL=T(VC());w.seq=xL.default;w.sequencing=xL.default;var dbe=T(YC());w.dispatch=dbe.default;var hbe=T(ZC());w.async=hbe.default;var wL=T(nD());w.anyP=wL.default;w.firstP=wL.default;var mbe=T(sD());w.lastP=mbe.default;var vbe=T(cD());w.fnull=vbe.default;var ybe=T(bg());w.mapIndexed=ybe.default;var _be=T(pD());w.reduceIndexed=_be.default;var gbe=T(hD());w.filterIndexed=gbe.default;var xbe=T(mD());w.pickIndexes=xbe.default;var wbe=T(Eg());w.list=wbe.default;var qbe=T(_D());w.ensureArray=qbe.default;var bbe=T(xD());w.concatAll=bbe.default;var Ebe=T(qD());w.concatRight=Ebe.default;var Abe=T(AD());w.reduceP=Abe.default;var Mbe=T(ID());w.reduceRightP=Mbe.default;var Sbe=T(PD());w.sliceFrom=Sbe.default;var Ibe=T(TD());w.sliceTo=Ibe.default;var Obe=T(ND());w.omitIndexes=Obe.default;var Pbe=T(CD());w.compact=Pbe.default;var Tbe=T(RD());w.appendFlipped=Tbe.default;var Nbe=T(Dp());w.included=Nbe.default;var Cbe=T(LD());w.move=Cbe.default;var Dbe=T(FD());w.lengthGt=Dbe.default;var Rbe=T(HD());w.lengthLt=Rbe.default;var kbe=T(xg());w.lengthGte=kbe.default;var Lbe=T(Fp());w.lengthLte=Lbe.default;var Kbe=T(Ds());w.lengthEq=Kbe.default;var Fbe=T(jD());w.lengthNotEq=Fbe.default;var Bbe=T(zD());w.allEqual=Bbe.default;var Hbe=T(ZD());w.repeatStr=Hbe.default;var Ube=T($D());w.allIdentical=Ube.default;var Gbe=T(QD());w.allIdenticalTo=Gbe.default;var jbe=T(JD());w.allEqualTo=jbe.default;var zbe=T(tR());w.flattenDepth=zbe.default;var Wbe=T(oR());w.toArray=Wbe.default;var Vbe=T(kg());w.allUnique=Vbe.default;var Ybe=T(sR());w.notAllUnique=Ybe.default;var Xbe=T(Lg());w.sortByProps=Xbe.default;var Zbe=T(lR());w.sortByProp=Zbe.default;var $be=T(cR());w.sortByPaths=$be.default;var Qbe=T(fR());w.skipTake=Qbe.default;var Jbe=T(dR());w.rangeStep=Jbe.default;var e1e=T(hR());w.findOr=e1e.default;var t1e=T(yR());w.invoke=t1e.default;var r1e=T(pd());w.invokeArgs=r1e.default;var i1e=T(Fg());w.paths=i1e.default;var n1e=T(Bg());w.renameKeys=n1e.default;var a1e=T(yd());w.renameKeysWith=a1e.default;var o1e=T(gR());w.renameKeyWith=o1e.default;var s1e=T(qR());w.copyKeys=s1e.default;var u1e=T(bR());w.mergeProps=u1e.default;var l1e=T(ER());w.mergePaths=l1e.default;var c1e=T(MR());w.mergeProp=c1e.default;var f1e=T(Gg());w.mergePath=f1e.default;var p1e=T(SR());w.omitBy=p1e.default;var d1e=T(IR());w.pathOrLazy=d1e.default;var h1e=T(OR());w.viewOr=h1e.default;var m1e=T(TR());w.spreadProp=m1e.default;var v1e=T(zg());w.spreadPath=v1e.default;var y1e=T(CR());w.flattenProp=y1e.default;var _1e=T(Vg());w.flattenPath=_1e.default;var g1e=T(DR());w.unzipObjWith=g1e.default;var x1e=T(RR());w.zipObjWith=x1e.default;var w1e=T(kR());w.isPrototypeOf=w1e.default;var q1e=T(Yg());w.lensEq=q1e.default;var b1e=T(LR());w.lensNotEq=b1e.default;var E1e=T(Zg());w.lensSatisfies=E1e.default;var A1e=T(KR());w.lensNotSatisfy=A1e.default;var M1e=T(WR());w.lensTraverse=M1e.default;var S1e=T(YR());w.lensIso=S1e.default;var I1e=T(ZR());w.propNotEq=I1e.default;var O1e=T(QR());w.pathNotEq=O1e.default;var P1e=T(JR());w.inRange=P1e.default;var T1e=T(tk());w.notEqual=T1e.default;var N1e=T(rk());w.overlaps=N1e.default;var C1e=T(Ss());w.isNotEmpty=C1e.default;var D1e=T(qg());w.defaultWhen=D1e.default;var R1e=T(ik());w.notBoth=R1e.default;var k1e=T(ak());w.nand=k1e.default;var L1e=T(t0());w.neither=L1e.default;var K1e=T(sk());w.nor=K1e.default;var F1e=T(uk());w.notAllPass=F1e.default;var B1e=T(lk());w.nonePass=B1e.default;var H1e=T(fk());w.argsPass=H1e.default;var U1e=T(pk());w.dropArgs=U1e.default;var G1e=T(hk());w.round=G1e.default;var j1e=T(vk());w.ceil=j1e.default;var z1e=T(_k());w.divideNum=z1e.default;var W1e=T(Kg());w.floor=W1e.default;var V1e=T(qk());w.trunc=V1e.default;var Y1e=T(Mk());w.sign=Y1e.default;var X1e=T(Ik());w.subtractNum=X1e.default;var qL=T(H_());w.toInteger32=qL.default;w.toInt32=qL.default;var bL=T(G_());w.toUinteger32=bL.default;w.toUint32=bL.default;var Z1e=T(Nk());w.toNumber=Z1e.default;var $1e=T(Hk());w.replaceAll=$1e.default;var Q1e=T(s0());w.escapeRegExp=Q1e.default;var EL=T(Wk());w.trimStart=EL.default;w.trimLeft=EL.default;var AL=T($k());w.trimEnd=AL.default;w.trimRight=AL.default;var J1e=T(Qk());w.trimCharsEnd=J1e.default;var eEe=T(Jk());w.trimCharsStart=eEe.default;var tEe=T(c0());w.padCharsStart=tEe.default;var rEe=T(d0());w.padCharsEnd=rEe.default;var iEe=T(uL());w.padEnd=iEe.default;var nEe=T(lL());w.padStart=nEe.default;var aEe=T(e0());w.Identity=aEe.default;function T(t){return t&&t.__esModule?t:{default:t}}});var Fi=l(sr=>{"use strict";Object.defineProperty(sr,"__esModule",{value:!0});sr.readOnlyProperty=sr.readOnlyBinaryProperty=sr.frozenClass=sr.immutableBaseClass=sr.immutableClass=void 0;function SL(t){return Object.freeze(t),Object.getOwnPropertyNames(t.prototype).filter(r=>r!=="constructor").forEach(r=>Object.defineProperty(t.prototype,r,{writable:!1})),Object.seal(t.prototype),t}sr.immutableClass=SL;function oEe(t){return Object.setPrototypeOf(t.prototype,null),SL(t),t}sr.immutableBaseClass=oEe;function sEe(t){return Object.setPrototypeOf(t.prototype,null),Object.freeze(t.prototype),Object.freeze(t),t}sr.frozenClass=sEe;function uEe(t,e,r){let i=new Uint8Array(r);Object.defineProperty(t,e,{get:()=>new Uint8Array(i),enumerable:!0})}sr.readOnlyBinaryProperty=uEe;function lEe(t,e,r){Object.defineProperty(t,e,{value:r,enumerable:!0,writable:!1})}sr.readOnlyProperty=lEe});var Ir=l(Oh=>{"use strict";Object.defineProperty(Oh,"__esModule",{value:!0});Oh.needs=void 0;function cEe(t,e,r=Error){if(!t)throw new r(e)}Oh.needs=cEe});var Th=l(Ue=>{"use strict";Object.defineProperty(Ue,"__esModule",{value:!0});Ue.AlgorithmSuite=Ue.MessageFormat=Ue.CommitmentPolicySuites=Ue.CommittingAlgorithmSuiteIdentifier=Ue.NonCommittingAlgorithmSuiteIdentifier=Ue.SignaturePolicySuites=Ue.NonSigningAlgorithmSuiteIdentifier=Ue.SignaturePolicy=Ue.CommitmentPolicy=Ue.AlgorithmSuiteIdentifier=void 0;var h0=Fi(),Ta=Ir(),Nt;(function(t){t[t.ALG_AES128_GCM_IV12_TAG16=20]="ALG_AES128_GCM_IV12_TAG16",t[t.ALG_AES192_GCM_IV12_TAG16=70]="ALG_AES192_GCM_IV12_TAG16",t[t.ALG_AES256_GCM_IV12_TAG16=120]="ALG_AES256_GCM_IV12_TAG16",t[t.ALG_AES128_GCM_IV12_TAG16_HKDF_SHA256=276]="ALG_AES128_GCM_IV12_TAG16_HKDF_SHA256",t[t.ALG_AES192_GCM_IV12_TAG16_HKDF_SHA256=326]="ALG_AES192_GCM_IV12_TAG16_HKDF_SHA256",t[t.ALG_AES256_GCM_IV12_TAG16_HKDF_SHA256=376]="ALG_AES256_GCM_IV12_TAG16_HKDF_SHA256",t[t.ALG_AES128_GCM_IV12_TAG16_HKDF_SHA256_ECDSA_P256=532]="ALG_AES128_GCM_IV12_TAG16_HKDF_SHA256_ECDSA_P256",t[t.ALG_AES192_GCM_IV12_TAG16_HKDF_SHA384_ECDSA_P384=838]="ALG_AES192_GCM_IV12_TAG16_HKDF_SHA384_ECDSA_P384",t[t.ALG_AES256_GCM_IV12_TAG16_HKDF_SHA384_ECDSA_P384=888]="ALG_AES256_GCM_IV12_TAG16_HKDF_SHA384_ECDSA_P384",t[t.ALG_AES256_GCM_IV12_TAG16_HKDF_SHA512_COMMIT_KEY=1144]="ALG_AES256_GCM_IV12_TAG16_HKDF_SHA512_COMMIT_KEY",t[t.ALG_AES256_GCM_IV12_TAG16_HKDF_SHA512_COMMIT_KEY_ECDSA_P384=1400]="ALG_AES256_GCM_IV12_TAG16_HKDF_SHA512_COMMIT_KEY_ECDSA_P384"})(Nt=Ue.AlgorithmSuiteIdentifier||(Ue.AlgorithmSuiteIdentifier={}));Object.freeze(Nt);var zs;(function(t){t.FORBID_ENCRYPT_ALLOW_DECRYPT="FORBID_ENCRYPT_ALLOW_DECRYPT",t.REQUIRE_ENCRYPT_ALLOW_DECRYPT="REQUIRE_ENCRYPT_ALLOW_DECRYPT",t.REQUIRE_ENCRYPT_REQUIRE_DECRYPT="REQUIRE_ENCRYPT_REQUIRE_DECRYPT"})(zs=Ue.CommitmentPolicy||(Ue.CommitmentPolicy={}));Object.freeze(zs);var Ws;(function(t){t.ALLOW_ENCRYPT_ALLOW_DECRYPT="ALLOW_ENCRYPT_ALLOW_DECRYPT",t.ALLOW_ENCRYPT_FORBID_DECRYPT="ALLOW_ENCRYPT_FORBID_DECRYPT"})(Ws=Ue.SignaturePolicy||(Ue.SignaturePolicy={}));Object.freeze(Ws);Ue.NonSigningAlgorithmSuiteIdentifier=(()=>{let{ALG_AES128_GCM_IV12_TAG16_HKDF_SHA256_ECDSA_P256:t,ALG_AES192_GCM_IV12_TAG16_HKDF_SHA384_ECDSA_P384:e,ALG_AES256_GCM_IV12_TAG16_HKDF_SHA384_ECDSA_P384:r,ALG_AES256_GCM_IV12_TAG16_HKDF_SHA512_COMMIT_KEY_ECDSA_P384:i,[532]:n,[838]:a,[888]:o,[1400]:u,...p}=Nt;return p})();Ue.SignaturePolicySuites=Object.freeze({isDecryptEnabled(t,e,r){let i=e.id||e,n=e.name||Nt[i],a="decryptStream",o="signed";t===Ws.ALLOW_ENCRYPT_FORBID_DECRYPT&&(a="decryptUnsignedMessageStream",o="un-signed"),(0,Ta.needs)(this[t].decryptEnabledSuites[i],`Configuration conflict. Cannot process message with ID ${r} due to client method ${a} requiring only ${o} messages. Algorithm ID was ${n}. See: https://docs.aws.amazon.com/encryption-sdk/latest/developer-guide/concepts.html#digital-sigs`)},[Ws.ALLOW_ENCRYPT_ALLOW_DECRYPT]:Object.freeze({decryptEnabledSuites:Nt,defaultAlgorithmSuite:Nt.ALG_AES256_GCM_IV12_TAG16_HKDF_SHA512_COMMIT_KEY_ECDSA_P384}),[Ws.ALLOW_ENCRYPT_FORBID_DECRYPT]:Object.freeze({decryptEnabledSuites:Ue.NonSigningAlgorithmSuiteIdentifier,defaultAlgorithmSuite:Nt.ALG_AES256_GCM_IV12_TAG16_HKDF_SHA512_COMMIT_KEY})});Ue.NonCommittingAlgorithmSuiteIdentifier=(()=>{let{ALG_AES256_GCM_IV12_TAG16_HKDF_SHA512_COMMIT_KEY:t,ALG_AES256_GCM_IV12_TAG16_HKDF_SHA512_COMMIT_KEY_ECDSA_P384:e,[1144]:r,[1400]:i,...n}=Nt;return n})();Ue.CommittingAlgorithmSuiteIdentifier=(()=>{let{ALG_AES128_GCM_IV12_TAG16:t,ALG_AES192_GCM_IV12_TAG16:e,ALG_AES256_GCM_IV12_TAG16:r,ALG_AES128_GCM_IV12_TAG16_HKDF_SHA256:i,ALG_AES192_GCM_IV12_TAG16_HKDF_SHA256:n,ALG_AES256_GCM_IV12_TAG16_HKDF_SHA256:a,ALG_AES128_GCM_IV12_TAG16_HKDF_SHA256_ECDSA_P256:o,ALG_AES192_GCM_IV12_TAG16_HKDF_SHA384_ECDSA_P384:u,ALG_AES256_GCM_IV12_TAG16_HKDF_SHA384_ECDSA_P384:p,[20]:_,[70]:b,[120]:A,[276]:S,[326]:C,[376]:N,[532]:L,[838]:B,[888]:R,...K}=Nt;return K})();Ue.CommitmentPolicySuites=Object.freeze({isEncryptEnabled(t,e){if(!e)return;let r=e.id||e,i=e.name||Nt[r];(0,Ta.needs)(this[t].encryptEnabledSuites[r],`Configuration conflict. Cannot encrypt due to CommitmentPolicy ${t} requiring only non-committed messages. Algorithm ID was ${i}. See: https://docs.aws.amazon.com/encryption-sdk/latest/developer-guide/troubleshooting-migration.html`)},isDecryptEnabled(t,e,r){let i=e.id||e,n=e.name||Nt[i];(0,Ta.needs)(this[t].decryptEnabledSuites[i],`Configuration conflict. Cannot process message with ID ${r} due to CommitmentPolicy ${t} requiring only committed messages. Algorithm ID was ${n}. See: https://docs.aws.amazon.com/encryption-sdk/latest/developer-guide/troubleshooting-migration.html`)},[zs.FORBID_ENCRYPT_ALLOW_DECRYPT]:Object.freeze({encryptEnabledSuites:Ue.NonCommittingAlgorithmSuiteIdentifier,decryptEnabledSuites:Nt,defaultAlgorithmSuite:Ue.NonCommittingAlgorithmSuiteIdentifier.ALG_AES256_GCM_IV12_TAG16_HKDF_SHA384_ECDSA_P384}),[zs.REQUIRE_ENCRYPT_ALLOW_DECRYPT]:Object.freeze({encryptEnabledSuites:Ue.CommittingAlgorithmSuiteIdentifier,decryptEnabledSuites:Nt,defaultAlgorithmSuite:Ue.CommittingAlgorithmSuiteIdentifier.ALG_AES256_GCM_IV12_TAG16_HKDF_SHA512_COMMIT_KEY_ECDSA_P384}),[zs.REQUIRE_ENCRYPT_REQUIRE_DECRYPT]:Object.freeze({encryptEnabledSuites:Ue.CommittingAlgorithmSuiteIdentifier,decryptEnabledSuites:Ue.CommittingAlgorithmSuiteIdentifier,defaultAlgorithmSuite:Ue.CommittingAlgorithmSuiteIdentifier.ALG_AES256_GCM_IV12_TAG16_HKDF_SHA512_COMMIT_KEY_ECDSA_P384})});var IL;(function(t){t[t.V1=1]="V1",t[t.V2=2]="V2"})(IL=Ue.MessageFormat||(Ue.MessageFormat={}));Object.freeze(IL);var Ph=class t{constructor(e){(0,Ta.needs)(this.constructor!==t,"new AlgorithmSuite is not allowed"),(0,Ta.needs)(e,"Algorithm specification not set."),(0,Ta.needs)(Nt[e.id],"No suite by that identifier exists."),Object.assign(this,e),(0,h0.readOnlyProperty)(this,"keyLengthBytes",this.keyLength/8),(0,h0.readOnlyProperty)(this,"name",Nt[this.id])}};Ue.AlgorithmSuite=Ph;(0,h0.immutableClass)(Ph)});var m0=l(Nh=>{"use strict";Object.defineProperty(Nh,"__esModule",{value:!0});Nh.WebCryptoAlgorithmSuite=void 0;var oe=Th(),fEe=Ir(),OL={id:oe.AlgorithmSuiteIdentifier.ALG_AES128_GCM_IV12_TAG16,messageFormat:oe.MessageFormat.V1,encryption:"AES-GCM",keyLength:128,ivLength:12,tagLength:128,cacheSafe:!1,commitment:"NONE"},pEe={id:oe.AlgorithmSuiteIdentifier.ALG_AES192_GCM_IV12_TAG16,messageFormat:oe.MessageFormat.V1,encryption:"AES-GCM",keyLength:192,ivLength:12,tagLength:128,cacheSafe:!1,commitment:"NONE"},PL={id:oe.AlgorithmSuiteIdentifier.ALG_AES256_GCM_IV12_TAG16,messageFormat:oe.MessageFormat.V1,encryption:"AES-GCM",keyLength:256,ivLength:12,tagLength:128,cacheSafe:!1,commitment:"NONE"},TL={id:oe.AlgorithmSuiteIdentifier.ALG_AES128_GCM_IV12_TAG16_HKDF_SHA256,messageFormat:oe.MessageFormat.V1,encryption:"AES-GCM",keyLength:128,ivLength:12,tagLength:128,kdf:"HKDF",kdfHash:"SHA-256",cacheSafe:!0,commitment:"NONE"},dEe={id:oe.AlgorithmSuiteIdentifier.ALG_AES192_GCM_IV12_TAG16_HKDF_SHA256,messageFormat:oe.MessageFormat.V1,encryption:"AES-GCM",keyLength:192,ivLength:12,tagLength:128,kdf:"HKDF",kdfHash:"SHA-256",cacheSafe:!0,commitment:"NONE"},NL={id:oe.AlgorithmSuiteIdentifier.ALG_AES256_GCM_IV12_TAG16_HKDF_SHA256,messageFormat:oe.MessageFormat.V1,encryption:"AES-GCM",keyLength:256,ivLength:12,tagLength:128,kdf:"HKDF",kdfHash:"SHA-256",cacheSafe:!0,commitment:"NONE"},CL={id:oe.AlgorithmSuiteIdentifier.ALG_AES128_GCM_IV12_TAG16_HKDF_SHA256_ECDSA_P256,messageFormat:oe.MessageFormat.V1,encryption:"AES-GCM",keyLength:128,ivLength:12,tagLength:128,kdf:"HKDF",kdfHash:"SHA-256",cacheSafe:!0,signatureCurve:"P-256",signatureHash:"SHA-256",commitment:"NONE"},hEe={id:oe.AlgorithmSuiteIdentifier.ALG_AES192_GCM_IV12_TAG16_HKDF_SHA384_ECDSA_P384,messageFormat:oe.MessageFormat.V1,encryption:"AES-GCM",keyLength:192,ivLength:12,tagLength:128,kdf:"HKDF",kdfHash:"SHA-384",cacheSafe:!0,signatureCurve:"P-384",signatureHash:"SHA-384",commitment:"NONE"},DL={id:oe.AlgorithmSuiteIdentifier.ALG_AES256_GCM_IV12_TAG16_HKDF_SHA384_ECDSA_P384,messageFormat:oe.MessageFormat.V1,encryption:"AES-GCM",keyLength:256,ivLength:12,tagLength:128,kdf:"HKDF",kdfHash:"SHA-384",cacheSafe:!0,signatureCurve:"P-384",signatureHash:"SHA-384",commitment:"NONE"},RL={id:oe.AlgorithmSuiteIdentifier.ALG_AES256_GCM_IV12_TAG16_HKDF_SHA512_COMMIT_KEY,messageFormat:oe.MessageFormat.V2,encryption:"AES-GCM",keyLength:256,ivLength:12,tagLength:128,kdf:"HKDF",kdfHash:"SHA-512",cacheSafe:!0,commitment:"KEY",commitmentHash:"SHA-512",suiteDataLength:32,commitmentLength:256,saltLengthBytes:32},kL={id:oe.AlgorithmSuiteIdentifier.ALG_AES256_GCM_IV12_TAG16_HKDF_SHA512_COMMIT_KEY_ECDSA_P384,messageFormat:oe.MessageFormat.V2,encryption:"AES-GCM",keyLength:256,ivLength:12,tagLength:128,kdf:"HKDF",kdfHash:"SHA-512",cacheSafe:!0,signatureCurve:"P-384",signatureHash:"SHA-384",commitment:"KEY",commitmentHash:"SHA-512",suiteDataLength:32,commitmentLength:256,saltLengthBytes:32},mEe=Object.freeze({[oe.AlgorithmSuiteIdentifier.ALG_AES128_GCM_IV12_TAG16]:Object.freeze(OL),[oe.AlgorithmSuiteIdentifier.ALG_AES192_GCM_IV12_TAG16]:Object.freeze(pEe),[oe.AlgorithmSuiteIdentifier.ALG_AES256_GCM_IV12_TAG16]:Object.freeze(PL),[oe.AlgorithmSuiteIdentifier.ALG_AES128_GCM_IV12_TAG16_HKDF_SHA256]:Object.freeze(TL),[oe.AlgorithmSuiteIdentifier.ALG_AES192_GCM_IV12_TAG16_HKDF_SHA256]:Object.freeze(dEe),[oe.AlgorithmSuiteIdentifier.ALG_AES256_GCM_IV12_TAG16_HKDF_SHA256]:Object.freeze(NL),[oe.AlgorithmSuiteIdentifier.ALG_AES128_GCM_IV12_TAG16_HKDF_SHA256_ECDSA_P256]:Object.freeze(CL),[oe.AlgorithmSuiteIdentifier.ALG_AES192_GCM_IV12_TAG16_HKDF_SHA384_ECDSA_P384]:Object.freeze(hEe),[oe.AlgorithmSuiteIdentifier.ALG_AES256_GCM_IV12_TAG16_HKDF_SHA384_ECDSA_P384]:Object.freeze(DL),[oe.AlgorithmSuiteIdentifier.ALG_AES256_GCM_IV12_TAG16_HKDF_SHA512_COMMIT_KEY]:Object.freeze(RL),[oe.AlgorithmSuiteIdentifier.ALG_AES256_GCM_IV12_TAG16_HKDF_SHA512_COMMIT_KEY_ECDSA_P384]:Object.freeze(kL)}),vEe=Object.freeze({[oe.AlgorithmSuiteIdentifier.ALG_AES128_GCM_IV12_TAG16]:Object.freeze(OL),[oe.AlgorithmSuiteIdentifier.ALG_AES256_GCM_IV12_TAG16]:Object.freeze(PL),[oe.AlgorithmSuiteIdentifier.ALG_AES128_GCM_IV12_TAG16_HKDF_SHA256]:Object.freeze(TL),[oe.AlgorithmSuiteIdentifier.ALG_AES256_GCM_IV12_TAG16_HKDF_SHA256]:Object.freeze(NL),[oe.AlgorithmSuiteIdentifier.ALG_AES128_GCM_IV12_TAG16_HKDF_SHA256_ECDSA_P256]:Object.freeze(CL),[oe.AlgorithmSuiteIdentifier.ALG_AES256_GCM_IV12_TAG16_HKDF_SHA384_ECDSA_P384]:Object.freeze(DL),[oe.AlgorithmSuiteIdentifier.ALG_AES256_GCM_IV12_TAG16_HKDF_SHA512_COMMIT_KEY]:Object.freeze(RL),[oe.AlgorithmSuiteIdentifier.ALG_AES256_GCM_IV12_TAG16_HKDF_SHA512_COMMIT_KEY_ECDSA_P384]:Object.freeze(kL)}),Vs=class t extends oe.AlgorithmSuite{type="webCrypto";constructor(e){super(mEe[e]),(0,fEe.needs)(Object.prototype.hasOwnProperty.call(vEe,e),"192-bit AES keys are not supported"),Object.setPrototypeOf(this,t.prototype),Object.freeze(this)}};Nh.WebCryptoAlgorithmSuite=Vs;Object.freeze(Vs.prototype);Object.freeze(Vs)});var Dh=l(Ch=>{"use strict";Object.defineProperty(Ch,"__esModule",{value:!0});Ch.NodeAlgorithmSuite=void 0;var Ge=Th(),yEe={id:Ge.AlgorithmSuiteIdentifier.ALG_AES128_GCM_IV12_TAG16,messageFormat:Ge.MessageFormat.V1,encryption:"aes-128-gcm",keyLength:128,ivLength:12,tagLength:128,cacheSafe:!1,commitment:"NONE"},_Ee={id:Ge.AlgorithmSuiteIdentifier.ALG_AES192_GCM_IV12_TAG16,messageFormat:Ge.MessageFormat.V1,encryption:"aes-192-gcm",keyLength:192,ivLength:12,tagLength:128,cacheSafe:!1,commitment:"NONE"},gEe={id:Ge.AlgorithmSuiteIdentifier.ALG_AES256_GCM_IV12_TAG16,messageFormat:Ge.MessageFormat.V1,encryption:"aes-256-gcm",keyLength:256,ivLength:12,tagLength:128,cacheSafe:!1,commitment:"NONE"},xEe={id:Ge.AlgorithmSuiteIdentifier.ALG_AES128_GCM_IV12_TAG16_HKDF_SHA256,messageFormat:Ge.MessageFormat.V1,encryption:"aes-128-gcm",keyLength:128,ivLength:12,tagLength:128,kdf:"HKDF",kdfHash:"sha256",cacheSafe:!0,commitment:"NONE"},wEe={id:Ge.AlgorithmSuiteIdentifier.ALG_AES192_GCM_IV12_TAG16_HKDF_SHA256,messageFormat:Ge.MessageFormat.V1,encryption:"aes-192-gcm",keyLength:192,ivLength:12,tagLength:128,kdf:"HKDF",kdfHash:"sha256",cacheSafe:!0,commitment:"NONE"},qEe={id:Ge.AlgorithmSuiteIdentifier.ALG_AES256_GCM_IV12_TAG16_HKDF_SHA256,messageFormat:Ge.MessageFormat.V1,encryption:"aes-256-gcm",keyLength:256,ivLength:12,tagLength:128,kdf:"HKDF",kdfHash:"sha256",cacheSafe:!0,commitment:"NONE"},bEe={id:Ge.AlgorithmSuiteIdentifier.ALG_AES128_GCM_IV12_TAG16_HKDF_SHA256_ECDSA_P256,messageFormat:Ge.MessageFormat.V1,encryption:"aes-128-gcm",keyLength:128,ivLength:12,tagLength:128,kdf:"HKDF",kdfHash:"sha256",cacheSafe:!0,signatureCurve:"prime256v1",signatureHash:"sha256",commitment:"NONE"},EEe={id:Ge.AlgorithmSuiteIdentifier.ALG_AES192_GCM_IV12_TAG16_HKDF_SHA384_ECDSA_P384,messageFormat:Ge.MessageFormat.V1,encryption:"aes-192-gcm",keyLength:192,ivLength:12,tagLength:128,kdf:"HKDF",kdfHash:"sha384",cacheSafe:!0,signatureCurve:"secp384r1",signatureHash:"sha384",commitment:"NONE"},AEe={id:Ge.AlgorithmSuiteIdentifier.ALG_AES256_GCM_IV12_TAG16_HKDF_SHA384_ECDSA_P384,messageFormat:Ge.MessageFormat.V1,encryption:"aes-256-gcm",keyLength:256,ivLength:12,tagLength:128,kdf:"HKDF",kdfHash:"sha384",cacheSafe:!0,signatureCurve:"secp384r1",signatureHash:"sha384",commitment:"NONE"},MEe={id:Ge.AlgorithmSuiteIdentifier.ALG_AES256_GCM_IV12_TAG16_HKDF_SHA512_COMMIT_KEY,messageFormat:Ge.MessageFormat.V2,encryption:"aes-256-gcm",keyLength:256,ivLength:12,tagLength:128,kdf:"HKDF",kdfHash:"sha512",cacheSafe:!0,commitment:"KEY",commitmentHash:"sha512",suiteDataLength:32,commitmentLength:256,saltLengthBytes:32},SEe={id:Ge.AlgorithmSuiteIdentifier.ALG_AES256_GCM_IV12_TAG16_HKDF_SHA512_COMMIT_KEY_ECDSA_P384,messageFormat:Ge.MessageFormat.V2,encryption:"aes-256-gcm",keyLength:256,ivLength:12,tagLength:128,kdf:"HKDF",kdfHash:"sha512",cacheSafe:!0,signatureCurve:"secp384r1",signatureHash:"sha384",commitment:"KEY",commitmentHash:"sha512",suiteDataLength:32,commitmentLength:256,saltLengthBytes:32},IEe=Object.freeze({[Ge.AlgorithmSuiteIdentifier.ALG_AES128_GCM_IV12_TAG16]:Object.freeze(yEe),[Ge.AlgorithmSuiteIdentifier.ALG_AES192_GCM_IV12_TAG16]:Object.freeze(_Ee),[Ge.AlgorithmSuiteIdentifier.ALG_AES256_GCM_IV12_TAG16]:Object.freeze(gEe),[Ge.AlgorithmSuiteIdentifier.ALG_AES128_GCM_IV12_TAG16_HKDF_SHA256]:Object.freeze(xEe),[Ge.AlgorithmSuiteIdentifier.ALG_AES192_GCM_IV12_TAG16_HKDF_SHA256]:Object.freeze(wEe),[Ge.AlgorithmSuiteIdentifier.ALG_AES256_GCM_IV12_TAG16_HKDF_SHA256]:Object.freeze(qEe),[Ge.AlgorithmSuiteIdentifier.ALG_AES128_GCM_IV12_TAG16_HKDF_SHA256_ECDSA_P256]:Object.freeze(bEe),[Ge.AlgorithmSuiteIdentifier.ALG_AES192_GCM_IV12_TAG16_HKDF_SHA384_ECDSA_P384]:Object.freeze(EEe),[Ge.AlgorithmSuiteIdentifier.ALG_AES256_GCM_IV12_TAG16_HKDF_SHA384_ECDSA_P384]:Object.freeze(AEe),[Ge.AlgorithmSuiteIdentifier.ALG_AES256_GCM_IV12_TAG16_HKDF_SHA512_COMMIT_KEY]:Object.freeze(MEe),[Ge.AlgorithmSuiteIdentifier.ALG_AES256_GCM_IV12_TAG16_HKDF_SHA512_COMMIT_KEY_ECDSA_P384]:Object.freeze(SEe)}),Ys=class t extends Ge.AlgorithmSuite{type="node";constructor(e){super(IEe[e]),Object.setPrototypeOf(this,t.prototype),Object.freeze(this)}};Ch.NodeAlgorithmSuite=Ys;Object.freeze(Ys.prototype);Object.freeze(Ys)});var Lh=l(kh=>{"use strict";Object.defineProperty(kh,"__esModule",{value:!0});kh.EncryptedDataKey=void 0;var Na=Fi(),OEe=Ir(),Rh=class t{constructor(e){let{providerInfo:r,providerId:i,encryptedDataKey:n,rawInfo:a}=e;(0,OEe.needs)(typeof r=="string"&&r&&typeof i=="string"&&i&&n instanceof Uint8Array&&n.byteLength,"Malformed encrypted data key"),(0,Na.readOnlyProperty)(this,"providerInfo",r),(0,Na.readOnlyProperty)(this,"providerId",i),(0,Na.readOnlyBinaryProperty)(this,"encryptedDataKey",n),a instanceof Uint8Array?(0,Na.readOnlyBinaryProperty)(this,"rawInfo",a):(0,Na.readOnlyProperty)(this,"rawInfo",void 0),Object.setPrototypeOf(this,t.prototype),Object.freeze(this)}};kh.EncryptedDataKey=Rh;(0,Na.frozenClass)(Rh)});var Xs=l((LL,v0)=>{(function(t,e){"use strict";function r(m,s){if(!m)throw new Error(s||"Assertion failed")}function i(m,s){m.super_=s;var f=function(){};f.prototype=s.prototype,m.prototype=new f,m.prototype.constructor=m}function n(m,s,f){if(n.isBN(m))return m;this.negative=0,this.words=null,this.length=0,this.red=null,m!==null&&((s==="le"||s==="be")&&(f=s,s=10),this._init(m||0,s||10,f||"be"))}typeof t=="object"?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=require("buffer").Buffer}catch{}n.isBN=function(s){return s instanceof n?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===n.wordSize&&Array.isArray(s.words)},n.max=function(s,f){return s.cmp(f)>0?s:f},n.min=function(s,f){return s.cmp(f)<0?s:f},n.prototype._init=function(s,f,v){if(typeof s=="number")return this._initNumber(s,f,v);if(typeof s=="object")return this._initArray(s,f,v);f==="hex"&&(f=16),r(f===(f|0)&&f>=2&&f<=36),s=s.toString().replace(/\s+/g,"");var g=0;s[0]==="-"&&(g++,this.negative=1),g<s.length&&(f===16?this._parseHex(s,g,v):(this._parseBase(s,f,g),v==="le"&&this._initArray(this.toArray(),f,v)))},n.prototype._initNumber=function(s,f,v){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(r(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),v==="le"&&this._initArray(this.toArray(),f,v)},n.prototype._initArray=function(s,f,v){if(r(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var y,c,q=0;if(v==="be")for(g=s.length-1,y=0;g>=0;g-=3)c=s[g]|s[g-1]<<8|s[g-2]<<16,this.words[y]|=c<<q&67108863,this.words[y+1]=c>>>26-q&67108863,q+=24,q>=26&&(q-=26,y++);else if(v==="le")for(g=0,y=0;g<s.length;g+=3)c=s[g]|s[g+1]<<8|s[g+2]<<16,this.words[y]|=c<<q&67108863,this.words[y+1]=c>>>26-q&67108863,q+=24,q>=26&&(q-=26,y++);return this._strip()};function o(m,s){var f=m.charCodeAt(s);if(f>=48&&f<=57)return f-48;if(f>=65&&f<=70)return f-55;if(f>=97&&f<=102)return f-87;r(!1,"Invalid character in "+m)}function u(m,s,f){var v=o(m,f);return f-1>=s&&(v|=o(m,f-1)<<4),v}n.prototype._parseHex=function(s,f,v){this.length=Math.ceil((s.length-f)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var y=0,c=0,q;if(v==="be")for(g=s.length-1;g>=f;g-=2)q=u(s,f,g)<<y,this.words[c]|=q&67108863,y>=18?(y-=18,c+=1,this.words[c]|=q>>>26):y+=8;else{var E=s.length-f;for(g=E%2===0?f+1:f;g<s.length;g+=2)q=u(s,f,g)<<y,this.words[c]|=q&67108863,y>=18?(y-=18,c+=1,this.words[c]|=q>>>26):y+=8}this._strip()};function p(m,s,f,v){for(var g=0,y=0,c=Math.min(m.length,f),q=s;q<c;q++){var E=m.charCodeAt(q)-48;g*=v,E>=49?y=E-49+10:E>=17?y=E-17+10:y=E,r(E>=0&&y<v,"Invalid character"),g+=y}return g}n.prototype._parseBase=function(s,f,v){this.words=[0],this.length=1;for(var g=0,y=1;y<=67108863;y*=f)g++;g--,y=y/f|0;for(var c=s.length-v,q=c%g,E=Math.min(c,c-q)+v,h=0,M=v;M<E;M+=g)h=p(s,M,M+g,f),this.imuln(y),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(q!==0){var F=1;for(h=p(s,M,s.length,f),M=0;M<q;M++)F*=f;this.imuln(F),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this._strip()},n.prototype.copy=function(s){s.words=new Array(this.length);for(var f=0;f<this.length;f++)s.words[f]=this.words[f];s.length=this.length,s.negative=this.negative,s.red=this.red};function _(m,s){m.words=s.words,m.length=s.length,m.negative=s.negative,m.red=s.red}if(n.prototype._move=function(s){_(s,this)},n.prototype.clone=function(){var s=new n(null);return this.copy(s),s},n.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},n.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{n.prototype[Symbol.for("nodejs.util.inspect.custom")]=b}catch{n.prototype.inspect=b}else n.prototype.inspect=b;function b(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var A=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],S=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],C=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(s,f){s=s||10,f=f|0||1;var v;if(s===16||s==="hex"){v="";for(var g=0,y=0,c=0;c<this.length;c++){var q=this.words[c],E=((q<<g|y)&16777215).toString(16);y=q>>>24-g&16777215,g+=2,g>=26&&(g-=26,c--),y!==0||c!==this.length-1?v=A[6-E.length]+E+v:v=E+v}for(y!==0&&(v=y.toString(16)+v);v.length%f!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}if(s===(s|0)&&s>=2&&s<=36){var h=S[s],M=C[s];v="";var F=this.clone();for(F.negative=0;!F.isZero();){var H=F.modrn(M).toString(s);F=F.idivn(M),F.isZero()?v=H+v:v=A[h-H.length]+H+v}for(this.isZero()&&(v="0"+v);v.length%f!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},n.prototype.toJSON=function(){return this.toString(16,2)},a&&(n.prototype.toBuffer=function(s,f){return this.toArrayLike(a,s,f)}),n.prototype.toArray=function(s,f){return this.toArrayLike(Array,s,f)};var N=function(s,f){return s.allocUnsafe?s.allocUnsafe(f):new s(f)};n.prototype.toArrayLike=function(s,f,v){this._strip();var g=this.byteLength(),y=v||Math.max(1,g);r(g<=y,"byte array longer than desired length"),r(y>0,"Requested array length <= 0");var c=N(s,y),q=f==="le"?"LE":"BE";return this["_toArrayLike"+q](c,g),c},n.prototype._toArrayLikeLE=function(s,f){for(var v=0,g=0,y=0,c=0;y<this.length;y++){var q=this.words[y]<<c|g;s[v++]=q&255,v<s.length&&(s[v++]=q>>8&255),v<s.length&&(s[v++]=q>>16&255),c===6?(v<s.length&&(s[v++]=q>>24&255),g=0,c=0):(g=q>>>24,c+=2)}if(v<s.length)for(s[v++]=g;v<s.length;)s[v++]=0},n.prototype._toArrayLikeBE=function(s,f){for(var v=s.length-1,g=0,y=0,c=0;y<this.length;y++){var q=this.words[y]<<c|g;s[v--]=q&255,v>=0&&(s[v--]=q>>8&255),v>=0&&(s[v--]=q>>16&255),c===6?(v>=0&&(s[v--]=q>>24&255),g=0,c=0):(g=q>>>24,c+=2)}if(v>=0)for(s[v--]=g;v>=0;)s[v--]=0},Math.clz32?n.prototype._countBits=function(s){return 32-Math.clz32(s)}:n.prototype._countBits=function(s){var f=s,v=0;return f>=4096&&(v+=13,f>>>=13),f>=64&&(v+=7,f>>>=7),f>=8&&(v+=4,f>>>=4),f>=2&&(v+=2,f>>>=2),v+f},n.prototype._zeroBits=function(s){if(s===0)return 26;var f=s,v=0;return f&8191||(v+=13,f>>>=13),f&127||(v+=7,f>>>=7),f&15||(v+=4,f>>>=4),f&3||(v+=2,f>>>=2),f&1||v++,v},n.prototype.bitLength=function(){var s=this.words[this.length-1],f=this._countBits(s);return(this.length-1)*26+f};function L(m){for(var s=new Array(m.bitLength()),f=0;f<s.length;f++){var v=f/26|0,g=f%26;s[f]=m.words[v]>>>g&1}return s}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,f=0;f<this.length;f++){var v=this._zeroBits(this.words[f]);if(s+=v,v!==26)break}return s},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},n.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var f=0;f<s.length;f++)this.words[f]=this.words[f]|s.words[f];return this._strip()},n.prototype.ior=function(s){return r((this.negative|s.negative)===0),this.iuor(s)},n.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},n.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},n.prototype.iuand=function(s){var f;this.length>s.length?f=s:f=this;for(var v=0;v<f.length;v++)this.words[v]=this.words[v]&s.words[v];return this.length=f.length,this._strip()},n.prototype.iand=function(s){return r((this.negative|s.negative)===0),this.iuand(s)},n.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},n.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},n.prototype.iuxor=function(s){var f,v;this.length>s.length?(f=this,v=s):(f=s,v=this);for(var g=0;g<v.length;g++)this.words[g]=f.words[g]^v.words[g];if(this!==f)for(;g<f.length;g++)this.words[g]=f.words[g];return this.length=f.length,this._strip()},n.prototype.ixor=function(s){return r((this.negative|s.negative)===0),this.iuxor(s)},n.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},n.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},n.prototype.inotn=function(s){r(typeof s=="number"&&s>=0);var f=Math.ceil(s/26)|0,v=s%26;this._expand(f),v>0&&f--;for(var g=0;g<f;g++)this.words[g]=~this.words[g]&67108863;return v>0&&(this.words[g]=~this.words[g]&67108863>>26-v),this._strip()},n.prototype.notn=function(s){return this.clone().inotn(s)},n.prototype.setn=function(s,f){r(typeof s=="number"&&s>=0);var v=s/26|0,g=s%26;return this._expand(v+1),f?this.words[v]=this.words[v]|1<<g:this.words[v]=this.words[v]&~(1<<g),this._strip()},n.prototype.iadd=function(s){var f;if(this.negative!==0&&s.negative===0)return this.negative=0,f=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,f=this.isub(s),s.negative=1,f._normSign();var v,g;this.length>s.length?(v=this,g=s):(v=s,g=this);for(var y=0,c=0;c<g.length;c++)f=(v.words[c]|0)+(g.words[c]|0)+y,this.words[c]=f&67108863,y=f>>>26;for(;y!==0&&c<v.length;c++)f=(v.words[c]|0)+y,this.words[c]=f&67108863,y=f>>>26;if(this.length=v.length,y!==0)this.words[this.length]=y,this.length++;else if(v!==this)for(;c<v.length;c++)this.words[c]=v.words[c];return this},n.prototype.add=function(s){var f;return s.negative!==0&&this.negative===0?(s.negative=0,f=this.sub(s),s.negative^=1,f):s.negative===0&&this.negative!==0?(this.negative=0,f=s.sub(this),this.negative=1,f):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},n.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var f=this.iadd(s);return s.negative=1,f._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var v=this.cmp(s);if(v===0)return this.negative=0,this.length=1,this.words[0]=0,this;var g,y;v>0?(g=this,y=s):(g=s,y=this);for(var c=0,q=0;q<y.length;q++)f=(g.words[q]|0)-(y.words[q]|0)+c,c=f>>26,this.words[q]=f&67108863;for(;c!==0&&q<g.length;q++)f=(g.words[q]|0)+c,c=f>>26,this.words[q]=f&67108863;if(c===0&&q<g.length&&g!==this)for(;q<g.length;q++)this.words[q]=g.words[q];return this.length=Math.max(this.length,q),g!==this&&(this.negative=1),this._strip()},n.prototype.sub=function(s){return this.clone().isub(s)};function B(m,s,f){f.negative=s.negative^m.negative;var v=m.length+s.length|0;f.length=v,v=v-1|0;var g=m.words[0]|0,y=s.words[0]|0,c=g*y,q=c&67108863,E=c/67108864|0;f.words[0]=q;for(var h=1;h<v;h++){for(var M=E>>>26,F=E&67108863,H=Math.min(h,s.length-1),G=Math.max(0,h-m.length+1);G<=H;G++){var te=h-G|0;g=m.words[te]|0,y=s.words[G]|0,c=g*y+F,M+=c/67108864|0,F=c&67108863}f.words[h]=F|0,E=M|0}return E!==0?f.words[h]=E|0:f.length--,f._strip()}var R=function(s,f,v){var g=s.words,y=f.words,c=v.words,q=0,E,h,M,F=g[0]|0,H=F&8191,G=F>>>13,te=g[1]|0,X=te&8191,J=te>>>13,qr=g[2]|0,ie=qr&8191,ne=qr>>>13,Io=g[3]|0,se=Io&8191,ue=Io>>>13,Oo=g[4]|0,le=Oo&8191,ce=Oo>>>13,Po=g[5]|0,fe=Po&8191,pe=Po>>>13,To=g[6]|0,de=To&8191,he=To>>>13,No=g[7]|0,me=No&8191,ve=No>>>13,Co=g[8]|0,ye=Co&8191,_e=Co>>>13,Do=g[9]|0,ge=Do&8191,xe=Do>>>13,Ro=y[0]|0,we=Ro&8191,qe=Ro>>>13,ko=y[1]|0,be=ko&8191,Ee=ko>>>13,Lo=y[2]|0,Ae=Lo&8191,Me=Lo>>>13,Ko=y[3]|0,Se=Ko&8191,Ie=Ko>>>13,Fo=y[4]|0,Oe=Fo&8191,Pe=Fo>>>13,Bo=y[5]|0,Te=Bo&8191,Ne=Bo>>>13,Ho=y[6]|0,Ce=Ho&8191,De=Ho>>>13,Uo=y[7]|0,Re=Uo&8191,ke=Uo>>>13,Go=y[8]|0,Le=Go&8191,Ke=Go>>>13,Yn=y[9]|0,it=Yn&8191,nt=Yn>>>13;v.negative=s.negative^f.negative,v.length=19,E=Math.imul(H,we),h=Math.imul(H,qe),h=h+Math.imul(G,we)|0,M=Math.imul(G,qe);var rn=(q+E|0)+((h&8191)<<13)|0;q=(M+(h>>>13)|0)+(rn>>>26)|0,rn&=67108863,E=Math.imul(X,we),h=Math.imul(X,qe),h=h+Math.imul(J,we)|0,M=Math.imul(J,qe),E=E+Math.imul(H,be)|0,h=h+Math.imul(H,Ee)|0,h=h+Math.imul(G,be)|0,M=M+Math.imul(G,Ee)|0;var nn=(q+E|0)+((h&8191)<<13)|0;q=(M+(h>>>13)|0)+(nn>>>26)|0,nn&=67108863,E=Math.imul(ie,we),h=Math.imul(ie,qe),h=h+Math.imul(ne,we)|0,M=Math.imul(ne,qe),E=E+Math.imul(X,be)|0,h=h+Math.imul(X,Ee)|0,h=h+Math.imul(J,be)|0,M=M+Math.imul(J,Ee)|0,E=E+Math.imul(H,Ae)|0,h=h+Math.imul(H,Me)|0,h=h+Math.imul(G,Ae)|0,M=M+Math.imul(G,Me)|0;var an=(q+E|0)+((h&8191)<<13)|0;q=(M+(h>>>13)|0)+(an>>>26)|0,an&=67108863,E=Math.imul(se,we),h=Math.imul(se,qe),h=h+Math.imul(ue,we)|0,M=Math.imul(ue,qe),E=E+Math.imul(ie,be)|0,h=h+Math.imul(ie,Ee)|0,h=h+Math.imul(ne,be)|0,M=M+Math.imul(ne,Ee)|0,E=E+Math.imul(X,Ae)|0,h=h+Math.imul(X,Me)|0,h=h+Math.imul(J,Ae)|0,M=M+Math.imul(J,Me)|0,E=E+Math.imul(H,Se)|0,h=h+Math.imul(H,Ie)|0,h=h+Math.imul(G,Se)|0,M=M+Math.imul(G,Ie)|0;var on=(q+E|0)+((h&8191)<<13)|0;q=(M+(h>>>13)|0)+(on>>>26)|0,on&=67108863,E=Math.imul(le,we),h=Math.imul(le,qe),h=h+Math.imul(ce,we)|0,M=Math.imul(ce,qe),E=E+Math.imul(se,be)|0,h=h+Math.imul(se,Ee)|0,h=h+Math.imul(ue,be)|0,M=M+Math.imul(ue,Ee)|0,E=E+Math.imul(ie,Ae)|0,h=h+Math.imul(ie,Me)|0,h=h+Math.imul(ne,Ae)|0,M=M+Math.imul(ne,Me)|0,E=E+Math.imul(X,Se)|0,h=h+Math.imul(X,Ie)|0,h=h+Math.imul(J,Se)|0,M=M+Math.imul(J,Ie)|0,E=E+Math.imul(H,Oe)|0,h=h+Math.imul(H,Pe)|0,h=h+Math.imul(G,Oe)|0,M=M+Math.imul(G,Pe)|0;var sn=(q+E|0)+((h&8191)<<13)|0;q=(M+(h>>>13)|0)+(sn>>>26)|0,sn&=67108863,E=Math.imul(fe,we),h=Math.imul(fe,qe),h=h+Math.imul(pe,we)|0,M=Math.imul(pe,qe),E=E+Math.imul(le,be)|0,h=h+Math.imul(le,Ee)|0,h=h+Math.imul(ce,be)|0,M=M+Math.imul(ce,Ee)|0,E=E+Math.imul(se,Ae)|0,h=h+Math.imul(se,Me)|0,h=h+Math.imul(ue,Ae)|0,M=M+Math.imul(ue,Me)|0,E=E+Math.imul(ie,Se)|0,h=h+Math.imul(ie,Ie)|0,h=h+Math.imul(ne,Se)|0,M=M+Math.imul(ne,Ie)|0,E=E+Math.imul(X,Oe)|0,h=h+Math.imul(X,Pe)|0,h=h+Math.imul(J,Oe)|0,M=M+Math.imul(J,Pe)|0,E=E+Math.imul(H,Te)|0,h=h+Math.imul(H,Ne)|0,h=h+Math.imul(G,Te)|0,M=M+Math.imul(G,Ne)|0;var un=(q+E|0)+((h&8191)<<13)|0;q=(M+(h>>>13)|0)+(un>>>26)|0,un&=67108863,E=Math.imul(de,we),h=Math.imul(de,qe),h=h+Math.imul(he,we)|0,M=Math.imul(he,qe),E=E+Math.imul(fe,be)|0,h=h+Math.imul(fe,Ee)|0,h=h+Math.imul(pe,be)|0,M=M+Math.imul(pe,Ee)|0,E=E+Math.imul(le,Ae)|0,h=h+Math.imul(le,Me)|0,h=h+Math.imul(ce,Ae)|0,M=M+Math.imul(ce,Me)|0,E=E+Math.imul(se,Se)|0,h=h+Math.imul(se,Ie)|0,h=h+Math.imul(ue,Se)|0,M=M+Math.imul(ue,Ie)|0,E=E+Math.imul(ie,Oe)|0,h=h+Math.imul(ie,Pe)|0,h=h+Math.imul(ne,Oe)|0,M=M+Math.imul(ne,Pe)|0,E=E+Math.imul(X,Te)|0,h=h+Math.imul(X,Ne)|0,h=h+Math.imul(J,Te)|0,M=M+Math.imul(J,Ne)|0,E=E+Math.imul(H,Ce)|0,h=h+Math.imul(H,De)|0,h=h+Math.imul(G,Ce)|0,M=M+Math.imul(G,De)|0;var ln=(q+E|0)+((h&8191)<<13)|0;q=(M+(h>>>13)|0)+(ln>>>26)|0,ln&=67108863,E=Math.imul(me,we),h=Math.imul(me,qe),h=h+Math.imul(ve,we)|0,M=Math.imul(ve,qe),E=E+Math.imul(de,be)|0,h=h+Math.imul(de,Ee)|0,h=h+Math.imul(he,be)|0,M=M+Math.imul(he,Ee)|0,E=E+Math.imul(fe,Ae)|0,h=h+Math.imul(fe,Me)|0,h=h+Math.imul(pe,Ae)|0,M=M+Math.imul(pe,Me)|0,E=E+Math.imul(le,Se)|0,h=h+Math.imul(le,Ie)|0,h=h+Math.imul(ce,Se)|0,M=M+Math.imul(ce,Ie)|0,E=E+Math.imul(se,Oe)|0,h=h+Math.imul(se,Pe)|0,h=h+Math.imul(ue,Oe)|0,M=M+Math.imul(ue,Pe)|0,E=E+Math.imul(ie,Te)|0,h=h+Math.imul(ie,Ne)|0,h=h+Math.imul(ne,Te)|0,M=M+Math.imul(ne,Ne)|0,E=E+Math.imul(X,Ce)|0,h=h+Math.imul(X,De)|0,h=h+Math.imul(J,Ce)|0,M=M+Math.imul(J,De)|0,E=E+Math.imul(H,Re)|0,h=h+Math.imul(H,ke)|0,h=h+Math.imul(G,Re)|0,M=M+Math.imul(G,ke)|0;var cn=(q+E|0)+((h&8191)<<13)|0;q=(M+(h>>>13)|0)+(cn>>>26)|0,cn&=67108863,E=Math.imul(ye,we),h=Math.imul(ye,qe),h=h+Math.imul(_e,we)|0,M=Math.imul(_e,qe),E=E+Math.imul(me,be)|0,h=h+Math.imul(me,Ee)|0,h=h+Math.imul(ve,be)|0,M=M+Math.imul(ve,Ee)|0,E=E+Math.imul(de,Ae)|0,h=h+Math.imul(de,Me)|0,h=h+Math.imul(he,Ae)|0,M=M+Math.imul(he,Me)|0,E=E+Math.imul(fe,Se)|0,h=h+Math.imul(fe,Ie)|0,h=h+Math.imul(pe,Se)|0,M=M+Math.imul(pe,Ie)|0,E=E+Math.imul(le,Oe)|0,h=h+Math.imul(le,Pe)|0,h=h+Math.imul(ce,Oe)|0,M=M+Math.imul(ce,Pe)|0,E=E+Math.imul(se,Te)|0,h=h+Math.imul(se,Ne)|0,h=h+Math.imul(ue,Te)|0,M=M+Math.imul(ue,Ne)|0,E=E+Math.imul(ie,Ce)|0,h=h+Math.imul(ie,De)|0,h=h+Math.imul(ne,Ce)|0,M=M+Math.imul(ne,De)|0,E=E+Math.imul(X,Re)|0,h=h+Math.imul(X,ke)|0,h=h+Math.imul(J,Re)|0,M=M+Math.imul(J,ke)|0,E=E+Math.imul(H,Le)|0,h=h+Math.imul(H,Ke)|0,h=h+Math.imul(G,Le)|0,M=M+Math.imul(G,Ke)|0;var fn=(q+E|0)+((h&8191)<<13)|0;q=(M+(h>>>13)|0)+(fn>>>26)|0,fn&=67108863,E=Math.imul(ge,we),h=Math.imul(ge,qe),h=h+Math.imul(xe,we)|0,M=Math.imul(xe,qe),E=E+Math.imul(ye,be)|0,h=h+Math.imul(ye,Ee)|0,h=h+Math.imul(_e,be)|0,M=M+Math.imul(_e,Ee)|0,E=E+Math.imul(me,Ae)|0,h=h+Math.imul(me,Me)|0,h=h+Math.imul(ve,Ae)|0,M=M+Math.imul(ve,Me)|0,E=E+Math.imul(de,Se)|0,h=h+Math.imul(de,Ie)|0,h=h+Math.imul(he,Se)|0,M=M+Math.imul(he,Ie)|0,E=E+Math.imul(fe,Oe)|0,h=h+Math.imul(fe,Pe)|0,h=h+Math.imul(pe,Oe)|0,M=M+Math.imul(pe,Pe)|0,E=E+Math.imul(le,Te)|0,h=h+Math.imul(le,Ne)|0,h=h+Math.imul(ce,Te)|0,M=M+Math.imul(ce,Ne)|0,E=E+Math.imul(se,Ce)|0,h=h+Math.imul(se,De)|0,h=h+Math.imul(ue,Ce)|0,M=M+Math.imul(ue,De)|0,E=E+Math.imul(ie,Re)|0,h=h+Math.imul(ie,ke)|0,h=h+Math.imul(ne,Re)|0,M=M+Math.imul(ne,ke)|0,E=E+Math.imul(X,Le)|0,h=h+Math.imul(X,Ke)|0,h=h+Math.imul(J,Le)|0,M=M+Math.imul(J,Ke)|0,E=E+Math.imul(H,it)|0,h=h+Math.imul(H,nt)|0,h=h+Math.imul(G,it)|0,M=M+Math.imul(G,nt)|0;var pn=(q+E|0)+((h&8191)<<13)|0;q=(M+(h>>>13)|0)+(pn>>>26)|0,pn&=67108863,E=Math.imul(ge,be),h=Math.imul(ge,Ee),h=h+Math.imul(xe,be)|0,M=Math.imul(xe,Ee),E=E+Math.imul(ye,Ae)|0,h=h+Math.imul(ye,Me)|0,h=h+Math.imul(_e,Ae)|0,M=M+Math.imul(_e,Me)|0,E=E+Math.imul(me,Se)|0,h=h+Math.imul(me,Ie)|0,h=h+Math.imul(ve,Se)|0,M=M+Math.imul(ve,Ie)|0,E=E+Math.imul(de,Oe)|0,h=h+Math.imul(de,Pe)|0,h=h+Math.imul(he,Oe)|0,M=M+Math.imul(he,Pe)|0,E=E+Math.imul(fe,Te)|0,h=h+Math.imul(fe,Ne)|0,h=h+Math.imul(pe,Te)|0,M=M+Math.imul(pe,Ne)|0,E=E+Math.imul(le,Ce)|0,h=h+Math.imul(le,De)|0,h=h+Math.imul(ce,Ce)|0,M=M+Math.imul(ce,De)|0,E=E+Math.imul(se,Re)|0,h=h+Math.imul(se,ke)|0,h=h+Math.imul(ue,Re)|0,M=M+Math.imul(ue,ke)|0,E=E+Math.imul(ie,Le)|0,h=h+Math.imul(ie,Ke)|0,h=h+Math.imul(ne,Le)|0,M=M+Math.imul(ne,Ke)|0,E=E+Math.imul(X,it)|0,h=h+Math.imul(X,nt)|0,h=h+Math.imul(J,it)|0,M=M+Math.imul(J,nt)|0;var dn=(q+E|0)+((h&8191)<<13)|0;q=(M+(h>>>13)|0)+(dn>>>26)|0,dn&=67108863,E=Math.imul(ge,Ae),h=Math.imul(ge,Me),h=h+Math.imul(xe,Ae)|0,M=Math.imul(xe,Me),E=E+Math.imul(ye,Se)|0,h=h+Math.imul(ye,Ie)|0,h=h+Math.imul(_e,Se)|0,M=M+Math.imul(_e,Ie)|0,E=E+Math.imul(me,Oe)|0,h=h+Math.imul(me,Pe)|0,h=h+Math.imul(ve,Oe)|0,M=M+Math.imul(ve,Pe)|0,E=E+Math.imul(de,Te)|0,h=h+Math.imul(de,Ne)|0,h=h+Math.imul(he,Te)|0,M=M+Math.imul(he,Ne)|0,E=E+Math.imul(fe,Ce)|0,h=h+Math.imul(fe,De)|0,h=h+Math.imul(pe,Ce)|0,M=M+Math.imul(pe,De)|0,E=E+Math.imul(le,Re)|0,h=h+Math.imul(le,ke)|0,h=h+Math.imul(ce,Re)|0,M=M+Math.imul(ce,ke)|0,E=E+Math.imul(se,Le)|0,h=h+Math.imul(se,Ke)|0,h=h+Math.imul(ue,Le)|0,M=M+Math.imul(ue,Ke)|0,E=E+Math.imul(ie,it)|0,h=h+Math.imul(ie,nt)|0,h=h+Math.imul(ne,it)|0,M=M+Math.imul(ne,nt)|0;var hn=(q+E|0)+((h&8191)<<13)|0;q=(M+(h>>>13)|0)+(hn>>>26)|0,hn&=67108863,E=Math.imul(ge,Se),h=Math.imul(ge,Ie),h=h+Math.imul(xe,Se)|0,M=Math.imul(xe,Ie),E=E+Math.imul(ye,Oe)|0,h=h+Math.imul(ye,Pe)|0,h=h+Math.imul(_e,Oe)|0,M=M+Math.imul(_e,Pe)|0,E=E+Math.imul(me,Te)|0,h=h+Math.imul(me,Ne)|0,h=h+Math.imul(ve,Te)|0,M=M+Math.imul(ve,Ne)|0,E=E+Math.imul(de,Ce)|0,h=h+Math.imul(de,De)|0,h=h+Math.imul(he,Ce)|0,M=M+Math.imul(he,De)|0,E=E+Math.imul(fe,Re)|0,h=h+Math.imul(fe,ke)|0,h=h+Math.imul(pe,Re)|0,M=M+Math.imul(pe,ke)|0,E=E+Math.imul(le,Le)|0,h=h+Math.imul(le,Ke)|0,h=h+Math.imul(ce,Le)|0,M=M+Math.imul(ce,Ke)|0,E=E+Math.imul(se,it)|0,h=h+Math.imul(se,nt)|0,h=h+Math.imul(ue,it)|0,M=M+Math.imul(ue,nt)|0;var mn=(q+E|0)+((h&8191)<<13)|0;q=(M+(h>>>13)|0)+(mn>>>26)|0,mn&=67108863,E=Math.imul(ge,Oe),h=Math.imul(ge,Pe),h=h+Math.imul(xe,Oe)|0,M=Math.imul(xe,Pe),E=E+Math.imul(ye,Te)|0,h=h+Math.imul(ye,Ne)|0,h=h+Math.imul(_e,Te)|0,M=M+Math.imul(_e,Ne)|0,E=E+Math.imul(me,Ce)|0,h=h+Math.imul(me,De)|0,h=h+Math.imul(ve,Ce)|0,M=M+Math.imul(ve,De)|0,E=E+Math.imul(de,Re)|0,h=h+Math.imul(de,ke)|0,h=h+Math.imul(he,Re)|0,M=M+Math.imul(he,ke)|0,E=E+Math.imul(fe,Le)|0,h=h+Math.imul(fe,Ke)|0,h=h+Math.imul(pe,Le)|0,M=M+Math.imul(pe,Ke)|0,E=E+Math.imul(le,it)|0,h=h+Math.imul(le,nt)|0,h=h+Math.imul(ce,it)|0,M=M+Math.imul(ce,nt)|0;var vn=(q+E|0)+((h&8191)<<13)|0;q=(M+(h>>>13)|0)+(vn>>>26)|0,vn&=67108863,E=Math.imul(ge,Te),h=Math.imul(ge,Ne),h=h+Math.imul(xe,Te)|0,M=Math.imul(xe,Ne),E=E+Math.imul(ye,Ce)|0,h=h+Math.imul(ye,De)|0,h=h+Math.imul(_e,Ce)|0,M=M+Math.imul(_e,De)|0,E=E+Math.imul(me,Re)|0,h=h+Math.imul(me,ke)|0,h=h+Math.imul(ve,Re)|0,M=M+Math.imul(ve,ke)|0,E=E+Math.imul(de,Le)|0,h=h+Math.imul(de,Ke)|0,h=h+Math.imul(he,Le)|0,M=M+Math.imul(he,Ke)|0,E=E+Math.imul(fe,it)|0,h=h+Math.imul(fe,nt)|0,h=h+Math.imul(pe,it)|0,M=M+Math.imul(pe,nt)|0;var yn=(q+E|0)+((h&8191)<<13)|0;q=(M+(h>>>13)|0)+(yn>>>26)|0,yn&=67108863,E=Math.imul(ge,Ce),h=Math.imul(ge,De),h=h+Math.imul(xe,Ce)|0,M=Math.imul(xe,De),E=E+Math.imul(ye,Re)|0,h=h+Math.imul(ye,ke)|0,h=h+Math.imul(_e,Re)|0,M=M+Math.imul(_e,ke)|0,E=E+Math.imul(me,Le)|0,h=h+Math.imul(me,Ke)|0,h=h+Math.imul(ve,Le)|0,M=M+Math.imul(ve,Ke)|0,E=E+Math.imul(de,it)|0,h=h+Math.imul(de,nt)|0,h=h+Math.imul(he,it)|0,M=M+Math.imul(he,nt)|0;var _n=(q+E|0)+((h&8191)<<13)|0;q=(M+(h>>>13)|0)+(_n>>>26)|0,_n&=67108863,E=Math.imul(ge,Re),h=Math.imul(ge,ke),h=h+Math.imul(xe,Re)|0,M=Math.imul(xe,ke),E=E+Math.imul(ye,Le)|0,h=h+Math.imul(ye,Ke)|0,h=h+Math.imul(_e,Le)|0,M=M+Math.imul(_e,Ke)|0,E=E+Math.imul(me,it)|0,h=h+Math.imul(me,nt)|0,h=h+Math.imul(ve,it)|0,M=M+Math.imul(ve,nt)|0;var Tv=(q+E|0)+((h&8191)<<13)|0;q=(M+(h>>>13)|0)+(Tv>>>26)|0,Tv&=67108863,E=Math.imul(ge,Le),h=Math.imul(ge,Ke),h=h+Math.imul(xe,Le)|0,M=Math.imul(xe,Ke),E=E+Math.imul(ye,it)|0,h=h+Math.imul(ye,nt)|0,h=h+Math.imul(_e,it)|0,M=M+Math.imul(_e,nt)|0;var Nv=(q+E|0)+((h&8191)<<13)|0;q=(M+(h>>>13)|0)+(Nv>>>26)|0,Nv&=67108863,E=Math.imul(ge,it),h=Math.imul(ge,nt),h=h+Math.imul(xe,it)|0,M=Math.imul(xe,nt);var Cv=(q+E|0)+((h&8191)<<13)|0;return q=(M+(h>>>13)|0)+(Cv>>>26)|0,Cv&=67108863,c[0]=rn,c[1]=nn,c[2]=an,c[3]=on,c[4]=sn,c[5]=un,c[6]=ln,c[7]=cn,c[8]=fn,c[9]=pn,c[10]=dn,c[11]=hn,c[12]=mn,c[13]=vn,c[14]=yn,c[15]=_n,c[16]=Tv,c[17]=Nv,c[18]=Cv,q!==0&&(c[19]=q,v.length++),v};Math.imul||(R=B);function K(m,s,f){f.negative=s.negative^m.negative,f.length=m.length+s.length;for(var v=0,g=0,y=0;y<f.length-1;y++){var c=g;g=0;for(var q=v&67108863,E=Math.min(y,s.length-1),h=Math.max(0,y-m.length+1);h<=E;h++){var M=y-h,F=m.words[M]|0,H=s.words[h]|0,G=F*H,te=G&67108863;c=c+(G/67108864|0)|0,te=te+q|0,q=te&67108863,c=c+(te>>>26)|0,g+=c>>>26,c&=67108863}f.words[y]=q,v=c,c=g}return v!==0?f.words[y]=v:f.length--,f._strip()}function z(m,s,f){return K(m,s,f)}n.prototype.mulTo=function(s,f){var v,g=this.length+s.length;return this.length===10&&s.length===10?v=R(this,s,f):g<63?v=B(this,s,f):g<1024?v=K(this,s,f):v=z(this,s,f),v};function W(m,s){this.x=m,this.y=s}W.prototype.makeRBT=function(s){for(var f=new Array(s),v=n.prototype._countBits(s)-1,g=0;g<s;g++)f[g]=this.revBin(g,v,s);return f},W.prototype.revBin=function(s,f,v){if(s===0||s===v-1)return s;for(var g=0,y=0;y<f;y++)g|=(s&1)<<f-y-1,s>>=1;return g},W.prototype.permute=function(s,f,v,g,y,c){for(var q=0;q<c;q++)g[q]=f[s[q]],y[q]=v[s[q]]},W.prototype.transform=function(s,f,v,g,y,c){this.permute(c,s,f,v,g,y);for(var q=1;q<y;q<<=1)for(var E=q<<1,h=Math.cos(2*Math.PI/E),M=Math.sin(2*Math.PI/E),F=0;F<y;F+=E)for(var H=h,G=M,te=0;te<q;te++){var X=v[F+te],J=g[F+te],qr=v[F+te+q],ie=g[F+te+q],ne=H*qr-G*ie;ie=H*ie+G*qr,qr=ne,v[F+te]=X+qr,g[F+te]=J+ie,v[F+te+q]=X-qr,g[F+te+q]=J-ie,te!==E&&(ne=h*H-M*G,G=h*G+M*H,H=ne)}},W.prototype.guessLen13b=function(s,f){var v=Math.max(f,s)|1,g=v&1,y=0;for(v=v/2|0;v;v=v>>>1)y++;return 1<<y+1+g},W.prototype.conjugate=function(s,f,v){if(!(v<=1))for(var g=0;g<v/2;g++){var y=s[g];s[g]=s[v-g-1],s[v-g-1]=y,y=f[g],f[g]=-f[v-g-1],f[v-g-1]=-y}},W.prototype.normalize13b=function(s,f){for(var v=0,g=0;g<f/2;g++){var y=Math.round(s[2*g+1]/f)*8192+Math.round(s[2*g]/f)+v;s[g]=y&67108863,y<67108864?v=0:v=y/67108864|0}return s},W.prototype.convert13b=function(s,f,v,g){for(var y=0,c=0;c<f;c++)y=y+(s[c]|0),v[2*c]=y&8191,y=y>>>13,v[2*c+1]=y&8191,y=y>>>13;for(c=2*f;c<g;++c)v[c]=0;r(y===0),r((y&-8192)===0)},W.prototype.stub=function(s){for(var f=new Array(s),v=0;v<s;v++)f[v]=0;return f},W.prototype.mulp=function(s,f,v){var g=2*this.guessLen13b(s.length,f.length),y=this.makeRBT(g),c=this.stub(g),q=new Array(g),E=new Array(g),h=new Array(g),M=new Array(g),F=new Array(g),H=new Array(g),G=v.words;G.length=g,this.convert13b(s.words,s.length,q,g),this.convert13b(f.words,f.length,M,g),this.transform(q,c,E,h,g,y),this.transform(M,c,F,H,g,y);for(var te=0;te<g;te++){var X=E[te]*F[te]-h[te]*H[te];h[te]=E[te]*H[te]+h[te]*F[te],E[te]=X}return this.conjugate(E,h,g),this.transform(E,h,G,c,g,y),this.conjugate(G,c,g),this.normalize13b(G,g),v.negative=s.negative^f.negative,v.length=s.length+f.length,v._strip()},n.prototype.mul=function(s){var f=new n(null);return f.words=new Array(this.length+s.length),this.mulTo(s,f)},n.prototype.mulf=function(s){var f=new n(null);return f.words=new Array(this.length+s.length),z(this,s,f)},n.prototype.imul=function(s){return this.clone().mulTo(s,this)},n.prototype.imuln=function(s){var f=s<0;f&&(s=-s),r(typeof s=="number"),r(s<67108864);for(var v=0,g=0;g<this.length;g++){var y=(this.words[g]|0)*s,c=(y&67108863)+(v&67108863);v>>=26,v+=y/67108864|0,v+=c>>>26,this.words[g]=c&67108863}return v!==0&&(this.words[g]=v,this.length++),f?this.ineg():this},n.prototype.muln=function(s){return this.clone().imuln(s)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(s){var f=L(s);if(f.length===0)return new n(1);for(var v=this,g=0;g<f.length&&f[g]===0;g++,v=v.sqr());if(++g<f.length)for(var y=v.sqr();g<f.length;g++,y=y.sqr())f[g]!==0&&(v=v.mul(y));return v},n.prototype.iushln=function(s){r(typeof s=="number"&&s>=0);var f=s%26,v=(s-f)/26,g=67108863>>>26-f<<26-f,y;if(f!==0){var c=0;for(y=0;y<this.length;y++){var q=this.words[y]&g,E=(this.words[y]|0)-q<<f;this.words[y]=E|c,c=q>>>26-f}c&&(this.words[y]=c,this.length++)}if(v!==0){for(y=this.length-1;y>=0;y--)this.words[y+v]=this.words[y];for(y=0;y<v;y++)this.words[y]=0;this.length+=v}return this._strip()},n.prototype.ishln=function(s){return r(this.negative===0),this.iushln(s)},n.prototype.iushrn=function(s,f,v){r(typeof s=="number"&&s>=0);var g;f?g=(f-f%26)/26:g=0;var y=s%26,c=Math.min((s-y)/26,this.length),q=67108863^67108863>>>y<<y,E=v;if(g-=c,g=Math.max(0,g),E){for(var h=0;h<c;h++)E.words[h]=this.words[h];E.length=c}if(c!==0)if(this.length>c)for(this.length-=c,h=0;h<this.length;h++)this.words[h]=this.words[h+c];else this.words[0]=0,this.length=1;var M=0;for(h=this.length-1;h>=0&&(M!==0||h>=g);h--){var F=this.words[h]|0;this.words[h]=M<<26-y|F>>>y,M=F&q}return E&&M!==0&&(E.words[E.length++]=M),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},n.prototype.ishrn=function(s,f,v){return r(this.negative===0),this.iushrn(s,f,v)},n.prototype.shln=function(s){return this.clone().ishln(s)},n.prototype.ushln=function(s){return this.clone().iushln(s)},n.prototype.shrn=function(s){return this.clone().ishrn(s)},n.prototype.ushrn=function(s){return this.clone().iushrn(s)},n.prototype.testn=function(s){r(typeof s=="number"&&s>=0);var f=s%26,v=(s-f)/26,g=1<<f;if(this.length<=v)return!1;var y=this.words[v];return!!(y&g)},n.prototype.imaskn=function(s){r(typeof s=="number"&&s>=0);var f=s%26,v=(s-f)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=v)return this;if(f!==0&&v++,this.length=Math.min(v,this.length),f!==0){var g=67108863^67108863>>>f<<f;this.words[this.length-1]&=g}return this._strip()},n.prototype.maskn=function(s){return this.clone().imaskn(s)},n.prototype.iaddn=function(s){return r(typeof s=="number"),r(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<=s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},n.prototype._iaddn=function(s){this.words[0]+=s;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},n.prototype.isubn=function(s){if(r(typeof s=="number"),r(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this._strip()},n.prototype.addn=function(s){return this.clone().iaddn(s)},n.prototype.subn=function(s){return this.clone().isubn(s)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(s,f,v){var g=s.length+v,y;this._expand(g);var c,q=0;for(y=0;y<s.length;y++){c=(this.words[y+v]|0)+q;var E=(s.words[y]|0)*f;c-=E&67108863,q=(c>>26)-(E/67108864|0),this.words[y+v]=c&67108863}for(;y<this.length-v;y++)c=(this.words[y+v]|0)+q,q=c>>26,this.words[y+v]=c&67108863;if(q===0)return this._strip();for(r(q===-1),q=0,y=0;y<this.length;y++)c=-(this.words[y]|0)+q,q=c>>26,this.words[y]=c&67108863;return this.negative=1,this._strip()},n.prototype._wordDiv=function(s,f){var v=this.length-s.length,g=this.clone(),y=s,c=y.words[y.length-1]|0,q=this._countBits(c);v=26-q,v!==0&&(y=y.ushln(v),g.iushln(v),c=y.words[y.length-1]|0);var E=g.length-y.length,h;if(f!=="mod"){h=new n(null),h.length=E+1,h.words=new Array(h.length);for(var M=0;M<h.length;M++)h.words[M]=0}var F=g.clone()._ishlnsubmul(y,1,E);F.negative===0&&(g=F,h&&(h.words[E]=1));for(var H=E-1;H>=0;H--){var G=(g.words[y.length+H]|0)*67108864+(g.words[y.length+H-1]|0);for(G=Math.min(G/c|0,67108863),g._ishlnsubmul(y,G,H);g.negative!==0;)G--,g.negative=0,g._ishlnsubmul(y,1,H),g.isZero()||(g.negative^=1);h&&(h.words[H]=G)}return h&&h._strip(),g._strip(),f!=="div"&&v!==0&&g.iushrn(v),{div:h||null,mod:g}},n.prototype.divmod=function(s,f,v){if(r(!s.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var g,y,c;return this.negative!==0&&s.negative===0?(c=this.neg().divmod(s,f),f!=="mod"&&(g=c.div.neg()),f!=="div"&&(y=c.mod.neg(),v&&y.negative!==0&&y.iadd(s)),{div:g,mod:y}):this.negative===0&&s.negative!==0?(c=this.divmod(s.neg(),f),f!=="mod"&&(g=c.div.neg()),{div:g,mod:c.mod}):this.negative&s.negative?(c=this.neg().divmod(s.neg(),f),f!=="div"&&(y=c.mod.neg(),v&&y.negative!==0&&y.isub(s)),{div:c.div,mod:y}):s.length>this.length||this.cmp(s)<0?{div:new n(0),mod:this}:s.length===1?f==="div"?{div:this.divn(s.words[0]),mod:null}:f==="mod"?{div:null,mod:new n(this.modrn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new n(this.modrn(s.words[0]))}:this._wordDiv(s,f)},n.prototype.div=function(s){return this.divmod(s,"div",!1).div},n.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},n.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},n.prototype.divRound=function(s){var f=this.divmod(s);if(f.mod.isZero())return f.div;var v=f.div.negative!==0?f.mod.isub(s):f.mod,g=s.ushrn(1),y=s.andln(1),c=v.cmp(g);return c<0||y===1&&c===0?f.div:f.div.negative!==0?f.div.isubn(1):f.div.iaddn(1)},n.prototype.modrn=function(s){var f=s<0;f&&(s=-s),r(s<=67108863);for(var v=(1<<26)%s,g=0,y=this.length-1;y>=0;y--)g=(v*g+(this.words[y]|0))%s;return f?-g:g},n.prototype.modn=function(s){return this.modrn(s)},n.prototype.idivn=function(s){var f=s<0;f&&(s=-s),r(s<=67108863);for(var v=0,g=this.length-1;g>=0;g--){var y=(this.words[g]|0)+v*67108864;this.words[g]=y/s|0,v=y%s}return this._strip(),f?this.ineg():this},n.prototype.divn=function(s){return this.clone().idivn(s)},n.prototype.egcd=function(s){r(s.negative===0),r(!s.isZero());var f=this,v=s.clone();f.negative!==0?f=f.umod(s):f=f.clone();for(var g=new n(1),y=new n(0),c=new n(0),q=new n(1),E=0;f.isEven()&&v.isEven();)f.iushrn(1),v.iushrn(1),++E;for(var h=v.clone(),M=f.clone();!f.isZero();){for(var F=0,H=1;!(f.words[0]&H)&&F<26;++F,H<<=1);if(F>0)for(f.iushrn(F);F-- >0;)(g.isOdd()||y.isOdd())&&(g.iadd(h),y.isub(M)),g.iushrn(1),y.iushrn(1);for(var G=0,te=1;!(v.words[0]&te)&&G<26;++G,te<<=1);if(G>0)for(v.iushrn(G);G-- >0;)(c.isOdd()||q.isOdd())&&(c.iadd(h),q.isub(M)),c.iushrn(1),q.iushrn(1);f.cmp(v)>=0?(f.isub(v),g.isub(c),y.isub(q)):(v.isub(f),c.isub(g),q.isub(y))}return{a:c,b:q,gcd:v.iushln(E)}},n.prototype._invmp=function(s){r(s.negative===0),r(!s.isZero());var f=this,v=s.clone();f.negative!==0?f=f.umod(s):f=f.clone();for(var g=new n(1),y=new n(0),c=v.clone();f.cmpn(1)>0&&v.cmpn(1)>0;){for(var q=0,E=1;!(f.words[0]&E)&&q<26;++q,E<<=1);if(q>0)for(f.iushrn(q);q-- >0;)g.isOdd()&&g.iadd(c),g.iushrn(1);for(var h=0,M=1;!(v.words[0]&M)&&h<26;++h,M<<=1);if(h>0)for(v.iushrn(h);h-- >0;)y.isOdd()&&y.iadd(c),y.iushrn(1);f.cmp(v)>=0?(f.isub(v),g.isub(y)):(v.isub(f),y.isub(g))}var F;return f.cmpn(1)===0?F=g:F=y,F.cmpn(0)<0&&F.iadd(s),F},n.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var f=this.clone(),v=s.clone();f.negative=0,v.negative=0;for(var g=0;f.isEven()&&v.isEven();g++)f.iushrn(1),v.iushrn(1);do{for(;f.isEven();)f.iushrn(1);for(;v.isEven();)v.iushrn(1);var y=f.cmp(v);if(y<0){var c=f;f=v,v=c}else if(y===0||v.cmpn(1)===0)break;f.isub(v)}while(!0);return v.iushln(g)},n.prototype.invm=function(s){return this.egcd(s).a.umod(s)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(s){return this.words[0]&s},n.prototype.bincn=function(s){r(typeof s=="number");var f=s%26,v=(s-f)/26,g=1<<f;if(this.length<=v)return this._expand(v+1),this.words[v]|=g,this;for(var y=g,c=v;y!==0&&c<this.length;c++){var q=this.words[c]|0;q+=y,y=q>>>26,q&=67108863,this.words[c]=q}return y!==0&&(this.words[c]=y,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(s){var f=s<0;if(this.negative!==0&&!f)return-1;if(this.negative===0&&f)return 1;this._strip();var v;if(this.length>1)v=1;else{f&&(s=-s),r(s<=67108863,"Number is too big");var g=this.words[0]|0;v=g===s?0:g<s?-1:1}return this.negative!==0?-v|0:v},n.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var f=this.ucmp(s);return this.negative!==0?-f|0:f},n.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var f=0,v=this.length-1;v>=0;v--){var g=this.words[v]|0,y=s.words[v]|0;if(g!==y){g<y?f=-1:g>y&&(f=1);break}}return f},n.prototype.gtn=function(s){return this.cmpn(s)===1},n.prototype.gt=function(s){return this.cmp(s)===1},n.prototype.gten=function(s){return this.cmpn(s)>=0},n.prototype.gte=function(s){return this.cmp(s)>=0},n.prototype.ltn=function(s){return this.cmpn(s)===-1},n.prototype.lt=function(s){return this.cmp(s)===-1},n.prototype.lten=function(s){return this.cmpn(s)<=0},n.prototype.lte=function(s){return this.cmp(s)<=0},n.prototype.eqn=function(s){return this.cmpn(s)===0},n.prototype.eq=function(s){return this.cmp(s)===0},n.red=function(s){return new d(s)},n.prototype.toRed=function(s){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(s){return this.red=s,this},n.prototype.forceRed=function(s){return r(!this.red,"Already a number in reduction context"),this._forceRed(s)},n.prototype.redAdd=function(s){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},n.prototype.redIAdd=function(s){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},n.prototype.redSub=function(s){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},n.prototype.redISub=function(s){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},n.prototype.redShl=function(s){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},n.prototype.redMul=function(s){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},n.prototype.redIMul=function(s){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(s){return r(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var re={k256:null,p224:null,p192:null,p25519:null};function V(m,s){this.name=m,this.p=new n(s,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}V.prototype._tmp=function(){var s=new n(null);return s.words=new Array(Math.ceil(this.n/13)),s},V.prototype.ireduce=function(s){var f=s,v;do this.split(f,this.tmp),f=this.imulK(f),f=f.iadd(this.tmp),v=f.bitLength();while(v>this.n);var g=v<this.n?-1:f.ucmp(this.p);return g===0?(f.words[0]=0,f.length=1):g>0?f.isub(this.p):f.strip!==void 0?f.strip():f._strip(),f},V.prototype.split=function(s,f){s.iushrn(this.n,0,f)},V.prototype.imulK=function(s){return s.imul(this.k)};function Xe(){V.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(Xe,V),Xe.prototype.split=function(s,f){for(var v=4194303,g=Math.min(s.length,9),y=0;y<g;y++)f.words[y]=s.words[y];if(f.length=g,s.length<=9){s.words[0]=0,s.length=1;return}var c=s.words[9];for(f.words[f.length++]=c&v,y=10;y<s.length;y++){var q=s.words[y]|0;s.words[y-10]=(q&v)<<4|c>>>22,c=q}c>>>=22,s.words[y-10]=c,c===0&&s.length>10?s.length-=10:s.length-=9},Xe.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var f=0,v=0;v<s.length;v++){var g=s.words[v]|0;f+=g*977,s.words[v]=f&67108863,f=g*64+(f/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function Q(){V.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(Q,V);function Ze(){V.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(Ze,V);function O(){V.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(O,V),O.prototype.imulK=function(s){for(var f=0,v=0;v<s.length;v++){var g=(s.words[v]|0)*19+f,y=g&67108863;g>>>=26,s.words[v]=y,f=g}return f!==0&&(s.words[s.length++]=f),s},n._prime=function(s){if(re[s])return re[s];var f;if(s==="k256")f=new Xe;else if(s==="p224")f=new Q;else if(s==="p192")f=new Ze;else if(s==="p25519")f=new O;else throw new Error("Unknown prime "+s);return re[s]=f,f};function d(m){if(typeof m=="string"){var s=n._prime(m);this.m=s.p,this.prime=s}else r(m.gtn(1),"modulus must be greater than 1"),this.m=m,this.prime=null}d.prototype._verify1=function(s){r(s.negative===0,"red works only with positives"),r(s.red,"red works only with red numbers")},d.prototype._verify2=function(s,f){r((s.negative|f.negative)===0,"red works only with positives"),r(s.red&&s.red===f.red,"red works only with red numbers")},d.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):(_(s,s.umod(this.m)._forceRed(this)),s)},d.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},d.prototype.add=function(s,f){this._verify2(s,f);var v=s.add(f);return v.cmp(this.m)>=0&&v.isub(this.m),v._forceRed(this)},d.prototype.iadd=function(s,f){this._verify2(s,f);var v=s.iadd(f);return v.cmp(this.m)>=0&&v.isub(this.m),v},d.prototype.sub=function(s,f){this._verify2(s,f);var v=s.sub(f);return v.cmpn(0)<0&&v.iadd(this.m),v._forceRed(this)},d.prototype.isub=function(s,f){this._verify2(s,f);var v=s.isub(f);return v.cmpn(0)<0&&v.iadd(this.m),v},d.prototype.shl=function(s,f){return this._verify1(s),this.imod(s.ushln(f))},d.prototype.imul=function(s,f){return this._verify2(s,f),this.imod(s.imul(f))},d.prototype.mul=function(s,f){return this._verify2(s,f),this.imod(s.mul(f))},d.prototype.isqr=function(s){return this.imul(s,s.clone())},d.prototype.sqr=function(s){return this.mul(s,s)},d.prototype.sqrt=function(s){if(s.isZero())return s.clone();var f=this.m.andln(3);if(r(f%2===1),f===3){var v=this.m.add(new n(1)).iushrn(2);return this.pow(s,v)}for(var g=this.m.subn(1),y=0;!g.isZero()&&g.andln(1)===0;)y++,g.iushrn(1);r(!g.isZero());var c=new n(1).toRed(this),q=c.redNeg(),E=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new n(2*h*h).toRed(this);this.pow(h,E).cmp(q)!==0;)h.redIAdd(q);for(var M=this.pow(h,g),F=this.pow(s,g.addn(1).iushrn(1)),H=this.pow(s,g),G=y;H.cmp(c)!==0;){for(var te=H,X=0;te.cmp(c)!==0;X++)te=te.redSqr();r(X<G);var J=this.pow(M,new n(1).iushln(G-X-1));F=F.redMul(J),M=J.redSqr(),H=H.redMul(M),G=X}return F},d.prototype.invm=function(s){var f=s._invmp(this.m);return f.negative!==0?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},d.prototype.pow=function(s,f){if(f.isZero())return new n(1).toRed(this);if(f.cmpn(1)===0)return s.clone();var v=4,g=new Array(1<<v);g[0]=new n(1).toRed(this),g[1]=s;for(var y=2;y<g.length;y++)g[y]=this.mul(g[y-1],s);var c=g[0],q=0,E=0,h=f.bitLength()%26;for(h===0&&(h=26),y=f.length-1;y>=0;y--){for(var M=f.words[y],F=h-1;F>=0;F--){var H=M>>F&1;if(c!==g[0]&&(c=this.sqr(c)),H===0&&q===0){E=0;continue}q<<=1,q|=H,E++,!(E!==v&&(y!==0||F!==0))&&(c=this.mul(c,g[q]),E=0,q=0)}h=26}return c},d.prototype.convertTo=function(s){var f=s.umod(this.m);return f===s?f.clone():f},d.prototype.convertFrom=function(s){var f=s.clone();return f.red=null,f},n.mont=function(s){return new x(s)};function x(m){d.call(this,m),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(x,d),x.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},x.prototype.convertFrom=function(s){var f=this.imod(s.mul(this.rinv));return f.red=null,f},x.prototype.imul=function(s,f){if(s.isZero()||f.isZero())return s.words[0]=0,s.length=1,s;var v=s.imul(f),g=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=v.isub(g).iushrn(this.shift),c=y;return y.cmp(this.m)>=0?c=y.isub(this.m):y.cmpn(0)<0&&(c=y.iadd(this.m)),c._forceRed(this)},x.prototype.mul=function(s,f){if(s.isZero()||f.isZero())return new n(0)._forceRed(this);var v=s.mul(f),g=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=v.isub(g).iushrn(this.shift),c=y;return y.cmp(this.m)>=0?c=y.isub(this.m):y.cmpn(0)<0&&(c=y.iadd(this.m)),c._forceRed(this)},x.prototype.invm=function(s){var f=this.imod(s._invmp(this.m).mul(this.r2));return f._forceRed(this)}})(typeof v0>"u"||v0,LL)});var UL=l(Ca=>{"use strict";var PEe=Ca&&Ca.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ca,"__esModule",{value:!0});Ca.encodeNamedCurves=void 0;var KL=PEe(Xs()),TEe=Ir(),FL=HL(32),BL=HL(48);Ca.encodeNamedCurves=Object.freeze({prime256v1:FL,secp384r1:BL,"P-256":FL,"P-384":BL});function HL(t){return function(r){(0,TEe.needs)(r.byteLength===1+t*2,"Malformed public key.");let i=r.slice(1,t+1),n=r.slice(t+1,t*2+1),a=new KL.default([...n]).mod(new KL.default(2)).toNumber()+2,o=new Uint8Array(1+i.length);return o.set([a],0),o.set(i,1),o}}});var YL=l(Da=>{"use strict";var NEe=Da&&Da.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Da,"__esModule",{value:!0});Da.decodeNamedCurves=void 0;var Wt=NEe(Xs()),GL=Ir(),jL=VL(new Wt.default("FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF",16),new Wt.default("FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC",16),new Wt.default("5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B",16)),zL=VL(new Wt.default("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF",16),new Wt.default("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC",16),new Wt.default("B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF",16));Da.decodeNamedCurves=Object.freeze({prime256v1:jL,secp384r1:zL,"P-256":jL,"P-384":zL});function VL(t,e,r){let i=new Wt.default(0),n=new Wt.default(1),a=new Wt.default(2),o=new Wt.default(3),u=new Wt.default(4);(0,GL.needs)(t.mod(u).eq(o),"Curve not supported at this time");let p=Wt.default.mont(t),_=t.add(n).div(u),b={2:i,3:n},A=1+t.bitLength()/8;return function(C){(0,GL.needs)(C.byteLength===A,"Compressed point length is not correct.");let N=C.slice(1),L=N.byteLength,B=new Wt.default([...N]),R=b[C[0]],K=B.pow(o).mod(t),z=e.mul(B).mod(t),re=K.add(z).add(r).mod(t).toRed(p).redPow(_).fromRed();if(re.mod(a).eq(R))return WL(B,re,L);{let V=t.sub(re);return WL(B,V,L)}}}function WL(t,e,r){return new Uint8Array([4,...t.toArray("be",r),...e.toArray("be",r)])}});var _0=l((XL,y0)=>{(function(t,e){"use strict";function r(O,d){if(!O)throw new Error(d||"Assertion failed")}function i(O,d){O.super_=d;var x=function(){};x.prototype=d.prototype,O.prototype=new x,O.prototype.constructor=O}function n(O,d,x){if(n.isBN(O))return O;this.negative=0,this.words=null,this.length=0,this.red=null,O!==null&&((d==="le"||d==="be")&&(x=d,d=10),this._init(O||0,d||10,x||"be"))}typeof t=="object"?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=require("buffer").Buffer}catch{}n.isBN=function(d){return d instanceof n?!0:d!==null&&typeof d=="object"&&d.constructor.wordSize===n.wordSize&&Array.isArray(d.words)},n.max=function(d,x){return d.cmp(x)>0?d:x},n.min=function(d,x){return d.cmp(x)<0?d:x},n.prototype._init=function(d,x,m){if(typeof d=="number")return this._initNumber(d,x,m);if(typeof d=="object")return this._initArray(d,x,m);x==="hex"&&(x=16),r(x===(x|0)&&x>=2&&x<=36),d=d.toString().replace(/\s+/g,"");var s=0;d[0]==="-"&&(s++,this.negative=1),s<d.length&&(x===16?this._parseHex(d,s,m):(this._parseBase(d,x,s),m==="le"&&this._initArray(this.toArray(),x,m)))},n.prototype._initNumber=function(d,x,m){d<0&&(this.negative=1,d=-d),d<67108864?(this.words=[d&67108863],this.length=1):d<4503599627370496?(this.words=[d&67108863,d/67108864&67108863],this.length=2):(r(d<9007199254740992),this.words=[d&67108863,d/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),x,m)},n.prototype._initArray=function(d,x,m){if(r(typeof d.length=="number"),d.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(d.length/3),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var f,v,g=0;if(m==="be")for(s=d.length-1,f=0;s>=0;s-=3)v=d[s]|d[s-1]<<8|d[s-2]<<16,this.words[f]|=v<<g&67108863,this.words[f+1]=v>>>26-g&67108863,g+=24,g>=26&&(g-=26,f++);else if(m==="le")for(s=0,f=0;s<d.length;s+=3)v=d[s]|d[s+1]<<8|d[s+2]<<16,this.words[f]|=v<<g&67108863,this.words[f+1]=v>>>26-g&67108863,g+=24,g>=26&&(g-=26,f++);return this.strip()};function o(O,d){var x=O.charCodeAt(d);return x>=65&&x<=70?x-55:x>=97&&x<=102?x-87:x-48&15}function u(O,d,x){var m=o(O,x);return x-1>=d&&(m|=o(O,x-1)<<4),m}n.prototype._parseHex=function(d,x,m){this.length=Math.ceil((d.length-x)/6),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var f=0,v=0,g;if(m==="be")for(s=d.length-1;s>=x;s-=2)g=u(d,x,s)<<f,this.words[v]|=g&67108863,f>=18?(f-=18,v+=1,this.words[v]|=g>>>26):f+=8;else{var y=d.length-x;for(s=y%2===0?x+1:x;s<d.length;s+=2)g=u(d,x,s)<<f,this.words[v]|=g&67108863,f>=18?(f-=18,v+=1,this.words[v]|=g>>>26):f+=8}this.strip()};function p(O,d,x,m){for(var s=0,f=Math.min(O.length,x),v=d;v<f;v++){var g=O.charCodeAt(v)-48;s*=m,g>=49?s+=g-49+10:g>=17?s+=g-17+10:s+=g}return s}n.prototype._parseBase=function(d,x,m){this.words=[0],this.length=1;for(var s=0,f=1;f<=67108863;f*=x)s++;s--,f=f/x|0;for(var v=d.length-m,g=v%s,y=Math.min(v,v-g)+m,c=0,q=m;q<y;q+=s)c=p(d,q,q+s,x),this.imuln(f),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(g!==0){var E=1;for(c=p(d,q,d.length,x),q=0;q<g;q++)E*=x;this.imuln(E),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},n.prototype.copy=function(d){d.words=new Array(this.length);for(var x=0;x<this.length;x++)d.words[x]=this.words[x];d.length=this.length,d.negative=this.negative,d.red=this.red},n.prototype.clone=function(){var d=new n(null);return this.copy(d),d},n.prototype._expand=function(d){for(;this.length<d;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var _=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],A=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(d,x){d=d||10,x=x|0||1;var m;if(d===16||d==="hex"){m="";for(var s=0,f=0,v=0;v<this.length;v++){var g=this.words[v],y=((g<<s|f)&16777215).toString(16);f=g>>>24-s&16777215,f!==0||v!==this.length-1?m=_[6-y.length]+y+m:m=y+m,s+=2,s>=26&&(s-=26,v--)}for(f!==0&&(m=f.toString(16)+m);m.length%x!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(d===(d|0)&&d>=2&&d<=36){var c=b[d],q=A[d];m="";var E=this.clone();for(E.negative=0;!E.isZero();){var h=E.modn(q).toString(d);E=E.idivn(q),E.isZero()?m=h+m:m=_[c-h.length]+h+m}for(this.isZero()&&(m="0"+m);m.length%x!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var d=this.words[0];return this.length===2?d+=this.words[1]*67108864:this.length===3&&this.words[2]===1?d+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-d:d},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(d,x){return r(typeof a<"u"),this.toArrayLike(a,d,x)},n.prototype.toArray=function(d,x){return this.toArrayLike(Array,d,x)},n.prototype.toArrayLike=function(d,x,m){var s=this.byteLength(),f=m||Math.max(1,s);r(s<=f,"byte array longer than desired length"),r(f>0,"Requested array length <= 0"),this.strip();var v=x==="le",g=new d(f),y,c,q=this.clone();if(v){for(c=0;!q.isZero();c++)y=q.andln(255),q.iushrn(8),g[c]=y;for(;c<f;c++)g[c]=0}else{for(c=0;c<f-s;c++)g[c]=0;for(c=0;!q.isZero();c++)y=q.andln(255),q.iushrn(8),g[f-c-1]=y}return g},Math.clz32?n.prototype._countBits=function(d){return 32-Math.clz32(d)}:n.prototype._countBits=function(d){var x=d,m=0;return x>=4096&&(m+=13,x>>>=13),x>=64&&(m+=7,x>>>=7),x>=8&&(m+=4,x>>>=4),x>=2&&(m+=2,x>>>=2),m+x},n.prototype._zeroBits=function(d){if(d===0)return 26;var x=d,m=0;return x&8191||(m+=13,x>>>=13),x&127||(m+=7,x>>>=7),x&15||(m+=4,x>>>=4),x&3||(m+=2,x>>>=2),x&1||m++,m},n.prototype.bitLength=function(){var d=this.words[this.length-1],x=this._countBits(d);return(this.length-1)*26+x};function S(O){for(var d=new Array(O.bitLength()),x=0;x<d.length;x++){var m=x/26|0,s=x%26;d[x]=(O.words[m]&1<<s)>>>s}return d}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var d=0,x=0;x<this.length;x++){var m=this._zeroBits(this.words[x]);if(d+=m,m!==26)break}return d},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(d){return this.negative!==0?this.abs().inotn(d).iaddn(1):this.clone()},n.prototype.fromTwos=function(d){return this.testn(d-1)?this.notn(d).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(d){for(;this.length<d.length;)this.words[this.length++]=0;for(var x=0;x<d.length;x++)this.words[x]=this.words[x]|d.words[x];return this.strip()},n.prototype.ior=function(d){return r((this.negative|d.negative)===0),this.iuor(d)},n.prototype.or=function(d){return this.length>d.length?this.clone().ior(d):d.clone().ior(this)},n.prototype.uor=function(d){return this.length>d.length?this.clone().iuor(d):d.clone().iuor(this)},n.prototype.iuand=function(d){var x;this.length>d.length?x=d:x=this;for(var m=0;m<x.length;m++)this.words[m]=this.words[m]&d.words[m];return this.length=x.length,this.strip()},n.prototype.iand=function(d){return r((this.negative|d.negative)===0),this.iuand(d)},n.prototype.and=function(d){return this.length>d.length?this.clone().iand(d):d.clone().iand(this)},n.prototype.uand=function(d){return this.length>d.length?this.clone().iuand(d):d.clone().iuand(this)},n.prototype.iuxor=function(d){var x,m;this.length>d.length?(x=this,m=d):(x=d,m=this);for(var s=0;s<m.length;s++)this.words[s]=x.words[s]^m.words[s];if(this!==x)for(;s<x.length;s++)this.words[s]=x.words[s];return this.length=x.length,this.strip()},n.prototype.ixor=function(d){return r((this.negative|d.negative)===0),this.iuxor(d)},n.prototype.xor=function(d){return this.length>d.length?this.clone().ixor(d):d.clone().ixor(this)},n.prototype.uxor=function(d){return this.length>d.length?this.clone().iuxor(d):d.clone().iuxor(this)},n.prototype.inotn=function(d){r(typeof d=="number"&&d>=0);var x=Math.ceil(d/26)|0,m=d%26;this._expand(x),m>0&&x--;for(var s=0;s<x;s++)this.words[s]=~this.words[s]&67108863;return m>0&&(this.words[s]=~this.words[s]&67108863>>26-m),this.strip()},n.prototype.notn=function(d){return this.clone().inotn(d)},n.prototype.setn=function(d,x){r(typeof d=="number"&&d>=0);var m=d/26|0,s=d%26;return this._expand(m+1),x?this.words[m]=this.words[m]|1<<s:this.words[m]=this.words[m]&~(1<<s),this.strip()},n.prototype.iadd=function(d){var x;if(this.negative!==0&&d.negative===0)return this.negative=0,x=this.isub(d),this.negative^=1,this._normSign();if(this.negative===0&&d.negative!==0)return d.negative=0,x=this.isub(d),d.negative=1,x._normSign();var m,s;this.length>d.length?(m=this,s=d):(m=d,s=this);for(var f=0,v=0;v<s.length;v++)x=(m.words[v]|0)+(s.words[v]|0)+f,this.words[v]=x&67108863,f=x>>>26;for(;f!==0&&v<m.length;v++)x=(m.words[v]|0)+f,this.words[v]=x&67108863,f=x>>>26;if(this.length=m.length,f!==0)this.words[this.length]=f,this.length++;else if(m!==this)for(;v<m.length;v++)this.words[v]=m.words[v];return this},n.prototype.add=function(d){var x;return d.negative!==0&&this.negative===0?(d.negative=0,x=this.sub(d),d.negative^=1,x):d.negative===0&&this.negative!==0?(this.negative=0,x=d.sub(this),this.negative=1,x):this.length>d.length?this.clone().iadd(d):d.clone().iadd(this)},n.prototype.isub=function(d){if(d.negative!==0){d.negative=0;var x=this.iadd(d);return d.negative=1,x._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(d),this.negative=1,this._normSign();var m=this.cmp(d);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var s,f;m>0?(s=this,f=d):(s=d,f=this);for(var v=0,g=0;g<f.length;g++)x=(s.words[g]|0)-(f.words[g]|0)+v,v=x>>26,this.words[g]=x&67108863;for(;v!==0&&g<s.length;g++)x=(s.words[g]|0)+v,v=x>>26,this.words[g]=x&67108863;if(v===0&&g<s.length&&s!==this)for(;g<s.length;g++)this.words[g]=s.words[g];return this.length=Math.max(this.length,g),s!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(d){return this.clone().isub(d)};function C(O,d,x){x.negative=d.negative^O.negative;var m=O.length+d.length|0;x.length=m,m=m-1|0;var s=O.words[0]|0,f=d.words[0]|0,v=s*f,g=v&67108863,y=v/67108864|0;x.words[0]=g;for(var c=1;c<m;c++){for(var q=y>>>26,E=y&67108863,h=Math.min(c,d.length-1),M=Math.max(0,c-O.length+1);M<=h;M++){var F=c-M|0;s=O.words[F]|0,f=d.words[M]|0,v=s*f+E,q+=v/67108864|0,E=v&67108863}x.words[c]=E|0,y=q|0}return y!==0?x.words[c]=y|0:x.length--,x.strip()}var N=function(d,x,m){var s=d.words,f=x.words,v=m.words,g=0,y,c,q,E=s[0]|0,h=E&8191,M=E>>>13,F=s[1]|0,H=F&8191,G=F>>>13,te=s[2]|0,X=te&8191,J=te>>>13,qr=s[3]|0,ie=qr&8191,ne=qr>>>13,Io=s[4]|0,se=Io&8191,ue=Io>>>13,Oo=s[5]|0,le=Oo&8191,ce=Oo>>>13,Po=s[6]|0,fe=Po&8191,pe=Po>>>13,To=s[7]|0,de=To&8191,he=To>>>13,No=s[8]|0,me=No&8191,ve=No>>>13,Co=s[9]|0,ye=Co&8191,_e=Co>>>13,Do=f[0]|0,ge=Do&8191,xe=Do>>>13,Ro=f[1]|0,we=Ro&8191,qe=Ro>>>13,ko=f[2]|0,be=ko&8191,Ee=ko>>>13,Lo=f[3]|0,Ae=Lo&8191,Me=Lo>>>13,Ko=f[4]|0,Se=Ko&8191,Ie=Ko>>>13,Fo=f[5]|0,Oe=Fo&8191,Pe=Fo>>>13,Bo=f[6]|0,Te=Bo&8191,Ne=Bo>>>13,Ho=f[7]|0,Ce=Ho&8191,De=Ho>>>13,Uo=f[8]|0,Re=Uo&8191,ke=Uo>>>13,Go=f[9]|0,Le=Go&8191,Ke=Go>>>13;m.negative=d.negative^x.negative,m.length=19,y=Math.imul(h,ge),c=Math.imul(h,xe),c=c+Math.imul(M,ge)|0,q=Math.imul(M,xe);var Yn=(g+y|0)+((c&8191)<<13)|0;g=(q+(c>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,y=Math.imul(H,ge),c=Math.imul(H,xe),c=c+Math.imul(G,ge)|0,q=Math.imul(G,xe),y=y+Math.imul(h,we)|0,c=c+Math.imul(h,qe)|0,c=c+Math.imul(M,we)|0,q=q+Math.imul(M,qe)|0;var it=(g+y|0)+((c&8191)<<13)|0;g=(q+(c>>>13)|0)+(it>>>26)|0,it&=67108863,y=Math.imul(X,ge),c=Math.imul(X,xe),c=c+Math.imul(J,ge)|0,q=Math.imul(J,xe),y=y+Math.imul(H,we)|0,c=c+Math.imul(H,qe)|0,c=c+Math.imul(G,we)|0,q=q+Math.imul(G,qe)|0,y=y+Math.imul(h,be)|0,c=c+Math.imul(h,Ee)|0,c=c+Math.imul(M,be)|0,q=q+Math.imul(M,Ee)|0;var nt=(g+y|0)+((c&8191)<<13)|0;g=(q+(c>>>13)|0)+(nt>>>26)|0,nt&=67108863,y=Math.imul(ie,ge),c=Math.imul(ie,xe),c=c+Math.imul(ne,ge)|0,q=Math.imul(ne,xe),y=y+Math.imul(X,we)|0,c=c+Math.imul(X,qe)|0,c=c+Math.imul(J,we)|0,q=q+Math.imul(J,qe)|0,y=y+Math.imul(H,be)|0,c=c+Math.imul(H,Ee)|0,c=c+Math.imul(G,be)|0,q=q+Math.imul(G,Ee)|0,y=y+Math.imul(h,Ae)|0,c=c+Math.imul(h,Me)|0,c=c+Math.imul(M,Ae)|0,q=q+Math.imul(M,Me)|0;var rn=(g+y|0)+((c&8191)<<13)|0;g=(q+(c>>>13)|0)+(rn>>>26)|0,rn&=67108863,y=Math.imul(se,ge),c=Math.imul(se,xe),c=c+Math.imul(ue,ge)|0,q=Math.imul(ue,xe),y=y+Math.imul(ie,we)|0,c=c+Math.imul(ie,qe)|0,c=c+Math.imul(ne,we)|0,q=q+Math.imul(ne,qe)|0,y=y+Math.imul(X,be)|0,c=c+Math.imul(X,Ee)|0,c=c+Math.imul(J,be)|0,q=q+Math.imul(J,Ee)|0,y=y+Math.imul(H,Ae)|0,c=c+Math.imul(H,Me)|0,c=c+Math.imul(G,Ae)|0,q=q+Math.imul(G,Me)|0,y=y+Math.imul(h,Se)|0,c=c+Math.imul(h,Ie)|0,c=c+Math.imul(M,Se)|0,q=q+Math.imul(M,Ie)|0;var nn=(g+y|0)+((c&8191)<<13)|0;g=(q+(c>>>13)|0)+(nn>>>26)|0,nn&=67108863,y=Math.imul(le,ge),c=Math.imul(le,xe),c=c+Math.imul(ce,ge)|0,q=Math.imul(ce,xe),y=y+Math.imul(se,we)|0,c=c+Math.imul(se,qe)|0,c=c+Math.imul(ue,we)|0,q=q+Math.imul(ue,qe)|0,y=y+Math.imul(ie,be)|0,c=c+Math.imul(ie,Ee)|0,c=c+Math.imul(ne,be)|0,q=q+Math.imul(ne,Ee)|0,y=y+Math.imul(X,Ae)|0,c=c+Math.imul(X,Me)|0,c=c+Math.imul(J,Ae)|0,q=q+Math.imul(J,Me)|0,y=y+Math.imul(H,Se)|0,c=c+Math.imul(H,Ie)|0,c=c+Math.imul(G,Se)|0,q=q+Math.imul(G,Ie)|0,y=y+Math.imul(h,Oe)|0,c=c+Math.imul(h,Pe)|0,c=c+Math.imul(M,Oe)|0,q=q+Math.imul(M,Pe)|0;var an=(g+y|0)+((c&8191)<<13)|0;g=(q+(c>>>13)|0)+(an>>>26)|0,an&=67108863,y=Math.imul(fe,ge),c=Math.imul(fe,xe),c=c+Math.imul(pe,ge)|0,q=Math.imul(pe,xe),y=y+Math.imul(le,we)|0,c=c+Math.imul(le,qe)|0,c=c+Math.imul(ce,we)|0,q=q+Math.imul(ce,qe)|0,y=y+Math.imul(se,be)|0,c=c+Math.imul(se,Ee)|0,c=c+Math.imul(ue,be)|0,q=q+Math.imul(ue,Ee)|0,y=y+Math.imul(ie,Ae)|0,c=c+Math.imul(ie,Me)|0,c=c+Math.imul(ne,Ae)|0,q=q+Math.imul(ne,Me)|0,y=y+Math.imul(X,Se)|0,c=c+Math.imul(X,Ie)|0,c=c+Math.imul(J,Se)|0,q=q+Math.imul(J,Ie)|0,y=y+Math.imul(H,Oe)|0,c=c+Math.imul(H,Pe)|0,c=c+Math.imul(G,Oe)|0,q=q+Math.imul(G,Pe)|0,y=y+Math.imul(h,Te)|0,c=c+Math.imul(h,Ne)|0,c=c+Math.imul(M,Te)|0,q=q+Math.imul(M,Ne)|0;var on=(g+y|0)+((c&8191)<<13)|0;g=(q+(c>>>13)|0)+(on>>>26)|0,on&=67108863,y=Math.imul(de,ge),c=Math.imul(de,xe),c=c+Math.imul(he,ge)|0,q=Math.imul(he,xe),y=y+Math.imul(fe,we)|0,c=c+Math.imul(fe,qe)|0,c=c+Math.imul(pe,we)|0,q=q+Math.imul(pe,qe)|0,y=y+Math.imul(le,be)|0,c=c+Math.imul(le,Ee)|0,c=c+Math.imul(ce,be)|0,q=q+Math.imul(ce,Ee)|0,y=y+Math.imul(se,Ae)|0,c=c+Math.imul(se,Me)|0,c=c+Math.imul(ue,Ae)|0,q=q+Math.imul(ue,Me)|0,y=y+Math.imul(ie,Se)|0,c=c+Math.imul(ie,Ie)|0,c=c+Math.imul(ne,Se)|0,q=q+Math.imul(ne,Ie)|0,y=y+Math.imul(X,Oe)|0,c=c+Math.imul(X,Pe)|0,c=c+Math.imul(J,Oe)|0,q=q+Math.imul(J,Pe)|0,y=y+Math.imul(H,Te)|0,c=c+Math.imul(H,Ne)|0,c=c+Math.imul(G,Te)|0,q=q+Math.imul(G,Ne)|0,y=y+Math.imul(h,Ce)|0,c=c+Math.imul(h,De)|0,c=c+Math.imul(M,Ce)|0,q=q+Math.imul(M,De)|0;var sn=(g+y|0)+((c&8191)<<13)|0;g=(q+(c>>>13)|0)+(sn>>>26)|0,sn&=67108863,y=Math.imul(me,ge),c=Math.imul(me,xe),c=c+Math.imul(ve,ge)|0,q=Math.imul(ve,xe),y=y+Math.imul(de,we)|0,c=c+Math.imul(de,qe)|0,c=c+Math.imul(he,we)|0,q=q+Math.imul(he,qe)|0,y=y+Math.imul(fe,be)|0,c=c+Math.imul(fe,Ee)|0,c=c+Math.imul(pe,be)|0,q=q+Math.imul(pe,Ee)|0,y=y+Math.imul(le,Ae)|0,c=c+Math.imul(le,Me)|0,c=c+Math.imul(ce,Ae)|0,q=q+Math.imul(ce,Me)|0,y=y+Math.imul(se,Se)|0,c=c+Math.imul(se,Ie)|0,c=c+Math.imul(ue,Se)|0,q=q+Math.imul(ue,Ie)|0,y=y+Math.imul(ie,Oe)|0,c=c+Math.imul(ie,Pe)|0,c=c+Math.imul(ne,Oe)|0,q=q+Math.imul(ne,Pe)|0,y=y+Math.imul(X,Te)|0,c=c+Math.imul(X,Ne)|0,c=c+Math.imul(J,Te)|0,q=q+Math.imul(J,Ne)|0,y=y+Math.imul(H,Ce)|0,c=c+Math.imul(H,De)|0,c=c+Math.imul(G,Ce)|0,q=q+Math.imul(G,De)|0,y=y+Math.imul(h,Re)|0,c=c+Math.imul(h,ke)|0,c=c+Math.imul(M,Re)|0,q=q+Math.imul(M,ke)|0;var un=(g+y|0)+((c&8191)<<13)|0;g=(q+(c>>>13)|0)+(un>>>26)|0,un&=67108863,y=Math.imul(ye,ge),c=Math.imul(ye,xe),c=c+Math.imul(_e,ge)|0,q=Math.imul(_e,xe),y=y+Math.imul(me,we)|0,c=c+Math.imul(me,qe)|0,c=c+Math.imul(ve,we)|0,q=q+Math.imul(ve,qe)|0,y=y+Math.imul(de,be)|0,c=c+Math.imul(de,Ee)|0,c=c+Math.imul(he,be)|0,q=q+Math.imul(he,Ee)|0,y=y+Math.imul(fe,Ae)|0,c=c+Math.imul(fe,Me)|0,c=c+Math.imul(pe,Ae)|0,q=q+Math.imul(pe,Me)|0,y=y+Math.imul(le,Se)|0,c=c+Math.imul(le,Ie)|0,c=c+Math.imul(ce,Se)|0,q=q+Math.imul(ce,Ie)|0,y=y+Math.imul(se,Oe)|0,c=c+Math.imul(se,Pe)|0,c=c+Math.imul(ue,Oe)|0,q=q+Math.imul(ue,Pe)|0,y=y+Math.imul(ie,Te)|0,c=c+Math.imul(ie,Ne)|0,c=c+Math.imul(ne,Te)|0,q=q+Math.imul(ne,Ne)|0,y=y+Math.imul(X,Ce)|0,c=c+Math.imul(X,De)|0,c=c+Math.imul(J,Ce)|0,q=q+Math.imul(J,De)|0,y=y+Math.imul(H,Re)|0,c=c+Math.imul(H,ke)|0,c=c+Math.imul(G,Re)|0,q=q+Math.imul(G,ke)|0,y=y+Math.imul(h,Le)|0,c=c+Math.imul(h,Ke)|0,c=c+Math.imul(M,Le)|0,q=q+Math.imul(M,Ke)|0;var ln=(g+y|0)+((c&8191)<<13)|0;g=(q+(c>>>13)|0)+(ln>>>26)|0,ln&=67108863,y=Math.imul(ye,we),c=Math.imul(ye,qe),c=c+Math.imul(_e,we)|0,q=Math.imul(_e,qe),y=y+Math.imul(me,be)|0,c=c+Math.imul(me,Ee)|0,c=c+Math.imul(ve,be)|0,q=q+Math.imul(ve,Ee)|0,y=y+Math.imul(de,Ae)|0,c=c+Math.imul(de,Me)|0,c=c+Math.imul(he,Ae)|0,q=q+Math.imul(he,Me)|0,y=y+Math.imul(fe,Se)|0,c=c+Math.imul(fe,Ie)|0,c=c+Math.imul(pe,Se)|0,q=q+Math.imul(pe,Ie)|0,y=y+Math.imul(le,Oe)|0,c=c+Math.imul(le,Pe)|0,c=c+Math.imul(ce,Oe)|0,q=q+Math.imul(ce,Pe)|0,y=y+Math.imul(se,Te)|0,c=c+Math.imul(se,Ne)|0,c=c+Math.imul(ue,Te)|0,q=q+Math.imul(ue,Ne)|0,y=y+Math.imul(ie,Ce)|0,c=c+Math.imul(ie,De)|0,c=c+Math.imul(ne,Ce)|0,q=q+Math.imul(ne,De)|0,y=y+Math.imul(X,Re)|0,c=c+Math.imul(X,ke)|0,c=c+Math.imul(J,Re)|0,q=q+Math.imul(J,ke)|0,y=y+Math.imul(H,Le)|0,c=c+Math.imul(H,Ke)|0,c=c+Math.imul(G,Le)|0,q=q+Math.imul(G,Ke)|0;var cn=(g+y|0)+((c&8191)<<13)|0;g=(q+(c>>>13)|0)+(cn>>>26)|0,cn&=67108863,y=Math.imul(ye,be),c=Math.imul(ye,Ee),c=c+Math.imul(_e,be)|0,q=Math.imul(_e,Ee),y=y+Math.imul(me,Ae)|0,c=c+Math.imul(me,Me)|0,c=c+Math.imul(ve,Ae)|0,q=q+Math.imul(ve,Me)|0,y=y+Math.imul(de,Se)|0,c=c+Math.imul(de,Ie)|0,c=c+Math.imul(he,Se)|0,q=q+Math.imul(he,Ie)|0,y=y+Math.imul(fe,Oe)|0,c=c+Math.imul(fe,Pe)|0,c=c+Math.imul(pe,Oe)|0,q=q+Math.imul(pe,Pe)|0,y=y+Math.imul(le,Te)|0,c=c+Math.imul(le,Ne)|0,c=c+Math.imul(ce,Te)|0,q=q+Math.imul(ce,Ne)|0,y=y+Math.imul(se,Ce)|0,c=c+Math.imul(se,De)|0,c=c+Math.imul(ue,Ce)|0,q=q+Math.imul(ue,De)|0,y=y+Math.imul(ie,Re)|0,c=c+Math.imul(ie,ke)|0,c=c+Math.imul(ne,Re)|0,q=q+Math.imul(ne,ke)|0,y=y+Math.imul(X,Le)|0,c=c+Math.imul(X,Ke)|0,c=c+Math.imul(J,Le)|0,q=q+Math.imul(J,Ke)|0;var fn=(g+y|0)+((c&8191)<<13)|0;g=(q+(c>>>13)|0)+(fn>>>26)|0,fn&=67108863,y=Math.imul(ye,Ae),c=Math.imul(ye,Me),c=c+Math.imul(_e,Ae)|0,q=Math.imul(_e,Me),y=y+Math.imul(me,Se)|0,c=c+Math.imul(me,Ie)|0,c=c+Math.imul(ve,Se)|0,q=q+Math.imul(ve,Ie)|0,y=y+Math.imul(de,Oe)|0,c=c+Math.imul(de,Pe)|0,c=c+Math.imul(he,Oe)|0,q=q+Math.imul(he,Pe)|0,y=y+Math.imul(fe,Te)|0,c=c+Math.imul(fe,Ne)|0,c=c+Math.imul(pe,Te)|0,q=q+Math.imul(pe,Ne)|0,y=y+Math.imul(le,Ce)|0,c=c+Math.imul(le,De)|0,c=c+Math.imul(ce,Ce)|0,q=q+Math.imul(ce,De)|0,y=y+Math.imul(se,Re)|0,c=c+Math.imul(se,ke)|0,c=c+Math.imul(ue,Re)|0,q=q+Math.imul(ue,ke)|0,y=y+Math.imul(ie,Le)|0,c=c+Math.imul(ie,Ke)|0,c=c+Math.imul(ne,Le)|0,q=q+Math.imul(ne,Ke)|0;var pn=(g+y|0)+((c&8191)<<13)|0;g=(q+(c>>>13)|0)+(pn>>>26)|0,pn&=67108863,y=Math.imul(ye,Se),c=Math.imul(ye,Ie),c=c+Math.imul(_e,Se)|0,q=Math.imul(_e,Ie),y=y+Math.imul(me,Oe)|0,c=c+Math.imul(me,Pe)|0,c=c+Math.imul(ve,Oe)|0,q=q+Math.imul(ve,Pe)|0,y=y+Math.imul(de,Te)|0,c=c+Math.imul(de,Ne)|0,c=c+Math.imul(he,Te)|0,q=q+Math.imul(he,Ne)|0,y=y+Math.imul(fe,Ce)|0,c=c+Math.imul(fe,De)|0,c=c+Math.imul(pe,Ce)|0,q=q+Math.imul(pe,De)|0,y=y+Math.imul(le,Re)|0,c=c+Math.imul(le,ke)|0,c=c+Math.imul(ce,Re)|0,q=q+Math.imul(ce,ke)|0,y=y+Math.imul(se,Le)|0,c=c+Math.imul(se,Ke)|0,c=c+Math.imul(ue,Le)|0,q=q+Math.imul(ue,Ke)|0;var dn=(g+y|0)+((c&8191)<<13)|0;g=(q+(c>>>13)|0)+(dn>>>26)|0,dn&=67108863,y=Math.imul(ye,Oe),c=Math.imul(ye,Pe),c=c+Math.imul(_e,Oe)|0,q=Math.imul(_e,Pe),y=y+Math.imul(me,Te)|0,c=c+Math.imul(me,Ne)|0,c=c+Math.imul(ve,Te)|0,q=q+Math.imul(ve,Ne)|0,y=y+Math.imul(de,Ce)|0,c=c+Math.imul(de,De)|0,c=c+Math.imul(he,Ce)|0,q=q+Math.imul(he,De)|0,y=y+Math.imul(fe,Re)|0,c=c+Math.imul(fe,ke)|0,c=c+Math.imul(pe,Re)|0,q=q+Math.imul(pe,ke)|0,y=y+Math.imul(le,Le)|0,c=c+Math.imul(le,Ke)|0,c=c+Math.imul(ce,Le)|0,q=q+Math.imul(ce,Ke)|0;var hn=(g+y|0)+((c&8191)<<13)|0;g=(q+(c>>>13)|0)+(hn>>>26)|0,hn&=67108863,y=Math.imul(ye,Te),c=Math.imul(ye,Ne),c=c+Math.imul(_e,Te)|0,q=Math.imul(_e,Ne),y=y+Math.imul(me,Ce)|0,c=c+Math.imul(me,De)|0,c=c+Math.imul(ve,Ce)|0,q=q+Math.imul(ve,De)|0,y=y+Math.imul(de,Re)|0,c=c+Math.imul(de,ke)|0,c=c+Math.imul(he,Re)|0,q=q+Math.imul(he,ke)|0,y=y+Math.imul(fe,Le)|0,c=c+Math.imul(fe,Ke)|0,c=c+Math.imul(pe,Le)|0,q=q+Math.imul(pe,Ke)|0;var mn=(g+y|0)+((c&8191)<<13)|0;g=(q+(c>>>13)|0)+(mn>>>26)|0,mn&=67108863,y=Math.imul(ye,Ce),c=Math.imul(ye,De),c=c+Math.imul(_e,Ce)|0,q=Math.imul(_e,De),y=y+Math.imul(me,Re)|0,c=c+Math.imul(me,ke)|0,c=c+Math.imul(ve,Re)|0,q=q+Math.imul(ve,ke)|0,y=y+Math.imul(de,Le)|0,c=c+Math.imul(de,Ke)|0,c=c+Math.imul(he,Le)|0,q=q+Math.imul(he,Ke)|0;var vn=(g+y|0)+((c&8191)<<13)|0;g=(q+(c>>>13)|0)+(vn>>>26)|0,vn&=67108863,y=Math.imul(ye,Re),c=Math.imul(ye,ke),c=c+Math.imul(_e,Re)|0,q=Math.imul(_e,ke),y=y+Math.imul(me,Le)|0,c=c+Math.imul(me,Ke)|0,c=c+Math.imul(ve,Le)|0,q=q+Math.imul(ve,Ke)|0;var yn=(g+y|0)+((c&8191)<<13)|0;g=(q+(c>>>13)|0)+(yn>>>26)|0,yn&=67108863,y=Math.imul(ye,Le),c=Math.imul(ye,Ke),c=c+Math.imul(_e,Le)|0,q=Math.imul(_e,Ke);var _n=(g+y|0)+((c&8191)<<13)|0;return g=(q+(c>>>13)|0)+(_n>>>26)|0,_n&=67108863,v[0]=Yn,v[1]=it,v[2]=nt,v[3]=rn,v[4]=nn,v[5]=an,v[6]=on,v[7]=sn,v[8]=un,v[9]=ln,v[10]=cn,v[11]=fn,v[12]=pn,v[13]=dn,v[14]=hn,v[15]=mn,v[16]=vn,v[17]=yn,v[18]=_n,g!==0&&(v[19]=g,m.length++),m};Math.imul||(N=C);function L(O,d,x){x.negative=d.negative^O.negative,x.length=O.length+d.length;for(var m=0,s=0,f=0;f<x.length-1;f++){var v=s;s=0;for(var g=m&67108863,y=Math.min(f,d.length-1),c=Math.max(0,f-O.length+1);c<=y;c++){var q=f-c,E=O.words[q]|0,h=d.words[c]|0,M=E*h,F=M&67108863;v=v+(M/67108864|0)|0,F=F+g|0,g=F&67108863,v=v+(F>>>26)|0,s+=v>>>26,v&=67108863}x.words[f]=g,m=v,v=s}return m!==0?x.words[f]=m:x.length--,x.strip()}function B(O,d,x){var m=new R;return m.mulp(O,d,x)}n.prototype.mulTo=function(d,x){var m,s=this.length+d.length;return this.length===10&&d.length===10?m=N(this,d,x):s<63?m=C(this,d,x):s<1024?m=L(this,d,x):m=B(this,d,x),m};function R(O,d){this.x=O,this.y=d}R.prototype.makeRBT=function(d){for(var x=new Array(d),m=n.prototype._countBits(d)-1,s=0;s<d;s++)x[s]=this.revBin(s,m,d);return x},R.prototype.revBin=function(d,x,m){if(d===0||d===m-1)return d;for(var s=0,f=0;f<x;f++)s|=(d&1)<<x-f-1,d>>=1;return s},R.prototype.permute=function(d,x,m,s,f,v){for(var g=0;g<v;g++)s[g]=x[d[g]],f[g]=m[d[g]]},R.prototype.transform=function(d,x,m,s,f,v){this.permute(v,d,x,m,s,f);for(var g=1;g<f;g<<=1)for(var y=g<<1,c=Math.cos(2*Math.PI/y),q=Math.sin(2*Math.PI/y),E=0;E<f;E+=y)for(var h=c,M=q,F=0;F<g;F++){var H=m[E+F],G=s[E+F],te=m[E+F+g],X=s[E+F+g],J=h*te-M*X;X=h*X+M*te,te=J,m[E+F]=H+te,s[E+F]=G+X,m[E+F+g]=H-te,s[E+F+g]=G-X,F!==y&&(J=c*h-q*M,M=c*M+q*h,h=J)}},R.prototype.guessLen13b=function(d,x){var m=Math.max(x,d)|1,s=m&1,f=0;for(m=m/2|0;m;m=m>>>1)f++;return 1<<f+1+s},R.prototype.conjugate=function(d,x,m){if(!(m<=1))for(var s=0;s<m/2;s++){var f=d[s];d[s]=d[m-s-1],d[m-s-1]=f,f=x[s],x[s]=-x[m-s-1],x[m-s-1]=-f}},R.prototype.normalize13b=function(d,x){for(var m=0,s=0;s<x/2;s++){var f=Math.round(d[2*s+1]/x)*8192+Math.round(d[2*s]/x)+m;d[s]=f&67108863,f<67108864?m=0:m=f/67108864|0}return d},R.prototype.convert13b=function(d,x,m,s){for(var f=0,v=0;v<x;v++)f=f+(d[v]|0),m[2*v]=f&8191,f=f>>>13,m[2*v+1]=f&8191,f=f>>>13;for(v=2*x;v<s;++v)m[v]=0;r(f===0),r((f&-8192)===0)},R.prototype.stub=function(d){for(var x=new Array(d),m=0;m<d;m++)x[m]=0;return x},R.prototype.mulp=function(d,x,m){var s=2*this.guessLen13b(d.length,x.length),f=this.makeRBT(s),v=this.stub(s),g=new Array(s),y=new Array(s),c=new Array(s),q=new Array(s),E=new Array(s),h=new Array(s),M=m.words;M.length=s,this.convert13b(d.words,d.length,g,s),this.convert13b(x.words,x.length,q,s),this.transform(g,v,y,c,s,f),this.transform(q,v,E,h,s,f);for(var F=0;F<s;F++){var H=y[F]*E[F]-c[F]*h[F];c[F]=y[F]*h[F]+c[F]*E[F],y[F]=H}return this.conjugate(y,c,s),this.transform(y,c,M,v,s,f),this.conjugate(M,v,s),this.normalize13b(M,s),m.negative=d.negative^x.negative,m.length=d.length+x.length,m.strip()},n.prototype.mul=function(d){var x=new n(null);return x.words=new Array(this.length+d.length),this.mulTo(d,x)},n.prototype.mulf=function(d){var x=new n(null);return x.words=new Array(this.length+d.length),B(this,d,x)},n.prototype.imul=function(d){return this.clone().mulTo(d,this)},n.prototype.imuln=function(d){r(typeof d=="number"),r(d<67108864);for(var x=0,m=0;m<this.length;m++){var s=(this.words[m]|0)*d,f=(s&67108863)+(x&67108863);x>>=26,x+=s/67108864|0,x+=f>>>26,this.words[m]=f&67108863}return x!==0&&(this.words[m]=x,this.length++),this},n.prototype.muln=function(d){return this.clone().imuln(d)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(d){var x=S(d);if(x.length===0)return new n(1);for(var m=this,s=0;s<x.length&&x[s]===0;s++,m=m.sqr());if(++s<x.length)for(var f=m.sqr();s<x.length;s++,f=f.sqr())x[s]!==0&&(m=m.mul(f));return m},n.prototype.iushln=function(d){r(typeof d=="number"&&d>=0);var x=d%26,m=(d-x)/26,s=67108863>>>26-x<<26-x,f;if(x!==0){var v=0;for(f=0;f<this.length;f++){var g=this.words[f]&s,y=(this.words[f]|0)-g<<x;this.words[f]=y|v,v=g>>>26-x}v&&(this.words[f]=v,this.length++)}if(m!==0){for(f=this.length-1;f>=0;f--)this.words[f+m]=this.words[f];for(f=0;f<m;f++)this.words[f]=0;this.length+=m}return this.strip()},n.prototype.ishln=function(d){return r(this.negative===0),this.iushln(d)},n.prototype.iushrn=function(d,x,m){r(typeof d=="number"&&d>=0);var s;x?s=(x-x%26)/26:s=0;var f=d%26,v=Math.min((d-f)/26,this.length),g=67108863^67108863>>>f<<f,y=m;if(s-=v,s=Math.max(0,s),y){for(var c=0;c<v;c++)y.words[c]=this.words[c];y.length=v}if(v!==0)if(this.length>v)for(this.length-=v,c=0;c<this.length;c++)this.words[c]=this.words[c+v];else this.words[0]=0,this.length=1;var q=0;for(c=this.length-1;c>=0&&(q!==0||c>=s);c--){var E=this.words[c]|0;this.words[c]=q<<26-f|E>>>f,q=E&g}return y&&q!==0&&(y.words[y.length++]=q),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(d,x,m){return r(this.negative===0),this.iushrn(d,x,m)},n.prototype.shln=function(d){return this.clone().ishln(d)},n.prototype.ushln=function(d){return this.clone().iushln(d)},n.prototype.shrn=function(d){return this.clone().ishrn(d)},n.prototype.ushrn=function(d){return this.clone().iushrn(d)},n.prototype.testn=function(d){r(typeof d=="number"&&d>=0);var x=d%26,m=(d-x)/26,s=1<<x;if(this.length<=m)return!1;var f=this.words[m];return!!(f&s)},n.prototype.imaskn=function(d){r(typeof d=="number"&&d>=0);var x=d%26,m=(d-x)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(x!==0&&m++,this.length=Math.min(m,this.length),x!==0){var s=67108863^67108863>>>x<<x;this.words[this.length-1]&=s}return this.strip()},n.prototype.maskn=function(d){return this.clone().imaskn(d)},n.prototype.iaddn=function(d){return r(typeof d=="number"),r(d<67108864),d<0?this.isubn(-d):this.negative!==0?this.length===1&&(this.words[0]|0)<d?(this.words[0]=d-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(d),this.negative=1,this):this._iaddn(d)},n.prototype._iaddn=function(d){this.words[0]+=d;for(var x=0;x<this.length&&this.words[x]>=67108864;x++)this.words[x]-=67108864,x===this.length-1?this.words[x+1]=1:this.words[x+1]++;return this.length=Math.max(this.length,x+1),this},n.prototype.isubn=function(d){if(r(typeof d=="number"),r(d<67108864),d<0)return this.iaddn(-d);if(this.negative!==0)return this.negative=0,this.iaddn(d),this.negative=1,this;if(this.words[0]-=d,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var x=0;x<this.length&&this.words[x]<0;x++)this.words[x]+=67108864,this.words[x+1]-=1;return this.strip()},n.prototype.addn=function(d){return this.clone().iaddn(d)},n.prototype.subn=function(d){return this.clone().isubn(d)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(d,x,m){var s=d.length+m,f;this._expand(s);var v,g=0;for(f=0;f<d.length;f++){v=(this.words[f+m]|0)+g;var y=(d.words[f]|0)*x;v-=y&67108863,g=(v>>26)-(y/67108864|0),this.words[f+m]=v&67108863}for(;f<this.length-m;f++)v=(this.words[f+m]|0)+g,g=v>>26,this.words[f+m]=v&67108863;if(g===0)return this.strip();for(r(g===-1),g=0,f=0;f<this.length;f++)v=-(this.words[f]|0)+g,g=v>>26,this.words[f]=v&67108863;return this.negative=1,this.strip()},n.prototype._wordDiv=function(d,x){var m=this.length-d.length,s=this.clone(),f=d,v=f.words[f.length-1]|0,g=this._countBits(v);m=26-g,m!==0&&(f=f.ushln(m),s.iushln(m),v=f.words[f.length-1]|0);var y=s.length-f.length,c;if(x!=="mod"){c=new n(null),c.length=y+1,c.words=new Array(c.length);for(var q=0;q<c.length;q++)c.words[q]=0}var E=s.clone()._ishlnsubmul(f,1,y);E.negative===0&&(s=E,c&&(c.words[y]=1));for(var h=y-1;h>=0;h--){var M=(s.words[f.length+h]|0)*67108864+(s.words[f.length+h-1]|0);for(M=Math.min(M/v|0,67108863),s._ishlnsubmul(f,M,h);s.negative!==0;)M--,s.negative=0,s._ishlnsubmul(f,1,h),s.isZero()||(s.negative^=1);c&&(c.words[h]=M)}return c&&c.strip(),s.strip(),x!=="div"&&m!==0&&s.iushrn(m),{div:c||null,mod:s}},n.prototype.divmod=function(d,x,m){if(r(!d.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var s,f,v;return this.negative!==0&&d.negative===0?(v=this.neg().divmod(d,x),x!=="mod"&&(s=v.div.neg()),x!=="div"&&(f=v.mod.neg(),m&&f.negative!==0&&f.iadd(d)),{div:s,mod:f}):this.negative===0&&d.negative!==0?(v=this.divmod(d.neg(),x),x!=="mod"&&(s=v.div.neg()),{div:s,mod:v.mod}):this.negative&d.negative?(v=this.neg().divmod(d.neg(),x),x!=="div"&&(f=v.mod.neg(),m&&f.negative!==0&&f.isub(d)),{div:v.div,mod:f}):d.length>this.length||this.cmp(d)<0?{div:new n(0),mod:this}:d.length===1?x==="div"?{div:this.divn(d.words[0]),mod:null}:x==="mod"?{div:null,mod:new n(this.modn(d.words[0]))}:{div:this.divn(d.words[0]),mod:new n(this.modn(d.words[0]))}:this._wordDiv(d,x)},n.prototype.div=function(d){return this.divmod(d,"div",!1).div},n.prototype.mod=function(d){return this.divmod(d,"mod",!1).mod},n.prototype.umod=function(d){return this.divmod(d,"mod",!0).mod},n.prototype.divRound=function(d){var x=this.divmod(d);if(x.mod.isZero())return x.div;var m=x.div.negative!==0?x.mod.isub(d):x.mod,s=d.ushrn(1),f=d.andln(1),v=m.cmp(s);return v<0||f===1&&v===0?x.div:x.div.negative!==0?x.div.isubn(1):x.div.iaddn(1)},n.prototype.modn=function(d){r(d<=67108863);for(var x=(1<<26)%d,m=0,s=this.length-1;s>=0;s--)m=(x*m+(this.words[s]|0))%d;return m},n.prototype.idivn=function(d){r(d<=67108863);for(var x=0,m=this.length-1;m>=0;m--){var s=(this.words[m]|0)+x*67108864;this.words[m]=s/d|0,x=s%d}return this.strip()},n.prototype.divn=function(d){return this.clone().idivn(d)},n.prototype.egcd=function(d){r(d.negative===0),r(!d.isZero());var x=this,m=d.clone();x.negative!==0?x=x.umod(d):x=x.clone();for(var s=new n(1),f=new n(0),v=new n(0),g=new n(1),y=0;x.isEven()&&m.isEven();)x.iushrn(1),m.iushrn(1),++y;for(var c=m.clone(),q=x.clone();!x.isZero();){for(var E=0,h=1;!(x.words[0]&h)&&E<26;++E,h<<=1);if(E>0)for(x.iushrn(E);E-- >0;)(s.isOdd()||f.isOdd())&&(s.iadd(c),f.isub(q)),s.iushrn(1),f.iushrn(1);for(var M=0,F=1;!(m.words[0]&F)&&M<26;++M,F<<=1);if(M>0)for(m.iushrn(M);M-- >0;)(v.isOdd()||g.isOdd())&&(v.iadd(c),g.isub(q)),v.iushrn(1),g.iushrn(1);x.cmp(m)>=0?(x.isub(m),s.isub(v),f.isub(g)):(m.isub(x),v.isub(s),g.isub(f))}return{a:v,b:g,gcd:m.iushln(y)}},n.prototype._invmp=function(d){r(d.negative===0),r(!d.isZero());var x=this,m=d.clone();x.negative!==0?x=x.umod(d):x=x.clone();for(var s=new n(1),f=new n(0),v=m.clone();x.cmpn(1)>0&&m.cmpn(1)>0;){for(var g=0,y=1;!(x.words[0]&y)&&g<26;++g,y<<=1);if(g>0)for(x.iushrn(g);g-- >0;)s.isOdd()&&s.iadd(v),s.iushrn(1);for(var c=0,q=1;!(m.words[0]&q)&&c<26;++c,q<<=1);if(c>0)for(m.iushrn(c);c-- >0;)f.isOdd()&&f.iadd(v),f.iushrn(1);x.cmp(m)>=0?(x.isub(m),s.isub(f)):(m.isub(x),f.isub(s))}var E;return x.cmpn(1)===0?E=s:E=f,E.cmpn(0)<0&&E.iadd(d),E},n.prototype.gcd=function(d){if(this.isZero())return d.abs();if(d.isZero())return this.abs();var x=this.clone(),m=d.clone();x.negative=0,m.negative=0;for(var s=0;x.isEven()&&m.isEven();s++)x.iushrn(1),m.iushrn(1);do{for(;x.isEven();)x.iushrn(1);for(;m.isEven();)m.iushrn(1);var f=x.cmp(m);if(f<0){var v=x;x=m,m=v}else if(f===0||m.cmpn(1)===0)break;x.isub(m)}while(!0);return m.iushln(s)},n.prototype.invm=function(d){return this.egcd(d).a.umod(d)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(d){return this.words[0]&d},n.prototype.bincn=function(d){r(typeof d=="number");var x=d%26,m=(d-x)/26,s=1<<x;if(this.length<=m)return this._expand(m+1),this.words[m]|=s,this;for(var f=s,v=m;f!==0&&v<this.length;v++){var g=this.words[v]|0;g+=f,f=g>>>26,g&=67108863,this.words[v]=g}return f!==0&&(this.words[v]=f,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(d){var x=d<0;if(this.negative!==0&&!x)return-1;if(this.negative===0&&x)return 1;this.strip();var m;if(this.length>1)m=1;else{x&&(d=-d),r(d<=67108863,"Number is too big");var s=this.words[0]|0;m=s===d?0:s<d?-1:1}return this.negative!==0?-m|0:m},n.prototype.cmp=function(d){if(this.negative!==0&&d.negative===0)return-1;if(this.negative===0&&d.negative!==0)return 1;var x=this.ucmp(d);return this.negative!==0?-x|0:x},n.prototype.ucmp=function(d){if(this.length>d.length)return 1;if(this.length<d.length)return-1;for(var x=0,m=this.length-1;m>=0;m--){var s=this.words[m]|0,f=d.words[m]|0;if(s!==f){s<f?x=-1:s>f&&(x=1);break}}return x},n.prototype.gtn=function(d){return this.cmpn(d)===1},n.prototype.gt=function(d){return this.cmp(d)===1},n.prototype.gten=function(d){return this.cmpn(d)>=0},n.prototype.gte=function(d){return this.cmp(d)>=0},n.prototype.ltn=function(d){return this.cmpn(d)===-1},n.prototype.lt=function(d){return this.cmp(d)===-1},n.prototype.lten=function(d){return this.cmpn(d)<=0},n.prototype.lte=function(d){return this.cmp(d)<=0},n.prototype.eqn=function(d){return this.cmpn(d)===0},n.prototype.eq=function(d){return this.cmp(d)===0},n.red=function(d){return new Q(d)},n.prototype.toRed=function(d){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),d.convertTo(this)._forceRed(d)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(d){return this.red=d,this},n.prototype.forceRed=function(d){return r(!this.red,"Already a number in reduction context"),this._forceRed(d)},n.prototype.redAdd=function(d){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,d)},n.prototype.redIAdd=function(d){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,d)},n.prototype.redSub=function(d){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,d)},n.prototype.redISub=function(d){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,d)},n.prototype.redShl=function(d){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,d)},n.prototype.redMul=function(d){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.mul(this,d)},n.prototype.redIMul=function(d){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.imul(this,d)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(d){return r(this.red&&!d.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,d)};var K={k256:null,p224:null,p192:null,p25519:null};function z(O,d){this.name=O,this.p=new n(d,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}z.prototype._tmp=function(){var d=new n(null);return d.words=new Array(Math.ceil(this.n/13)),d},z.prototype.ireduce=function(d){var x=d,m;do this.split(x,this.tmp),x=this.imulK(x),x=x.iadd(this.tmp),m=x.bitLength();while(m>this.n);var s=m<this.n?-1:x.ucmp(this.p);return s===0?(x.words[0]=0,x.length=1):s>0?x.isub(this.p):x.strip!==void 0?x.strip():x._strip(),x},z.prototype.split=function(d,x){d.iushrn(this.n,0,x)},z.prototype.imulK=function(d){return d.imul(this.k)};function W(){z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(W,z),W.prototype.split=function(d,x){for(var m=4194303,s=Math.min(d.length,9),f=0;f<s;f++)x.words[f]=d.words[f];if(x.length=s,d.length<=9){d.words[0]=0,d.length=1;return}var v=d.words[9];for(x.words[x.length++]=v&m,f=10;f<d.length;f++){var g=d.words[f]|0;d.words[f-10]=(g&m)<<4|v>>>22,v=g}v>>>=22,d.words[f-10]=v,v===0&&d.length>10?d.length-=10:d.length-=9},W.prototype.imulK=function(d){d.words[d.length]=0,d.words[d.length+1]=0,d.length+=2;for(var x=0,m=0;m<d.length;m++){var s=d.words[m]|0;x+=s*977,d.words[m]=x&67108863,x=s*64+(x/67108864|0)}return d.words[d.length-1]===0&&(d.length--,d.words[d.length-1]===0&&d.length--),d};function re(){z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(re,z);function V(){z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(V,z);function Xe(){z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(Xe,z),Xe.prototype.imulK=function(d){for(var x=0,m=0;m<d.length;m++){var s=(d.words[m]|0)*19+x,f=s&67108863;s>>>=26,d.words[m]=f,x=s}return x!==0&&(d.words[d.length++]=x),d},n._prime=function(d){if(K[d])return K[d];var x;if(d==="k256")x=new W;else if(d==="p224")x=new re;else if(d==="p192")x=new V;else if(d==="p25519")x=new Xe;else throw new Error("Unknown prime "+d);return K[d]=x,x};function Q(O){if(typeof O=="string"){var d=n._prime(O);this.m=d.p,this.prime=d}else r(O.gtn(1),"modulus must be greater than 1"),this.m=O,this.prime=null}Q.prototype._verify1=function(d){r(d.negative===0,"red works only with positives"),r(d.red,"red works only with red numbers")},Q.prototype._verify2=function(d,x){r((d.negative|x.negative)===0,"red works only with positives"),r(d.red&&d.red===x.red,"red works only with red numbers")},Q.prototype.imod=function(d){return this.prime?this.prime.ireduce(d)._forceRed(this):d.umod(this.m)._forceRed(this)},Q.prototype.neg=function(d){return d.isZero()?d.clone():this.m.sub(d)._forceRed(this)},Q.prototype.add=function(d,x){this._verify2(d,x);var m=d.add(x);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},Q.prototype.iadd=function(d,x){this._verify2(d,x);var m=d.iadd(x);return m.cmp(this.m)>=0&&m.isub(this.m),m},Q.prototype.sub=function(d,x){this._verify2(d,x);var m=d.sub(x);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},Q.prototype.isub=function(d,x){this._verify2(d,x);var m=d.isub(x);return m.cmpn(0)<0&&m.iadd(this.m),m},Q.prototype.shl=function(d,x){return this._verify1(d),this.imod(d.ushln(x))},Q.prototype.imul=function(d,x){return this._verify2(d,x),this.imod(d.imul(x))},Q.prototype.mul=function(d,x){return this._verify2(d,x),this.imod(d.mul(x))},Q.prototype.isqr=function(d){return this.imul(d,d.clone())},Q.prototype.sqr=function(d){return this.mul(d,d)},Q.prototype.sqrt=function(d){if(d.isZero())return d.clone();var x=this.m.andln(3);if(r(x%2===1),x===3){var m=this.m.add(new n(1)).iushrn(2);return this.pow(d,m)}for(var s=this.m.subn(1),f=0;!s.isZero()&&s.andln(1)===0;)f++,s.iushrn(1);r(!s.isZero());var v=new n(1).toRed(this),g=v.redNeg(),y=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new n(2*c*c).toRed(this);this.pow(c,y).cmp(g)!==0;)c.redIAdd(g);for(var q=this.pow(c,s),E=this.pow(d,s.addn(1).iushrn(1)),h=this.pow(d,s),M=f;h.cmp(v)!==0;){for(var F=h,H=0;F.cmp(v)!==0;H++)F=F.redSqr();r(H<M);var G=this.pow(q,new n(1).iushln(M-H-1));E=E.redMul(G),q=G.redSqr(),h=h.redMul(q),M=H}return E},Q.prototype.invm=function(d){var x=d._invmp(this.m);return x.negative!==0?(x.negative=0,this.imod(x).redNeg()):this.imod(x)},Q.prototype.pow=function(d,x){if(x.isZero())return new n(1).toRed(this);if(x.cmpn(1)===0)return d.clone();var m=4,s=new Array(1<<m);s[0]=new n(1).toRed(this),s[1]=d;for(var f=2;f<s.length;f++)s[f]=this.mul(s[f-1],d);var v=s[0],g=0,y=0,c=x.bitLength()%26;for(c===0&&(c=26),f=x.length-1;f>=0;f--){for(var q=x.words[f],E=c-1;E>=0;E--){var h=q>>E&1;if(v!==s[0]&&(v=this.sqr(v)),h===0&&g===0){y=0;continue}g<<=1,g|=h,y++,!(y!==m&&(f!==0||E!==0))&&(v=this.mul(v,s[g]),y=0,g=0)}c=26}return v},Q.prototype.convertTo=function(d){var x=d.umod(this.m);return x===d?x.clone():x},Q.prototype.convertFrom=function(d){var x=d.clone();return x.red=null,x},n.mont=function(d){return new Ze(d)};function Ze(O){Q.call(this,O),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(Ze,Q),Ze.prototype.convertTo=function(d){return this.imod(d.ushln(this.shift))},Ze.prototype.convertFrom=function(d){var x=this.imod(d.mul(this.rinv));return x.red=null,x},Ze.prototype.imul=function(d,x){if(d.isZero()||x.isZero())return d.words[0]=0,d.length=1,d;var m=d.imul(x),s=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),f=m.isub(s).iushrn(this.shift),v=f;return f.cmp(this.m)>=0?v=f.isub(this.m):f.cmpn(0)<0&&(v=f.iadd(this.m)),v._forceRed(this)},Ze.prototype.mul=function(d,x){if(d.isZero()||x.isZero())return new n(0)._forceRed(this);var m=d.mul(x),s=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),f=m.isub(s).iushrn(this.shift),v=f;return f.cmp(this.m)>=0?v=f.isub(this.m):f.cmpn(0)<0&&(v=f.iadd(this.m)),v._forceRed(this)},Ze.prototype.invm=function(d){var x=this.imod(d._invmp(this.m).mul(this.r2));return x._forceRed(this)}})(typeof y0>"u"||y0,XL)});var ZL=l((Bct,g0)=>{typeof Object.create=="function"?g0.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:g0.exports=function(e,r){if(r){e.super_=r;var i=function(){};i.prototype=r.prototype,e.prototype=new i,e.prototype.constructor=e}}});var Lt=l((Hct,w0)=>{try{if(x0=require("util"),typeof x0.inherits!="function")throw"";w0.exports=x0.inherits}catch{w0.exports=ZL()}var x0});var Fh=l((Uct,$L)=>{"use strict";var Kh=require("buffer"),Ra=Kh.Buffer,ur={},lr;for(lr in Kh)Kh.hasOwnProperty(lr)&&(lr==="SlowBuffer"||lr==="Buffer"||(ur[lr]=Kh[lr]));var ka=ur.Buffer={};for(lr in Ra)Ra.hasOwnProperty(lr)&&(lr==="allocUnsafe"||lr==="allocUnsafeSlow"||(ka[lr]=Ra[lr]));ur.Buffer.prototype=Ra.prototype;(!ka.from||ka.from===Uint8Array.from)&&(ka.from=function(t,e,r){if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof t);if(t&&typeof t.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);return Ra(t,e,r)});ka.alloc||(ka.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof t);if(t<0||t>=2*(1<<30))throw new RangeError('The value "'+t+'" is invalid for option "size"');var i=Ra(t);return!e||e.length===0?i.fill(0):typeof r=="string"?i.fill(e,r):i.fill(e),i});if(!ur.kStringMaxLength)try{ur.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch{}ur.constants||(ur.constants={MAX_LENGTH:ur.kMaxLength},ur.kStringMaxLength&&(ur.constants.MAX_STRING_LENGTH=ur.kStringMaxLength));$L.exports=ur});var Bh=l(QL=>{"use strict";var CEe=Lt();function cr(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}QL.Reporter=cr;cr.prototype.isError=function(e){return e instanceof La};cr.prototype.save=function(){let e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}};cr.prototype.restore=function(e){let r=this._reporterState;r.obj=e.obj,r.path=r.path.slice(0,e.pathLen)};cr.prototype.enterKey=function(e){return this._reporterState.path.push(e)};cr.prototype.exitKey=function(e){let r=this._reporterState;r.path=r.path.slice(0,e-1)};cr.prototype.leaveKey=function(e,r,i){let n=this._reporterState;this.exitKey(e),n.obj!==null&&(n.obj[r]=i)};cr.prototype.path=function(){return this._reporterState.path.join("/")};cr.prototype.enterObject=function(){let e=this._reporterState,r=e.obj;return e.obj={},r};cr.prototype.leaveObject=function(e){let r=this._reporterState,i=r.obj;return r.obj=e,i};cr.prototype.error=function(e){let r,i=this._reporterState,n=e instanceof La;if(n?r=e:r=new La(i.path.map(function(a){return"["+JSON.stringify(a)+"]"}).join(""),e.message||e,e.stack),!i.options.partial)throw r;return n||i.errors.push(r),r};cr.prototype.wrapResult=function(e){let r=this._reporterState;return r.options.partial?{result:this.isError(e)?null:e,errors:r.errors}:e};function La(t,e){this.path=t,this.rethrow(e)}CEe(La,Error);La.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,La),!this.stack)try{throw new Error(this.message)}catch(r){this.stack=r.stack}return this}});var Ba=l(q0=>{"use strict";var DEe=Lt(),Hh=Bh().Reporter,Ka=Fh().Buffer;function fr(t,e){if(Hh.call(this,e),!Ka.isBuffer(t)){this.error("Input not Buffer");return}this.base=t,this.offset=0,this.length=t.length}DEe(fr,Hh);q0.DecoderBuffer=fr;fr.isDecoderBuffer=function(e){return e instanceof fr?!0:typeof e=="object"&&Ka.isBuffer(e.base)&&e.constructor.name==="DecoderBuffer"&&typeof e.offset=="number"&&typeof e.length=="number"&&typeof e.save=="function"&&typeof e.restore=="function"&&typeof e.isEmpty=="function"&&typeof e.readUInt8=="function"&&typeof e.skip=="function"&&typeof e.raw=="function"};fr.prototype.save=function(){return{offset:this.offset,reporter:Hh.prototype.save.call(this)}};fr.prototype.restore=function(e){let r=new fr(this.base);return r.offset=e.offset,r.length=this.offset,this.offset=e.offset,Hh.prototype.restore.call(this,e.reporter),r};fr.prototype.isEmpty=function(){return this.offset===this.length};fr.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")};fr.prototype.skip=function(e,r){if(!(this.offset+e<=this.length))return this.error(r||"DecoderBuffer overrun");let i=new fr(this.base);return i._reporterState=this._reporterState,i.offset=this.offset,i.length=this.offset+e,this.offset+=e,i};fr.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)};function Fa(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(r){return Fa.isEncoderBuffer(r)||(r=new Fa(r,e)),this.length+=r.length,r},this);else if(typeof t=="number"){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if(typeof t=="string")this.value=t,this.length=Ka.byteLength(t);else if(Ka.isBuffer(t))this.value=t,this.length=t.length;else return e.error("Unsupported type: "+typeof t)}q0.EncoderBuffer=Fa;Fa.isEncoderBuffer=function(e){return e instanceof Fa?!0:typeof e=="object"&&e.constructor.name==="EncoderBuffer"&&typeof e.length=="number"&&typeof e.join=="function"};Fa.prototype.join=function(e,r){return e||(e=Ka.alloc(this.length)),r||(r=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(i){i.join(e,r),r+=i.length}):(typeof this.value=="number"?e[r]=this.value:typeof this.value=="string"?e.write(this.value,r):Ka.isBuffer(this.value)&&this.value.copy(e,r),r+=this.length)),e}});var tK=l((zct,eK)=>{eK.exports=JL;function JL(t,e){if(!t)throw new Error(e||"Assertion failed")}JL.equal=function(e,r,i){if(e!=r)throw new Error(i||"Assertion failed: "+e+" != "+r)}});var Uh=l((Wct,iK)=>{"use strict";var REe=Bh().Reporter,kEe=Ba().EncoderBuffer,LEe=Ba().DecoderBuffer,Ct=tK(),rK=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],KEe=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(rK),FEe=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function Je(t,e,r){let i={};this._baseState=i,i.name=r,i.enc=t,i.parent=e||null,i.children=null,i.tag=null,i.args=null,i.reverseArgs=null,i.choice=null,i.optional=!1,i.any=!1,i.obj=!1,i.use=null,i.useDecoder=null,i.key=null,i.default=null,i.explicit=null,i.implicit=null,i.contains=null,i.parent||(i.children=[],this._wrap())}iK.exports=Je;var BEe=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];Je.prototype.clone=function(){let e=this._baseState,r={};BEe.forEach(function(n){r[n]=e[n]});let i=new this.constructor(r.parent);return i._baseState=r,i};Je.prototype._wrap=function(){let e=this._baseState;KEe.forEach(function(r){this[r]=function(){let n=new this.constructor(this);return e.children.push(n),n[r].apply(n,arguments)}},this)};Je.prototype._init=function(e){let r=this._baseState;Ct(r.parent===null),e.call(this),r.children=r.children.filter(function(i){return i._baseState.parent===this},this),Ct.equal(r.children.length,1,"Root node can have only one child")};Je.prototype._useArgs=function(e){let r=this._baseState,i=e.filter(function(n){return n instanceof this.constructor},this);e=e.filter(function(n){return!(n instanceof this.constructor)},this),i.length!==0&&(Ct(r.children===null),r.children=i,i.forEach(function(n){n._baseState.parent=this},this)),e.length!==0&&(Ct(r.args===null),r.args=e,r.reverseArgs=e.map(function(n){if(typeof n!="object"||n.constructor!==Object)return n;let a={};return Object.keys(n).forEach(function(o){o==(o|0)&&(o|=0);let u=n[o];a[u]=o}),a}))};FEe.forEach(function(t){Je.prototype[t]=function(){let r=this._baseState;throw new Error(t+" not implemented for encoding: "+r.enc)}});rK.forEach(function(t){Je.prototype[t]=function(){let r=this._baseState,i=Array.prototype.slice.call(arguments);return Ct(r.tag===null),r.tag=t,this._useArgs(i),this}});Je.prototype.use=function(e){Ct(e);let r=this._baseState;return Ct(r.use===null),r.use=e,this};Je.prototype.optional=function(){let e=this._baseState;return e.optional=!0,this};Je.prototype.def=function(e){let r=this._baseState;return Ct(r.default===null),r.default=e,r.optional=!0,this};Je.prototype.explicit=function(e){let r=this._baseState;return Ct(r.explicit===null&&r.implicit===null),r.explicit=e,this};Je.prototype.implicit=function(e){let r=this._baseState;return Ct(r.explicit===null&&r.implicit===null),r.implicit=e,this};Je.prototype.obj=function(){let e=this._baseState,r=Array.prototype.slice.call(arguments);return e.obj=!0,r.length!==0&&this._useArgs(r),this};Je.prototype.key=function(e){let r=this._baseState;return Ct(r.key===null),r.key=e,this};Je.prototype.any=function(){let e=this._baseState;return e.any=!0,this};Je.prototype.choice=function(e){let r=this._baseState;return Ct(r.choice===null),r.choice=e,this._useArgs(Object.keys(e).map(function(i){return e[i]})),this};Je.prototype.contains=function(e){let r=this._baseState;return Ct(r.use===null),r.contains=e,this};Je.prototype._decode=function(e,r){let i=this._baseState;if(i.parent===null)return e.wrapResult(i.children[0]._decode(e,r));let n=i.default,a=!0,o=null;if(i.key!==null&&(o=e.enterKey(i.key)),i.optional){let p=null;if(i.explicit!==null?p=i.explicit:i.implicit!==null?p=i.implicit:i.tag!==null&&(p=i.tag),p===null&&!i.any){let _=e.save();try{i.choice===null?this._decodeGeneric(i.tag,e,r):this._decodeChoice(e,r),a=!0}catch{a=!1}e.restore(_)}else if(a=this._peekTag(e,p,i.any),e.isError(a))return a}let u;if(i.obj&&a&&(u=e.enterObject()),a){if(i.explicit!==null){let _=this._decodeTag(e,i.explicit);if(e.isError(_))return _;e=_}let p=e.offset;if(i.use===null&&i.choice===null){let _;i.any&&(_=e.save());let b=this._decodeTag(e,i.implicit!==null?i.implicit:i.tag,i.any);if(e.isError(b))return b;i.any?n=e.raw(_):e=b}if(r&&r.track&&i.tag!==null&&r.track(e.path(),p,e.length,"tagged"),r&&r.track&&i.tag!==null&&r.track(e.path(),e.offset,e.length,"content"),i.any||(i.choice===null?n=this._decodeGeneric(i.tag,e,r):n=this._decodeChoice(e,r)),e.isError(n))return n;if(!i.any&&i.choice===null&&i.children!==null&&i.children.forEach(function(b){b._decode(e,r)}),i.contains&&(i.tag==="octstr"||i.tag==="bitstr")){let _=new LEe(n);n=this._getUse(i.contains,e._reporterState.obj)._decode(_,r)}}return i.obj&&a&&(n=e.leaveObject(u)),i.key!==null&&(n!==null||a===!0)?e.leaveKey(o,i.key,n):o!==null&&e.exitKey(o),n};Je.prototype._decodeGeneric=function(e,r,i){let n=this._baseState;return e==="seq"||e==="set"?null:e==="seqof"||e==="setof"?this._decodeList(r,e,n.args[0],i):/str$/.test(e)?this._decodeStr(r,e,i):e==="objid"&&n.args?this._decodeObjid(r,n.args[0],n.args[1],i):e==="objid"?this._decodeObjid(r,null,null,i):e==="gentime"||e==="utctime"?this._decodeTime(r,e,i):e==="null_"?this._decodeNull(r,i):e==="bool"?this._decodeBool(r,i):e==="objDesc"?this._decodeStr(r,e,i):e==="int"||e==="enum"?this._decodeInt(r,n.args&&n.args[0],i):n.use!==null?this._getUse(n.use,r._reporterState.obj)._decode(r,i):r.error("unknown tag: "+e)};Je.prototype._getUse=function(e,r){let i=this._baseState;return i.useDecoder=this._use(e,r),Ct(i.useDecoder._baseState.parent===null),i.useDecoder=i.useDecoder._baseState.children[0],i.implicit!==i.useDecoder._baseState.implicit&&(i.useDecoder=i.useDecoder.clone(),i.useDecoder._baseState.implicit=i.implicit),i.useDecoder};Je.prototype._decodeChoice=function(e,r){let i=this._baseState,n=null,a=!1;return Object.keys(i.choice).some(function(o){let u=e.save(),p=i.choice[o];try{let _=p._decode(e,r);if(e.isError(_))return!1;n={type:o,value:_},a=!0}catch{return e.restore(u),!1}return!0},this),a?n:e.error("Choice not matched")};Je.prototype._createEncoderBuffer=function(e){return new kEe(e,this.reporter)};Je.prototype._encode=function(e,r,i){let n=this._baseState;if(n.default!==null&&n.default===e)return;let a=this._encodeValue(e,r,i);if(a!==void 0&&!this._skipDefault(a,r,i))return a};Je.prototype._encodeValue=function(e,r,i){let n=this._baseState;if(n.parent===null)return n.children[0]._encode(e,r||new REe);let a=null;if(this.reporter=r,n.optional&&e===void 0)if(n.default!==null)e=n.default;else return;let o=null,u=!1;if(n.any)a=this._createEncoderBuffer(e);else if(n.choice)a=this._encodeChoice(e,r);else if(n.contains)o=this._getUse(n.contains,i)._encode(e,r),u=!0;else if(n.children)o=n.children.map(function(p){if(p._baseState.tag==="null_")return p._encode(null,r,e);if(p._baseState.key===null)return r.error("Child should have a key");let _=r.enterKey(p._baseState.key);if(typeof e!="object")return r.error("Child expected, but input is not object");let b=p._encode(e[p._baseState.key],r,e);return r.leaveKey(_),b},this).filter(function(p){return p}),o=this._createEncoderBuffer(o);else if(n.tag==="seqof"||n.tag==="setof"){if(!(n.args&&n.args.length===1))return r.error("Too many args for : "+n.tag);if(!Array.isArray(e))return r.error("seqof/setof, but data is not Array");let p=this.clone();p._baseState.implicit=null,o=this._createEncoderBuffer(e.map(function(_){let b=this._baseState;return this._getUse(b.args[0],e)._encode(_,r)},p))}else n.use!==null?a=this._getUse(n.use,i)._encode(e,r):(o=this._encodePrimitive(n.tag,e),u=!0);if(!n.any&&n.choice===null){let p=n.implicit!==null?n.implicit:n.tag,_=n.implicit===null?"universal":"context";p===null?n.use===null&&r.error("Tag could be omitted only for .use()"):n.use===null&&(a=this._encodeComposite(p,u,_,o))}return n.explicit!==null&&(a=this._encodeComposite(n.explicit,!1,"context",a)),a};Je.prototype._encodeChoice=function(e,r){let i=this._baseState,n=i.choice[e.type];return n||Ct(!1,e.type+" not found in "+JSON.stringify(Object.keys(i.choice))),n._encode(e.value,r)};Je.prototype._encodePrimitive=function(e,r){let i=this._baseState;if(/str$/.test(e))return this._encodeStr(r,e);if(e==="objid"&&i.args)return this._encodeObjid(r,i.reverseArgs[0],i.args[1]);if(e==="objid")return this._encodeObjid(r,null,null);if(e==="gentime"||e==="utctime")return this._encodeTime(r,e);if(e==="null_")return this._encodeNull();if(e==="int"||e==="enum")return this._encodeInt(r,i.args&&i.reverseArgs[0]);if(e==="bool")return this._encodeBool(r);if(e==="objDesc")return this._encodeStr(r,e);throw new Error("Unsupported tag: "+e)};Je.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)};Je.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)}});var Gh=l(Cn=>{"use strict";function nK(t){let e={};return Object.keys(t).forEach(function(r){(r|0)==r&&(r=r|0);let i=t[r];e[i]=r}),e}Cn.tagClass={0:"universal",1:"application",2:"context",3:"private"};Cn.tagClassByName=nK(Cn.tagClass);Cn.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"};Cn.tagByName=nK(Cn.tag)});var E0=l((Yct,sK)=>{"use strict";var HEe=Lt(),mi=Fh().Buffer,aK=Uh(),b0=Gh();function oK(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new Or,this.tree._init(t.body)}sK.exports=oK;oK.prototype.encode=function(e,r){return this.tree._encode(e,r).join()};function Or(t){aK.call(this,"der",t)}HEe(Or,aK);Or.prototype._encodeComposite=function(e,r,i,n){let a=UEe(e,r,i,this.reporter);if(n.length<128){let p=mi.alloc(2);return p[0]=a,p[1]=n.length,this._createEncoderBuffer([p,n])}let o=1;for(let p=n.length;p>=256;p>>=8)o++;let u=mi.alloc(2+o);u[0]=a,u[1]=128|o;for(let p=1+o,_=n.length;_>0;p--,_>>=8)u[p]=_&255;return this._createEncoderBuffer([u,n])};Or.prototype._encodeStr=function(e,r){if(r==="bitstr")return this._createEncoderBuffer([e.unused|0,e.data]);if(r==="bmpstr"){let i=mi.alloc(e.length*2);for(let n=0;n<e.length;n++)i.writeUInt16BE(e.charCodeAt(n),n*2);return this._createEncoderBuffer(i)}else return r==="numstr"?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):r==="printstr"?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(r)?this._createEncoderBuffer(e):r==="objDesc"?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+r+" unsupported")};Or.prototype._encodeObjid=function(e,r,i){if(typeof e=="string"){if(!r)return this.reporter.error("string objid given, but no values map found");if(!r.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=r[e].split(/[\s.]+/g);for(let u=0;u<e.length;u++)e[u]|=0}else if(Array.isArray(e)){e=e.slice();for(let u=0;u<e.length;u++)e[u]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!i){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,e[0]*40+e[1])}let n=0;for(let u=0;u<e.length;u++){let p=e[u];for(n++;p>=128;p>>=7)n++}let a=mi.alloc(n),o=a.length-1;for(let u=e.length-1;u>=0;u--){let p=e[u];for(a[o--]=p&127;(p>>=7)>0;)a[o--]=128|p&127}return this._createEncoderBuffer(a)};function pr(t){return t<10?"0"+t:t}Or.prototype._encodeTime=function(e,r){let i,n=new Date(e);return r==="gentime"?i=[pr(n.getUTCFullYear()),pr(n.getUTCMonth()+1),pr(n.getUTCDate()),pr(n.getUTCHours()),pr(n.getUTCMinutes()),pr(n.getUTCSeconds()),"Z"].join(""):r==="utctime"?i=[pr(n.getUTCFullYear()%100),pr(n.getUTCMonth()+1),pr(n.getUTCDate()),pr(n.getUTCHours()),pr(n.getUTCMinutes()),pr(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+r+" time is not supported yet"),this._encodeStr(i,"octstr")};Or.prototype._encodeNull=function(){return this._createEncoderBuffer("")};Or.prototype._encodeInt=function(e,r){if(typeof e=="string"){if(!r)return this.reporter.error("String int or enum given, but no values map");if(!r.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=r[e]}if(typeof e!="number"&&!mi.isBuffer(e)){let a=e.toArray();!e.sign&&a[0]&128&&a.unshift(0),e=mi.from(a)}if(mi.isBuffer(e)){let a=e.length;e.length===0&&a++;let o=mi.alloc(a);return e.copy(o),e.length===0&&(o[0]=0),this._createEncoderBuffer(o)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);let i=1;for(let a=e;a>=256;a>>=8)i++;let n=new Array(i);for(let a=n.length-1;a>=0;a--)n[a]=e&255,e>>=8;return n[0]&128&&n.unshift(0),this._createEncoderBuffer(mi.from(n))};Or.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)};Or.prototype._use=function(e,r){return typeof e=="function"&&(e=e(r)),e._getEncoder("der").tree};Or.prototype._skipDefault=function(e,r,i){let n=this._baseState,a;if(n.default===null)return!1;let o=e.join();if(n.defaultBuffer===void 0&&(n.defaultBuffer=this._encodeValue(n.default,r,i).join()),o.length!==n.defaultBuffer.length)return!1;for(a=0;a<o.length;a++)if(o[a]!==n.defaultBuffer[a])return!1;return!0};function UEe(t,e,r,i){let n;if(t==="seqof"?t="seq":t==="setof"&&(t="set"),b0.tagByName.hasOwnProperty(t))n=b0.tagByName[t];else if(typeof t=="number"&&(t|0)===t)n=t;else return i.error("Unknown tag: "+t);return n>=31?i.error("Multi-octet tag encoding unsupported"):(e||(n|=32),n|=b0.tagClassByName[r||"universal"]<<6,n)}});var lK=l((Xct,uK)=>{"use strict";var GEe=Lt(),A0=E0();function M0(t){A0.call(this,t),this.enc="pem"}GEe(M0,A0);uK.exports=M0;M0.prototype.encode=function(e,r){let n=A0.prototype.encode.call(this,e).toString("base64"),a=["-----BEGIN "+r.label+"-----"];for(let o=0;o<n.length;o+=64)a.push(n.slice(o,o+64));return a.push("-----END "+r.label+"-----"),a.join(`
`)}});var S0=l(fK=>{"use strict";var cK=fK;cK.der=E0();cK.pem=lK()});var O0=l(($ct,yK)=>{"use strict";var jEe=Lt(),zEe=_0(),pK=Ba().DecoderBuffer,hK=Uh(),dK=Gh();function mK(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new Vt,this.tree._init(t.body)}yK.exports=mK;mK.prototype.decode=function(e,r){return pK.isDecoderBuffer(e)||(e=new pK(e,r)),this.tree._decode(e,r)};function Vt(t){hK.call(this,"der",t)}jEe(Vt,hK);Vt.prototype._peekTag=function(e,r,i){if(e.isEmpty())return!1;let n=e.save(),a=I0(e,'Failed to peek tag: "'+r+'"');return e.isError(a)?a:(e.restore(n),a.tag===r||a.tagStr===r||a.tagStr+"of"===r||i)};Vt.prototype._decodeTag=function(e,r,i){let n=I0(e,'Failed to decode tag of "'+r+'"');if(e.isError(n))return n;let a=vK(e,n.primitive,'Failed to get length of "'+r+'"');if(e.isError(a))return a;if(!i&&n.tag!==r&&n.tagStr!==r&&n.tagStr+"of"!==r)return e.error('Failed to match tag: "'+r+'"');if(n.primitive||a!==null)return e.skip(a,'Failed to match body of: "'+r+'"');let o=e.save(),u=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(u)?u:(a=e.offset-o.offset,e.restore(o),e.skip(a,'Failed to match body of: "'+r+'"'))};Vt.prototype._skipUntilEnd=function(e,r){for(;;){let i=I0(e,r);if(e.isError(i))return i;let n=vK(e,i.primitive,r);if(e.isError(n))return n;let a;if(i.primitive||n!==null?a=e.skip(n):a=this._skipUntilEnd(e,r),e.isError(a))return a;if(i.tagStr==="end")break}};Vt.prototype._decodeList=function(e,r,i,n){let a=[];for(;!e.isEmpty();){let o=this._peekTag(e,"end");if(e.isError(o))return o;let u=i.decode(e,"der",n);if(e.isError(u)&&o)break;a.push(u)}return a};Vt.prototype._decodeStr=function(e,r){if(r==="bitstr"){let i=e.readUInt8();return e.isError(i)?i:{unused:i,data:e.raw()}}else if(r==="bmpstr"){let i=e.raw();if(i.length%2===1)return e.error("Decoding of string type: bmpstr length mismatch");let n="";for(let a=0;a<i.length/2;a++)n+=String.fromCharCode(i.readUInt16BE(a*2));return n}else if(r==="numstr"){let i=e.raw().toString("ascii");return this._isNumstr(i)?i:e.error("Decoding of string type: numstr unsupported characters")}else{if(r==="octstr")return e.raw();if(r==="objDesc")return e.raw();if(r==="printstr"){let i=e.raw().toString("ascii");return this._isPrintstr(i)?i:e.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(r)?e.raw().toString():e.error("Decoding of string type: "+r+" unsupported")}};Vt.prototype._decodeObjid=function(e,r,i){let n,a=[],o=0,u=0;for(;!e.isEmpty();)u=e.readUInt8(),o<<=7,o|=u&127,u&128||(a.push(o),o=0);u&128&&a.push(o);let p=a[0]/40|0,_=a[0]%40;if(i?n=a:n=[p,_].concat(a.slice(1)),r){let b=r[n.join(" ")];b===void 0&&(b=r[n.join(".")]),b!==void 0&&(n=b)}return n};Vt.prototype._decodeTime=function(e,r){let i=e.raw().toString(),n,a,o,u,p,_;if(r==="gentime")n=i.slice(0,4)|0,a=i.slice(4,6)|0,o=i.slice(6,8)|0,u=i.slice(8,10)|0,p=i.slice(10,12)|0,_=i.slice(12,14)|0;else if(r==="utctime")n=i.slice(0,2)|0,a=i.slice(2,4)|0,o=i.slice(4,6)|0,u=i.slice(6,8)|0,p=i.slice(8,10)|0,_=i.slice(10,12)|0,n<70?n=2e3+n:n=1900+n;else return e.error("Decoding "+r+" time is not supported yet");return Date.UTC(n,a-1,o,u,p,_,0)};Vt.prototype._decodeNull=function(){return null};Vt.prototype._decodeBool=function(e){let r=e.readUInt8();return e.isError(r)?r:r!==0};Vt.prototype._decodeInt=function(e,r){let i=e.raw(),n=new zEe(i);return r&&(n=r[n.toString(10)]||n),n};Vt.prototype._use=function(e,r){return typeof e=="function"&&(e=e(r)),e._getDecoder("der").tree};function I0(t,e){let r=t.readUInt8(e);if(t.isError(r))return r;let i=dK.tagClass[r>>6],n=(r&32)===0;if((r&31)===31){let o=r;for(r=0;(o&128)===128;){if(o=t.readUInt8(e),t.isError(o))return o;r<<=7,r|=o&127}}else r&=31;let a=dK.tag[r];return{cls:i,primitive:n,tag:r,tagStr:a}}function vK(t,e,r){let i=t.readUInt8(r);if(t.isError(i))return i;if(!e&&i===128)return null;if(!(i&128))return i;let n=i&127;if(n>4)return t.error("length octect is too long");i=0;for(let a=0;a<n;a++){i<<=8;let o=t.readUInt8(r);if(t.isError(o))return o;i|=o}return i}});var gK=l((Qct,_K)=>{"use strict";var WEe=Lt(),VEe=Fh().Buffer,P0=O0();function T0(t){P0.call(this,t),this.enc="pem"}WEe(T0,P0);_K.exports=T0;T0.prototype.decode=function(e,r){let i=e.toString().split(/[\r\n]+/g),n=r.label.toUpperCase(),a=/^-----(BEGIN|END) ([^-]+)-----$/,o=-1,u=-1;for(let b=0;b<i.length;b++){let A=i[b].match(a);if(A!==null&&A[2]===n)if(o===-1){if(A[1]!=="BEGIN")break;o=b}else{if(A[1]!=="END")break;u=b;break}}if(o===-1||u===-1)throw new Error("PEM section not found for: "+n);let p=i.slice(o+1,u).join("");p.replace(/[^a-z0-9+/=]+/gi,"");let _=VEe.from(p,"base64");return P0.prototype.decode.call(this,_,r)}});var N0=l(wK=>{"use strict";var xK=wK;xK.der=O0();xK.pem=gK()});var bK=l(qK=>{"use strict";var YEe=S0(),XEe=N0(),ZEe=Lt(),$Ee=qK;$Ee.define=function(e,r){return new Ha(e,r)};function Ha(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}Ha.prototype._createNamed=function(e){let r=this.name;function i(n){this._initNamed(n,r)}return ZEe(i,e),i.prototype._initNamed=function(a,o){e.call(this,a,o)},new i(this)};Ha.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(XEe[e])),this.decoders[e]};Ha.prototype.decode=function(e,r,i){return this._getDecoder(r).decode(e,i)};Ha.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(YEe[e])),this.encoders[e]};Ha.prototype.encode=function(e,r,i){return this._getEncoder(r).encode(e,i)}});var AK=l(EK=>{"use strict";var jh=EK;jh.Reporter=Bh().Reporter;jh.DecoderBuffer=Ba().DecoderBuffer;jh.EncoderBuffer=Ba().EncoderBuffer;jh.Node=Uh()});var IK=l(SK=>{"use strict";var MK=SK;MK._reverse=function(e){let r={};return Object.keys(e).forEach(function(i){(i|0)==i&&(i=i|0);let n=e[i];r[n]=i}),r};MK.der=Gh()});var C0=l(OK=>{"use strict";var Ua=OK;Ua.bignum=_0();Ua.define=bK().define;Ua.base=AK();Ua.constants=IK();Ua.decoders=N0();Ua.encoders=S0()});var TK=l(Wr=>{"use strict";var QEe=Wr&&Wr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Wr,"__esModule",{value:!0});Wr.chunk64=Wr.privateKeyPem=Wr.publicKeyPem=void 0;var PK=QEe(C0()),JEe=PK.default.define("Rfc5915Key",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).objid({"1 2 840 10045 3 1 7":"prime256v1","1 3 132 0 34":"secp384r1"}),this.key("publicKey").optional().explicit(1).bitstr())}),eAe=PK.default.define("SpkiKey",function(){this.seq().obj(this.key("algorithmIdentifier").seq().obj(this.key("publicKeyType").objid({"1 2 840 10045 2 1":"EC"}),this.key("parameters").objid({"1 2 840 10045 3 1 7":"prime256v1","1 3 132 0 34":"secp384r1"})),this.key("publicKey").bitstr())});function tAe(t,e){let r=eAe.encode({algorithmIdentifier:{publicKeyType:"EC",parameters:t},publicKey:{data:e}},"der");return["-----BEGIN PUBLIC KEY-----",...D0(r),"-----END PUBLIC KEY-----",""].join(`
`)}Wr.publicKeyPem=tAe;function rAe(t,e,r){let i=JEe.encode({version:1,privateKey:e,parameters:t,publicKey:{data:r}},"der");return["-----BEGIN EC PRIVATE KEY-----",...D0(i),"-----END EC PRIVATE KEY-----",""].join(`
`)}Wr.privateKeyPem=rAe;function D0(t){let r=t.toString("base64"),i=Math.ceil(r.length/64),n=new Array(i);for(let a=0,o=0;a<i;++a,o+=64)n[a]=r.slice(o,o+64);return n}Wr.chunk64=D0});var k0=l(Ga=>{"use strict";Object.defineProperty(Ga,"__esModule",{value:!0});Ga.VerificationKey=Ga.SignatureKey=void 0;var iAe=UL(),nAe=YL(),vi=Fi(),NK=TK(),zh=class t{constructor(e,r,i){let{signatureCurve:n}=i;if(!n)throw new Error("Unsupported Algorithm");if(e instanceof Uint8Array){let a=(0,NK.privateKeyPem)(n,R0(e),R0(r));(0,vi.readOnlyProperty)(this,"privateKey",a)}else(0,vi.readOnlyProperty)(this,"privateKey",e);(0,vi.readOnlyBinaryProperty)(this,"compressPoint",r),(0,vi.readOnlyProperty)(this,"signatureCurve",n),Object.setPrototypeOf(this,t.prototype),Object.freeze(this)}static encodeCompressPoint(e,r){let{signatureCurve:i}=r;if(!i)throw new Error("Unsupported Algorithm");return iAe.encodeNamedCurves[i](e)}};Ga.SignatureKey=zh;(0,vi.frozenClass)(zh);var Wh=class t{publicKey;signatureCurve;constructor(e,r){let{signatureCurve:i}=r;if(!i)throw new Error("Unsupported Algorithm");if(e instanceof Uint8Array){let n=(0,NK.publicKeyPem)(i,R0(e));(0,vi.readOnlyProperty)(this,"publicKey",n)}else(0,vi.readOnlyProperty)(this,"publicKey",e);(0,vi.readOnlyProperty)(this,"signatureCurve",i),Object.setPrototypeOf(this,t.prototype),Object.freeze(this)}static decodeCompressPoint(e,r){let{signatureCurve:i}=r;if(!i)throw new Error("Unsupported Algorithm");return nAe.decodeNamedCurves[i](e)}};Ga.VerificationKey=Wh;(0,vi.frozenClass)(Wh);function R0(t){let{buffer:e,byteOffset:r,byteLength:i}=t;return Buffer.from(e,r,i)}});var L0=l(Zs=>{"use strict";Object.defineProperty(Zs,"__esModule",{value:!0});Zs.KeyringTraceFlag=void 0;var aAe;(function(t){t[t.WRAPPING_KEY_GENERATED_DATA_KEY=1]="WRAPPING_KEY_GENERATED_DATA_KEY",t[t.WRAPPING_KEY_ENCRYPTED_DATA_KEY=2]="WRAPPING_KEY_ENCRYPTED_DATA_KEY",t[t.WRAPPING_KEY_DECRYPTED_DATA_KEY=4]="WRAPPING_KEY_DECRYPTED_DATA_KEY",t[t.WRAPPING_KEY_SIGNED_ENC_CTX=8]="WRAPPING_KEY_SIGNED_ENC_CTX",t[t.WRAPPING_KEY_VERIFIED_ENC_CTX=16]="WRAPPING_KEY_VERIFIED_ENC_CTX",t[t.ENCRYPT_FLAGS=10]="ENCRYPT_FLAGS",t[t.SET_FLAGS=5]="SET_FLAGS",t[t.DECRYPT_FLAGS=20]="DECRYPT_FLAGS"})(aAe=Zs.KeyringTraceFlag||(Zs.KeyringTraceFlag={}))});var yi=l(Fe=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});Fe.wrapWithKeyObjectIfSupported=Fe.unwrapDataKey=Fe.subtleFunctionForMaterial=Fe.keyUsageForMaterial=Fe.isValidCryptoKey=Fe.isCryptoKey=Fe.decorateWebCryptoMaterial=Fe.decorateDecryptionMaterial=Fe.decorateEncryptionMaterial=Fe.decorateCryptographicMaterial=Fe.isDecryptionMaterial=Fe.isEncryptionMaterial=Fe.WebCryptoDecryptionMaterial=Fe.WebCryptoEncryptionMaterial=Fe.NodeDecryptionMaterial=Fe.NodeEncryptionMaterial=Fe.supportsKeyObject=void 0;var oAe=Lh(),CK=k0(),dr=Fi(),Yt=L0(),DK=Dh(),RK=m0(),Be=Ir();Fe.supportsKeyObject=function(){try{let{KeyObject:t,createSecretKey:e}=require("crypto");return!t||!e?!1:{KeyObject:t,createSecretKey:e}}catch{return!1}}();var sAe=function(){try{let{timingSafeEqual:e}=require("crypto");return e||t}catch{return t}function t(e,r){if(e.byteLength!==r.byteLength)return!1;let i=0;for(let n=0;n<r.length;n++)i|=e[n]^r[n];return i===0}}(),$s=class t{suite;setUnencryptedDataKey;getUnencryptedDataKey;zeroUnencryptedDataKey;hasUnencryptedDataKey;keyringTrace=[];encryptedDataKeys;addEncryptedDataKey;setSignatureKey;signatureKey;encryptionContext;constructor(e,r){(0,Be.needs)(e instanceof DK.NodeAlgorithmSuite,"Suite must be a NodeAlgorithmSuite"),this.suite=e,(0,Be.needs)(r&&typeof r=="object","Encryption context must be set"),this.encryptionContext=Object.freeze({...r});let i=Yt.KeyringTraceFlag.WRAPPING_KEY_GENERATED_DATA_KEY;Js(this,i),F0(this),Object.setPrototypeOf(this,t.prototype),Object.freeze(this)}hasValidKey(){return this.hasUnencryptedDataKey}};Fe.NodeEncryptionMaterial=$s;(0,dr.frozenClass)($s);var Qs=class t{suite;setUnencryptedDataKey;getUnencryptedDataKey;zeroUnencryptedDataKey;hasUnencryptedDataKey;keyringTrace=[];setVerificationKey;verificationKey;encryptionContext;constructor(e,r){(0,Be.needs)(e instanceof DK.NodeAlgorithmSuite,"Suite must be a NodeAlgorithmSuite"),this.suite=e,(0,Be.needs)(r&&typeof r=="object","Encryption context must be set"),this.encryptionContext=Object.freeze({...r});let i=Yt.KeyringTraceFlag.WRAPPING_KEY_DECRYPTED_DATA_KEY;Js(this,i),B0(this),Object.setPrototypeOf(this,t.prototype),Object.freeze(this)}hasValidKey(){return this.hasUnencryptedDataKey}};Fe.NodeDecryptionMaterial=Qs;(0,dr.frozenClass)(Qs);var ja=class t{suite;setUnencryptedDataKey;getUnencryptedDataKey;zeroUnencryptedDataKey;hasUnencryptedDataKey;keyringTrace=[];encryptedDataKeys;addEncryptedDataKey;setSignatureKey;signatureKey;setCryptoKey;getCryptoKey;hasCryptoKey;validUsages;encryptionContext;constructor(e,r){(0,Be.needs)(e instanceof RK.WebCryptoAlgorithmSuite,"Suite must be a WebCryptoAlgorithmSuite"),this.suite=e,this.validUsages=Object.freeze(["deriveKey","encrypt"]),(0,Be.needs)(r&&typeof r=="object","Encryption context must be set"),this.encryptionContext=Object.freeze({...r});let i=Yt.KeyringTraceFlag.WRAPPING_KEY_GENERATED_DATA_KEY;Js(this,i),F0(this),H0(this,i),Object.setPrototypeOf(this,t.prototype),Object.freeze(this)}hasValidKey(){return this.hasUnencryptedDataKey&&this.hasCryptoKey}};Fe.WebCryptoEncryptionMaterial=ja;(0,dr.frozenClass)(ja);var za=class t{suite;setUnencryptedDataKey;getUnencryptedDataKey;zeroUnencryptedDataKey;hasUnencryptedDataKey;keyringTrace=[];setVerificationKey;verificationKey;setCryptoKey;getCryptoKey;hasCryptoKey;validUsages;encryptionContext;constructor(e,r){(0,Be.needs)(e instanceof RK.WebCryptoAlgorithmSuite,"Suite must be a WebCryptoAlgorithmSuite"),this.suite=e,this.validUsages=Object.freeze(["deriveKey","decrypt"]),(0,Be.needs)(r&&typeof r=="object","Encryption context must be set"),this.encryptionContext=Object.freeze({...r});let i=Yt.KeyringTraceFlag.WRAPPING_KEY_DECRYPTED_DATA_KEY;Js(this,i),B0(this),H0(this,i),Object.setPrototypeOf(this,t.prototype),Object.freeze(this)}hasValidKey(){return this.hasCryptoKey}};Fe.WebCryptoDecryptionMaterial=za;(0,dr.frozenClass)(za);function uAe(t){return t instanceof ja||t instanceof $s}Fe.isEncryptionMaterial=uAe;function lAe(t){return t instanceof za||t instanceof Qs}Fe.isDecryptionMaterial=lAe;function Js(t,e){(0,Be.needs)(e&Yt.KeyringTraceFlag.SET_FLAGS,"Invalid setFlag");let r=Yt.KeyringTraceFlag.SET_FLAGS^e|(e===Yt.KeyringTraceFlag.WRAPPING_KEY_GENERATED_DATA_KEY?Yt.KeyringTraceFlag.DECRYPT_FLAGS:e===Yt.KeyringTraceFlag.WRAPPING_KEY_DECRYPTED_DATA_KEY?Yt.KeyringTraceFlag.ENCRYPT_FLAGS:0),i=!1,n,a,o=(b,A)=>{let S=b instanceof Uint8Array?b:K0(b);return _(S,A),n=LK(b),a=new Uint8Array(S),t.keyringTrace.push(A),t},u=()=>((0,Be.needs)(n,"unencryptedDataKey has not been set"),(0,Be.needs)(!i,"unencryptedDataKey has been zeroed."),(0,Be.needs)(!(n instanceof Uint8Array)||sAe(a,K0(n)),"unencryptedDataKey has been corrupted."),n);Object.defineProperty(t,"hasUnencryptedDataKey",{get:()=>!!n&&!i,enumerable:!0});let p=()=>{let b=0;return n||(n=new Uint8Array,b+=1),a||(a=new Uint8Array,b+=1),n instanceof Uint8Array||(n=new Uint8Array),n.fill(0),a.fill(0),i=!0,(0,Be.needs)(b===0||b===2,"Either unencryptedDataKey or udkForVerification was not set."),t};return(0,dr.readOnlyProperty)(t,"setUnencryptedDataKey",o),(0,dr.readOnlyProperty)(t,"getUnencryptedDataKey",u),(0,dr.readOnlyProperty)(t,"zeroUnencryptedDataKey",p),t;function _(b,A){(0,Be.needs)(!n,"unencryptedDataKey has already been set"),(0,Be.needs)(b instanceof Uint8Array,"dataKey must be a Uint8Array"),(0,Be.needs)(b.byteOffset===0,"Unencrypted Master Key must be an isolated buffer."),(0,Be.needs)(b.byteLength===t.suite.keyLengthBytes,"Key length does not agree with the algorithm specification."),(0,Be.needs)(A&&A.keyName&&A.keyNamespace,"Malformed KeyringTrace"),(0,Be.needs)(A.flags&e,"Required KeyringTraceFlag not set"),(0,Be.needs)(!(A.flags&r),"Invalid KeyringTraceFlags set.")}}Fe.decorateCryptographicMaterial=Js;function F0(t){let e=Yt.KeyringTraceFlag.SET_FLAGS|Yt.KeyringTraceFlag.DECRYPT_FLAGS,r=[],i,n=(o,u)=>((0,Be.needs)(t.hasUnencryptedDataKey,"Unencrypted data key not set."),(0,Be.needs)(o instanceof oAe.EncryptedDataKey,"Unsupported instance of encryptedDataKey"),(0,Be.needs)(u&Yt.KeyringTraceFlag.WRAPPING_KEY_ENCRYPTED_DATA_KEY,"Encrypted data key flag must be set."),(0,Be.needs)(!(u&e),"Invalid flag for EncryptedDataKey."),t.keyringTrace.push({keyName:o.providerInfo,keyNamespace:o.providerId,flags:u}),r.push(o),t);(0,dr.readOnlyProperty)(t,"addEncryptedDataKey",n),Object.defineProperty(t,"encryptedDataKeys",{get:()=>[...r],enumerable:!0});let a=o=>((0,Be.needs)(t.suite.signatureCurve,"Algorithm specification does not support signatures."),(0,Be.needs)(!i,"Signature key has already been set."),(0,Be.needs)(o instanceof CK.SignatureKey,"Unsupported instance of key"),i=o,t);return(0,dr.readOnlyProperty)(t,"setSignatureKey",a),Object.defineProperty(t,"signatureKey",{get:()=>((0,Be.needs)(!!t.suite.signatureCurve==!!i,"Algorithm specification not satisfied."),i),enumerable:!0}),t}Fe.decorateEncryptionMaterial=F0;function B0(t){let e,r=i=>((0,Be.needs)(t.suite.signatureCurve,"Algorithm specification does not support signatures."),(0,Be.needs)(!e,"Verification key has already been set."),(0,Be.needs)(i instanceof CK.VerificationKey,"Unsupported instance of key"),e=i,t);return(0,dr.readOnlyProperty)(t,"setVerificationKey",r),Object.defineProperty(t,"verificationKey",{get:()=>((0,Be.needs)(!!t.suite.signatureCurve==!!e,"Algorithm specification not satisfied."),e),enumerable:!0}),t}Fe.decorateDecryptionMaterial=B0;function H0(t,e){let r,i=(a,o)=>{if((0,Be.needs)(!r,"cryptoKey is already set."),(0,Be.needs)(Wa(a)||cAe(a),"Unsupported dataKey type."),(0,Be.needs)(Vh(a,t),"CryptoKey settings not acceptable."),t.hasUnencryptedDataKey||((0,Be.needs)(o&&o.keyName&&o.keyNamespace,"Malformed KeyringTrace"),(0,Be.needs)(o.flags&e,"Required KeyringTraceFlag not set"),t.zeroUnencryptedDataKey(),t.keyringTrace.push(o)),Wa(a))r=a;else{let{zeroByteCryptoKey:u,nonZeroByteCryptoKey:p}=a;r=Object.freeze({zeroByteCryptoKey:u,nonZeroByteCryptoKey:p})}return t};(0,dr.readOnlyProperty)(t,"setCryptoKey",i);let n=()=>((0,Be.needs)(r,"Crypto key is not set."),r);return(0,dr.readOnlyProperty)(t,"getCryptoKey",n),Object.defineProperty(t,"hasCryptoKey",{get:()=>!!r,enumerable:!0}),t}Fe.decorateWebCryptoMaterial=H0;function Wa(t){return t&&"algorithm"in t&&"type"in t&&"usages"in t&&"extractable"in t}Fe.isCryptoKey=Wa;function Vh(t,e){if(!Wa(t)){let{zeroByteCryptoKey:C,nonZeroByteCryptoKey:N}=t;return Vh(C,e)&&Vh(N,e)}let{suite:r,validUsages:i}=e,{encryption:n,keyLength:a,kdf:o}=r,{type:u,algorithm:p,usages:_,extractable:b}=t,{name:A,length:S}=p;return u==="secret"&&(o&&A.toUpperCase()===o||A.toUpperCase()===n&&S===a)&&_.some(C=>i.includes(C))&&!b}Fe.isValidCryptoKey=Vh;function cAe(t){let{zeroByteCryptoKey:e,nonZeroByteCryptoKey:r}=t;return Wa(e)&&Wa(r)}function fAe(t){let{suite:e}=t;return e.kdf?"deriveKey":kK(t)}Fe.keyUsageForMaterial=fAe;function kK(t){if(t instanceof ja)return"encrypt";if(t instanceof za)return"decrypt";throw new Error("Unsupported material")}Fe.subtleFunctionForMaterial=kK;function K0(t){if(t instanceof Uint8Array)return t;if(Fe.supportsKeyObject&&t instanceof Fe.supportsKeyObject.KeyObject)return t.export();throw new Error("Unsupported dataKey type")}Fe.unwrapDataKey=K0;function LK(t){if(Fe.supportsKeyObject){if(t instanceof Uint8Array){let e=Fe.supportsKeyObject.createSecretKey(t);return t.fill(0),e}if(t instanceof Fe.supportsKeyObject.KeyObject)return t}else if(t instanceof Uint8Array)return t;throw new Error("Unsupported dataKey type")}Fe.wrapWithKeyObjectIfSupported=LK});var G0=l(Bi=>{"use strict";Object.defineProperty(Bi,"__esModule",{value:!0});Bi.KeyringWebCrypto=Bi.KeyringNode=Bi.Keyring=void 0;var pAe=Lh(),U0=Fi(),KK=yi(),eu=Ir(),Va=class{async onEncrypt(e){(0,eu.needs)((0,KK.isEncryptionMaterial)(e),"Unsupported type of material.");let r=await this._onEncrypt(e);return(0,eu.needs)(e===r,"New EncryptionMaterial instances can not be created."),e}async onDecrypt(e,r){if((0,eu.needs)((0,KK.isDecryptionMaterial)(e),"Unsupported material type."),e.hasValidKey())return e;(0,eu.needs)(r.every(n=>n instanceof pAe.EncryptedDataKey),"Unsupported EncryptedDataKey type");let i=await this._onDecrypt(e,r);return(0,eu.needs)(e===i,"New DecryptionMaterial instances can not be created."),e}};Bi.Keyring=Va;(0,U0.immutableBaseClass)(Va);var Yh=class extends Va{};Bi.KeyringNode=Yh;(0,U0.immutableClass)(Yh);var Xh=class extends Va{};Bi.KeyringWebCrypto=Xh;(0,U0.immutableClass)(Xh)});var UK=l(Xa=>{"use strict";Object.defineProperty(Xa,"__esModule",{value:!0});Xa.MultiKeyringWebCrypto=Xa.MultiKeyringNode=void 0;var Zh=Fi(),$h=G0(),Ya=Ir(),Qh=class extends $h.KeyringNode{generator;children;constructor(e){super(),FK(this,$h.KeyringNode,e)}_onEncrypt=BK();_onDecrypt=HK()};Xa.MultiKeyringNode=Qh;(0,Zh.immutableClass)(Qh);var Jh=class extends $h.KeyringWebCrypto{constructor(e){super(),FK(this,$h.KeyringWebCrypto,e)}_onEncrypt=BK();_onDecrypt=HK()};Xa.MultiKeyringWebCrypto=Jh;(0,Zh.immutableClass)(Jh);function FK(t,e,{generator:r,children:i=[]}){(0,Ya.needs)(r||i.length,"Noop MultiKeyring is not supported."),(0,Ya.needs)(!!r==r instanceof e,"Generator must be a Keyring"),(0,Ya.needs)(i.every(n=>n instanceof e),"Child must be a Keyring"),(0,Zh.readOnlyProperty)(t,"children",Object.freeze(i.slice())),(0,Zh.readOnlyProperty)(t,"generator",r)}function BK(){return async function(e){(0,Ya.needs)(e.hasUnencryptedDataKey?!0:this.generator,"Only Keyrings explicitly designated as generators can generate material.");let r=this.generator?await this.generator.onEncrypt(e):e;(0,Ya.needs)(r.hasUnencryptedDataKey,"Generator Keyring has not generated material.");for(let i of this.children)await i.onEncrypt(r);return r}}function HK(){return async function(e,r){let i=this.children.slice();this.generator&&i.unshift(this.generator);let n=[];for(let a of i){if(e.hasValidKey())return e;try{await a.onDecrypt(e,r)}catch(o){n.push({errPlus:o})}}return(0,Ya.needs)(e.hasValidKey()||!e.hasValidKey()&&!n.length,n.reduce((a,o,u)=>`${a} Error #${u+1} 
 ${o.errPlus.stack} 
`,`Unable to decrypt data key and one or more child keyrings had an error. 
 `)),e}}});var jK=l(GK=>{"use strict";Object.defineProperty(GK,"__esModule",{value:!0})});var zK=l(em=>{"use strict";Object.defineProperty(em,"__esModule",{value:!0});em.cloneMaterial=void 0;var Vr=yi(),dAe=Dh(),j0=Ir();function hAe(t){let{suite:e,encryptionContext:r}=t,i=e instanceof dAe.NodeAlgorithmSuite?t instanceof Vr.NodeEncryptionMaterial?new Vr.NodeEncryptionMaterial(e,r):new Vr.NodeDecryptionMaterial(e,r):t instanceof Vr.WebCryptoEncryptionMaterial?new Vr.WebCryptoEncryptionMaterial(e,r):new Vr.WebCryptoDecryptionMaterial(e,r),[n,...a]=t.keyringTrace.slice();if(t.hasUnencryptedDataKey){let o=mAe(t.getUnencryptedDataKey());i.setUnencryptedDataKey(o,n)}if(t.hasCryptoKey){let o=t.getCryptoKey();i.setCryptoKey(o,n)}if((0,Vr.isEncryptionMaterial)(t)&&(0,Vr.isEncryptionMaterial)(i)){let o=t.encryptedDataKeys;(0,j0.needs)(o.length===a.length,"KeyringTrace length does not match encrypted data keys."),o.forEach((u,p)=>{let{providerInfo:_,providerId:b}=u,{keyNamespace:A,keyName:S,flags:C}=a[p];(0,j0.needs)(S===_&&A===b,"Keyring trace does not match encrypted data key."),i.addEncryptedDataKey(u,C)}),t.suite.signatureCurve&&t.signatureKey&&i.setSignatureKey(t.signatureKey)}else if((0,Vr.isDecryptionMaterial)(t)&&(0,Vr.isDecryptionMaterial)(i))(0,j0.needs)(!a.length,"Only 1 trace is valid on DecryptionMaterials."),t.suite.signatureCurve&&t.verificationKey&&i.setVerificationKey(t.verificationKey);else throw new Error("Material mismatch");return i}em.cloneMaterial=hAe;function mAe(t){return t instanceof Uint8Array?new Uint8Array(t):t}});var VK=l(WK=>{"use strict";Object.defineProperty(WK,"__esModule",{value:!0})});var YK=l(tm=>{"use strict";Object.defineProperty(tm,"__esModule",{value:!0});tm.NotSupported=void 0;var z0=class t extends Error{code;constructor(e){super(e),Object.setPrototypeOf(this,t.prototype),this.code="NOT_SUPPORTED"}};tm.NotSupported=z0});var je=l(U=>{"use strict";var vAe=U&&U.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),W0=U&&U.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&vAe(e,t,r)};Object.defineProperty(U,"__esModule",{value:!0});U.NotSupported=U.cloneMaterial=U.needs=U.readOnlyProperty=U.frozenClass=U.immutableClass=U.immutableBaseClass=U.EncryptedDataKey=U.VerificationKey=U.SignatureKey=U.decorateWebCryptoMaterial=U.decorateCryptographicMaterial=U.wrapWithKeyObjectIfSupported=U.unwrapDataKey=U.isDecryptionMaterial=U.isEncryptionMaterial=U.WebCryptoDecryptionMaterial=U.WebCryptoEncryptionMaterial=U.subtleFunctionForMaterial=U.keyUsageForMaterial=U.isCryptoKey=U.isValidCryptoKey=U.NodeDecryptionMaterial=U.NodeEncryptionMaterial=U.MultiKeyringWebCrypto=U.MultiKeyringNode=U.KeyringTraceFlag=U.NodeAlgorithmSuite=U.WebCryptoAlgorithmSuite=U.CommittingAlgorithmSuiteIdentifier=U.NonCommittingAlgorithmSuiteIdentifier=U.MessageFormat=U.SignaturePolicySuites=U.SignaturePolicy=U.CommitmentPolicySuites=U.CommitmentPolicy=U.AlgorithmSuite=U.AlgorithmSuiteIdentifier=void 0;var _i=Th();Object.defineProperty(U,"AlgorithmSuiteIdentifier",{enumerable:!0,get:function(){return _i.AlgorithmSuiteIdentifier}});Object.defineProperty(U,"AlgorithmSuite",{enumerable:!0,get:function(){return _i.AlgorithmSuite}});Object.defineProperty(U,"CommitmentPolicy",{enumerable:!0,get:function(){return _i.CommitmentPolicy}});Object.defineProperty(U,"CommitmentPolicySuites",{enumerable:!0,get:function(){return _i.CommitmentPolicySuites}});Object.defineProperty(U,"SignaturePolicy",{enumerable:!0,get:function(){return _i.SignaturePolicy}});Object.defineProperty(U,"SignaturePolicySuites",{enumerable:!0,get:function(){return _i.SignaturePolicySuites}});Object.defineProperty(U,"MessageFormat",{enumerable:!0,get:function(){return _i.MessageFormat}});Object.defineProperty(U,"NonCommittingAlgorithmSuiteIdentifier",{enumerable:!0,get:function(){return _i.NonCommittingAlgorithmSuiteIdentifier}});Object.defineProperty(U,"CommittingAlgorithmSuiteIdentifier",{enumerable:!0,get:function(){return _i.CommittingAlgorithmSuiteIdentifier}});var yAe=m0();Object.defineProperty(U,"WebCryptoAlgorithmSuite",{enumerable:!0,get:function(){return yAe.WebCryptoAlgorithmSuite}});var _Ae=Dh();Object.defineProperty(U,"NodeAlgorithmSuite",{enumerable:!0,get:function(){return _Ae.NodeAlgorithmSuite}});W0(G0(),U);var gAe=L0();Object.defineProperty(U,"KeyringTraceFlag",{enumerable:!0,get:function(){return gAe.KeyringTraceFlag}});var XK=UK();Object.defineProperty(U,"MultiKeyringNode",{enumerable:!0,get:function(){return XK.MultiKeyringNode}});Object.defineProperty(U,"MultiKeyringWebCrypto",{enumerable:!0,get:function(){return XK.MultiKeyringWebCrypto}});W0(jK(),U);var ZK=yi();Object.defineProperty(U,"NodeEncryptionMaterial",{enumerable:!0,get:function(){return ZK.NodeEncryptionMaterial}});Object.defineProperty(U,"NodeDecryptionMaterial",{enumerable:!0,get:function(){return ZK.NodeDecryptionMaterial}});var rm=yi();Object.defineProperty(U,"isValidCryptoKey",{enumerable:!0,get:function(){return rm.isValidCryptoKey}});Object.defineProperty(U,"isCryptoKey",{enumerable:!0,get:function(){return rm.isCryptoKey}});Object.defineProperty(U,"keyUsageForMaterial",{enumerable:!0,get:function(){return rm.keyUsageForMaterial}});Object.defineProperty(U,"subtleFunctionForMaterial",{enumerable:!0,get:function(){return rm.subtleFunctionForMaterial}});var $K=yi();Object.defineProperty(U,"WebCryptoEncryptionMaterial",{enumerable:!0,get:function(){return $K.WebCryptoEncryptionMaterial}});Object.defineProperty(U,"WebCryptoDecryptionMaterial",{enumerable:!0,get:function(){return $K.WebCryptoDecryptionMaterial}});var QK=yi();Object.defineProperty(U,"isEncryptionMaterial",{enumerable:!0,get:function(){return QK.isEncryptionMaterial}});Object.defineProperty(U,"isDecryptionMaterial",{enumerable:!0,get:function(){return QK.isDecryptionMaterial}});var JK=yi();Object.defineProperty(U,"unwrapDataKey",{enumerable:!0,get:function(){return JK.unwrapDataKey}});Object.defineProperty(U,"wrapWithKeyObjectIfSupported",{enumerable:!0,get:function(){return JK.wrapWithKeyObjectIfSupported}});var eF=yi();Object.defineProperty(U,"decorateCryptographicMaterial",{enumerable:!0,get:function(){return eF.decorateCryptographicMaterial}});Object.defineProperty(U,"decorateWebCryptoMaterial",{enumerable:!0,get:function(){return eF.decorateWebCryptoMaterial}});var tF=k0();Object.defineProperty(U,"SignatureKey",{enumerable:!0,get:function(){return tF.SignatureKey}});Object.defineProperty(U,"VerificationKey",{enumerable:!0,get:function(){return tF.VerificationKey}});var xAe=Lh();Object.defineProperty(U,"EncryptedDataKey",{enumerable:!0,get:function(){return xAe.EncryptedDataKey}});var im=Fi();Object.defineProperty(U,"immutableBaseClass",{enumerable:!0,get:function(){return im.immutableBaseClass}});Object.defineProperty(U,"immutableClass",{enumerable:!0,get:function(){return im.immutableClass}});Object.defineProperty(U,"frozenClass",{enumerable:!0,get:function(){return im.frozenClass}});Object.defineProperty(U,"readOnlyProperty",{enumerable:!0,get:function(){return im.readOnlyProperty}});var wAe=Ir();Object.defineProperty(U,"needs",{enumerable:!0,get:function(){return wAe.needs}});var qAe=zK();Object.defineProperty(U,"cloneMaterial",{enumerable:!0,get:function(){return qAe.cloneMaterial}});W0(VK(),U);var bAe=YK();Object.defineProperty(U,"NotSupported",{enumerable:!0,get:function(){return bAe.NotSupported}})});var Za=l(et=>{"use strict";Object.defineProperty(et,"__esModule",{value:!0});et.MESSAGE_ID_LENGTH=et.MessageIdLength=et.FRAME_LENGTH=et.Maximum=et.SequenceIdentifier=et.ObjectType=et.ContentAADString=et.ContentType=et.SerializationVersion=et.ENCODED_SIGNER_KEY=void 0;et.ENCODED_SIGNER_KEY="aws-crypto-public-key";var EAe=je();Object.defineProperty(et,"SerializationVersion",{enumerable:!0,get:function(){return EAe.MessageFormat}});var rF;(function(t){t[t.NO_FRAMING=1]="NO_FRAMING",t[t.FRAMED_DATA=2]="FRAMED_DATA"})(rF=et.ContentType||(et.ContentType={}));Object.freeze(rF);var iF;(function(t){t.FRAME_STRING_ID="AWSKMSEncryptionClient Frame",t.FINAL_FRAME_STRING_ID="AWSKMSEncryptionClient Final Frame",t.NON_FRAMED_STRING_ID="AWSKMSEncryptionClient Single Block"})(iF=et.ContentAADString||(et.ContentAADString={}));Object.freeze(iF);var nF;(function(t){t[t.CUSTOMER_AE_DATA=128]="CUSTOMER_AE_DATA"})(nF=et.ObjectType||(et.ObjectType={}));Object.freeze(nF);var aF;(function(t){t[t.SEQUENCE_NUMBER_END=4294967295]="SEQUENCE_NUMBER_END"})(aF=et.SequenceIdentifier||(et.SequenceIdentifier={}));Object.freeze(aF);var oF;(function(t){t[t.MESSAGES_PER_CACHED_KEY_LIMIT=4294967296]="MESSAGES_PER_CACHED_KEY_LIMIT",t[t.BYTES_PER_CACHED_KEY_LIMIT=9007199254740991]="BYTES_PER_CACHED_KEY_LIMIT",t[t.BYTES_PER_MESSAGE=9007199254740991]="BYTES_PER_MESSAGE",t[t.BYTES_PER_AES_GCM_NONCE=68719476704]="BYTES_PER_AES_GCM_NONCE",t[t.FRAME_COUNT=4294967295]="FRAME_COUNT",t[t.FRAME_SIZE=4294967295]="FRAME_SIZE",t[t.GCM_CONTENT_SIZE=4294967295]="GCM_CONTENT_SIZE",t[t.NON_FRAMED_SIZE=4294967295]="NON_FRAMED_SIZE",t[t.AAD_BYTE_SIZE=65535]="AAD_BYTE_SIZE"})(oF=et.Maximum||(et.Maximum={}));Object.freeze(oF);et.FRAME_LENGTH=4096;var V0;(function(t){t[t.V1=16]="V1",t[t.V2=32]="V2"})(V0=et.MessageIdLength||(et.MessageIdLength={}));Object.freeze(V0);et.MESSAGE_ID_LENGTH=V0.V1});var Dn=l(nm=>{"use strict";Object.defineProperty(nm,"__esModule",{value:!0});nm.concatBuffers=void 0;function AAe(...t){let e=t.reduce((n,a)=>n+a.byteLength,0),r=new Uint8Array(e),i=0;return t.forEach(n=>{if(ArrayBuffer.isView(n)){let{buffer:a,byteOffset:o,byteLength:u}=n;r.set(new Uint8Array(a,o,u),i)}else r.set(new Uint8Array(n),i);i+=n.byteLength}),r}nm.concatBuffers=AAe});var $a=l(Hi=>{"use strict";Object.defineProperty(Hi,"__esModule",{value:!0});Hi.uInt32BE=Hi.uInt16BE=Hi.uInt8=void 0;var Y0=je(),MAe=2**8;function SAe(t){(0,Y0.needs)(t<MAe&&t>=0,"number out of bounds.");let e=new Uint8Array(1);return new DataView(e.buffer,e.byteOffset,e.byteLength).setUint8(0,t),e}Hi.uInt8=SAe;var IAe=2**16;function OAe(t){(0,Y0.needs)(t<IAe&&t>=0,"number out of bounds.");let e=new Uint8Array(2);return new DataView(e.buffer,e.byteOffset,e.byteLength).setUint16(0,t,!1),e}Hi.uInt16BE=OAe;var PAe=2**32;function TAe(t){(0,Y0.needs)(t<PAe&&t>=0,"number out of bounds.");let e=new Uint8Array(4);return new DataView(e.buffer,e.byteOffset,e.byteLength).setUint32(0,t,!1),e}Hi.uInt32BE=TAe});var sF=l(Qa=>{"use strict";var NAe=Qa&&Qa.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qa,"__esModule",{value:!0});Qa.aadFactory=void 0;var CAe=NAe(Xs()),tu=Za(),DAe=Dn(),RAe=$a();function kAe(t){return{messageAADContentString:e,messageAAD:r};function e({contentType:i,isFinalFrame:n}){switch(i){case tu.ContentType.NO_FRAMING:return tu.ContentAADString.NON_FRAMED_STRING_ID;case tu.ContentType.FRAMED_DATA:return n?tu.ContentAADString.FINAL_FRAME_STRING_ID:tu.ContentAADString.FRAME_STRING_ID;default:throw new Error("Unrecognized content type")}}function r(i,n,a,o){return(0,DAe.concatBuffers)(i,t(n),(0,RAe.uInt32BE)(a),new Uint8Array(new CAe.default(o).toArray("be",8)))}}Qa.aadFactory=kAe});var fF=l(mr=>{"use strict";var LAe=mr&&mr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(mr,"__esModule",{value:!0});mr.decodeNonFrameBodyHeader=mr.decodeFinalFrameBodyHeader=mr.decodeFrameBodyHeader=mr.decodeBodyHeader=void 0;var KAe=LAe(Xs()),vr=Za(),hr=je();function FAe(t,e,r){switch((0,hr.needs)(vr.ContentType[e.messageHeader.contentType],"Unknown contentType"),e.messageHeader.contentType){case vr.ContentType.FRAMED_DATA:return uF(t,e,r);case vr.ContentType.NO_FRAMING:return cF(t,e,r)}return!1}mr.decodeBodyHeader=FAe;function uF(t,e,r){(0,hr.needs)(vr.ContentType.FRAMED_DATA===e.messageHeader.contentType,"Unknown contentType");let{frameLength:i}=e.messageHeader,{ivLength:n,tagLength:a}=e.algorithmSuite,o=new DataView(t.buffer,t.byteOffset,t.byteLength);if((0,hr.needs)(o.byteLength>=r&&r>=0,"readPos out of bounds."),4+n+r>o.byteLength)return!1;let u=o.getUint32(r);if((0,hr.needs)(u>0,"Malformed sequenceNumber."),u===vr.SequenceIdentifier.SEQUENCE_NUMBER_END)return lF(t,e,r);let p=t.slice(r+=4,r+=n);return{sequenceNumber:u,iv:p,contentLength:i,readPos:r,tagLength:a,isFinalFrame:!1,contentType:vr.ContentType.FRAMED_DATA}}mr.decodeFrameBodyHeader=uF;function lF(t,e,r){(0,hr.needs)(vr.ContentType.FRAMED_DATA===e.messageHeader.contentType,"Unknown contentType");let{ivLength:i,tagLength:n}=e.algorithmSuite,a=new DataView(t.buffer,t.byteOffset,t.byteLength);if((0,hr.needs)(a.byteLength>=r&&r>=0,"readPos out of bounds."),8+i+4+r>a.byteLength)return!1;let o=a.getUint32(r,!1);(0,hr.needs)(o===vr.SequenceIdentifier.SEQUENCE_NUMBER_END,"Malformed final frame: Invalid sequence number end value");let u=a.getUint32(r+=4,!1);(0,hr.needs)(u>0,"Malformed sequenceNumber.");let p=t.slice(r+=4,r+=i),_=a.getUint32(r);return(0,hr.needs)(e.messageHeader.frameLength>=_,"Final frame length exceeds frame length."),{sequenceNumber:u,iv:p,contentLength:_,readPos:r+4,tagLength:n,isFinalFrame:!0,contentType:vr.ContentType.FRAMED_DATA}}mr.decodeFinalFrameBodyHeader=lF;function cF(t,e,r){(0,hr.needs)(vr.ContentType.NO_FRAMING===e.messageHeader.contentType,"Unknown contentType");let{ivLength:i,tagLength:n}=e.algorithmSuite,a=new DataView(t.buffer,t.byteOffset,t.byteLength);if((0,hr.needs)(a.byteLength>=r&&r>=0,"readPos out of bounds."),i+8+r>a.byteLength)return!1;let o=t.slice(r,r+=i),u=t.slice(r,r+=8),_=new KAe.default([...u],16,"be").toNumber();return(0,hr.needs)(vr.Maximum.BYTES_PER_AES_GCM_NONCE>_,"Content length out of bounds."),{sequenceNumber:1,iv:o,contentLength:_,readPos:r,tagLength:n,isFinalFrame:!0,contentType:vr.ContentType.NO_FRAMING}}mr.decodeNonFrameBodyHeader=cF});var X0=l(am=>{"use strict";Object.defineProperty(am,"__esModule",{value:!0});am.readElements=void 0;var pF=je();function BAe(t,e,r,i=0){let n=new DataView(r.buffer,r.byteOffset,r.byteLength),a=[];for((0,pF.needs)(i>=0&&n.byteLength>=i,"readPos out of bounds."),(0,pF.needs)(t>=0&&e>=0,"elementCount and fieldsPerElement must be positive.");t--;){let o=[],u=e;for(;u--;){if(i+2>n.byteLength)return!1;let p=n.getUint16(i,!1);if(i+=2,i+p>n.byteLength)return!1;let _=r.slice(i,i+p);o.push(_),i+=p}a.push(o)}return{elements:a,readPos:i}}am.readElements=BAe});var hF=l(om=>{"use strict";Object.defineProperty(om,"__esModule",{value:!0});om.decodeEncryptionContextFactory=void 0;var dF=je(),HAe=X0();function UAe(t){return e;function e(r){let i=Object.create(null);if(!r.byteLength)return Object.freeze(i);let a=new DataView(r.buffer,r.byteOffset,r.byteLength).getUint16(0,!1),o=(0,HAe.readElements)(a,2,r,2);if(!o)throw new Error("context parse error");let{elements:u,readPos:p}=o;(0,dF.needs)(r.byteLength===p,"Overflow, too much data.");for(let _=0;_<a;_++){let[b,A]=u[_].map(t);(0,dF.needs)(i[b]===void 0,"Duplicate encryption context key value."),i[b]=A}return Object.freeze(i),i}}om.decodeEncryptionContextFactory=UAe});var mF=l(sm=>{"use strict";Object.defineProperty(sm,"__esModule",{value:!0});sm.deserializeEncryptedDataKeysFactory=void 0;var ru=je(),GAe=X0();function jAe(t){return e;function e(r,i,{maxEncryptedDataKeys:n}={maxEncryptedDataKeys:!1}){if((0,ru.needs)(r.byteLength>=i&&i>=0,"startPos out of bounds."),(0,ru.needs)(n===!1||n>=1,"Invalid maxEncryptedDataKeys value."),i+2>r.byteLength)return!1;let o=new DataView(r.buffer,r.byteOffset,r.byteLength).getUint16(i,!1);(0,ru.needs)(o,"No EncryptedDataKey found."),(0,ru.needs)(n===!1||o<=n,"maxEncryptedDataKeys exceeded.");let u=(0,GAe.readElements)(o,3,r,i+2);if(!u)return!1;let{elements:p,readPos:_}=u,b=p.map(([A,S,C])=>{let N=t(A),L=t(S);return new ru.EncryptedDataKey({providerInfo:L,providerId:N,encryptedDataKey:C,rawInfo:S})});return Object.freeze(b),{encryptedDataKeys:b,readPos:_}}}sm.deserializeEncryptedDataKeysFactory=jAe});var vF=l(um=>{"use strict";Object.defineProperty(um,"__esModule",{value:!0});um.deserializeHeaderV1Factory=void 0;var Ja=je();function zAe({decodeEncryptionContext:t,deserializeEncryptedDataKeys:e,SdkSuite:r}){return i;function i(n,a={maxEncryptedDataKeys:!1}){let o=new DataView(n.buffer,n.byteOffset,n.byteLength);if(o.byteLength<22)return!1;let u=o.getUint8(0),p=o.getUint8(1);(0,Ja.needs)(u===Ja.MessageFormat.V1&&p===128,u===65&&p===89?"Malformed Header: This blob may be base64 encoded.":"Malformed Header.");let _=o.getUint16(2,!1);(0,Ja.needs)(Ja.NonCommittingAlgorithmSuiteIdentifier[_],"Unsupported algorithm suite.");let b=n.slice(4,20),A=o.getUint16(20,!1);if(22+A>o.byteLength)return!1;let S=t(n.slice(22,22+A)),C=e(n,22+A,a);if(!C)return!1;let{encryptedDataKeys:N,readPos:L}=C,B=new r(_),{ivLength:R,tagLength:K}=B,z=K/8,W=L+1+4+1+4;if(W+R+z>o.byteLength)return!1;let re=o.getUint8(L),V=o.getUint32(L+1,!1);(0,Ja.needs)(V===0,"Malformed Header");let Xe=o.getUint8(L+1+4);(0,Ja.needs)(Xe===R,"Malformed Header");let Q=o.getUint32(L+1+4+1,!1),Ze=n.slice(0,W),O={version:u,type:p,suiteId:_,messageId:b,encryptionContext:S,encryptedDataKeys:N,contentType:re,headerIvLength:Xe,frameLength:Q},d=n.slice(W,W+R),x=n.slice(W+R,W+R+z);return{messageHeader:O,headerLength:W,rawHeader:Ze,algorithmSuite:B,headerAuth:{headerIv:d,headerAuthTag:x,headerAuthLength:d.byteLength+x.byteLength}}}}um.deserializeHeaderV1Factory=zAe});var yF=l(lm=>{"use strict";Object.defineProperty(lm,"__esModule",{value:!0});lm.deserializeHeaderV2Factory=void 0;var eo=je(),Z0=Za();function WAe({decodeEncryptionContext:t,deserializeEncryptedDataKeys:e,SdkSuite:r}){return i;function i(n,a={maxEncryptedDataKeys:!1}){let o=new DataView(n.buffer,n.byteOffset,n.byteLength),u=3+Z0.MessageIdLength.V2+2;if(o.byteLength<u)return!1;let p=0,_=o.getUint8(p);p+=1,(0,eo.needs)(_===eo.MessageFormat.V2,_===65?"Malformed Header: This blob may be base64 encoded.":"Malformed Header.");let b=o.getUint16(p,!1);(0,eo.needs)(eo.CommittingAlgorithmSuiteIdentifier[b],"Unsupported algorithm suite."),p+=2;let A=n.slice(p,p+Z0.MessageIdLength.V2);p+=Z0.MessageIdLength.V2;let S=o.getUint16(p,!1);if(p+=2,u+S>o.byteLength)return!1;let C=t(n.slice(u,u+S)),N=e(n,u+S,a);if(!N)return!1;let{encryptedDataKeys:L,readPos:B}=N,R=new r(b),{tagLength:K,suiteDataLength:z,ivLength:W}=R;(0,eo.needs)(eo.CommittingAlgorithmSuiteIdentifier[b]&&z,"Unsupported algorithm suite.");let re=K/8,V=B+1+4+z;if(V+re>o.byteLength)return!1;p=B;let Xe=o.getUint8(p);p+=1;let Q=o.getUint32(p,!1);p+=4;let Ze=n.slice(p,p+z);p+=z;let O=n.slice(0,V),d={version:_,suiteId:b,messageId:A,encryptionContext:C,encryptedDataKeys:L,contentType:Xe,frameLength:Q,suiteData:Ze},x=new Uint8Array(W),m=n.slice(V,V+re);return{messageHeader:d,headerLength:V,rawHeader:O,algorithmSuite:R,headerAuth:{headerIv:x,headerAuthTag:m,headerAuthLength:m.byteLength}}}}lm.deserializeHeaderV2Factory=WAe});var _F=l(cm=>{"use strict";Object.defineProperty(cm,"__esModule",{value:!0});cm.deserializeFactory=void 0;var VAe=je(),YAe=hF(),XAe=mF(),ZAe=vF(),$Ae=yF();function QAe(t,e){let r=(0,YAe.decodeEncryptionContextFactory)(t),i=(0,XAe.deserializeEncryptedDataKeysFactory)(t),n=(0,ZAe.deserializeHeaderV1Factory)({decodeEncryptionContext:r,deserializeEncryptedDataKeys:i,SdkSuite:e}),a=(0,$Ae.deserializeHeaderV2Factory)({decodeEncryptionContext:r,deserializeEncryptedDataKeys:i,SdkSuite:e}),o=new Map([[void 0,p=>!1],[1,n],[2,a]]);return{deserializeMessageHeader:u,deserializeEncryptedDataKeys:i,decodeEncryptionContext:r};function u(p,_={maxEncryptedDataKeys:!1}){let b=p[0],A=o.get(b);return(0,VAe.needs)(A,"Not a supported message format version."),A(p,_)}}cm.deserializeFactory=QAe});var wF=l(to=>{"use strict";Object.defineProperty(to,"__esModule",{value:!0});to.kdfCommitKeyInfo=to.kdfInfo=void 0;var $0=je(),gF=Dn(),xF=$a();function JAe(t,e){return(0,$0.needs)($0.NonCommittingAlgorithmSuiteIdentifier[t],"Committing algorithm suite not supported."),(0,gF.concatBuffers)((0,xF.uInt16BE)(t),e)}to.kdfInfo=JAe;var eMe=new Uint8Array([68,69,82,73,86,69,75,69,89]),tMe=new Uint8Array([67,79,77,77,73,84,75,69,89]);function rMe(t){return(0,$0.needs)(t.commitment==="KEY","Non committing algorithm suite not supported."),{keyLabel:(0,gF.concatBuffers)((0,xF.uInt16BE)(t.id),eMe),commitLabel:tMe.slice()}}to.kdfCommitKeyInfo=rMe});var qF=l(io=>{"use strict";Object.defineProperty(io,"__esModule",{value:!0});io.serializeMessageHeaderAuth=io.serializeFactory=void 0;var Yr=Dn(),ro=je(),iu=Za(),ft=$a();function iMe(t){return{frameIv:e,nonFramedBodyIv:r,headerAuthIv:i,frameHeader:n,finalFrameHeader:a,encodeEncryptionContext:o,serializeEncryptionContext:u,serializeEncryptedDataKeys:p,serializeEncryptedDataKey:_,serializeMessageHeader:b,buildMessageHeader:C};function e(N,L){(0,ro.needs)(L>0&&iu.SequenceIdentifier.SEQUENCE_NUMBER_END>=L,"sequenceNumber out of bounds");let B=new Uint8Array(N);return new DataView(B.buffer,B.byteOffset,B.byteLength).setUint32(N-4,L,!1),B}function r(N){return e(N,1)}function i(N){return new Uint8Array(N)}function n(N,L){return(0,Yr.concatBuffers)((0,ft.uInt32BE)(N),L)}function a(N,L,B){return(0,Yr.concatBuffers)((0,ft.uInt32BE)(iu.SequenceIdentifier.SEQUENCE_NUMBER_END),(0,ft.uInt32BE)(N),L,(0,ft.uInt32BE)(B))}function o(N){return Object.entries(N).sort(([L],[B])=>L.localeCompare(B)).map(L=>L.map(t)).map(([L,B])=>(0,Yr.concatBuffers)((0,ft.uInt16BE)(L.byteLength),L,(0,ft.uInt16BE)(B.byteLength),B))}function u(N){let L=o(N);if(!L.length)return(0,ft.uInt16BE)(0);let B=(0,Yr.concatBuffers)((0,ft.uInt16BE)(L.length),...L),R=(0,ft.uInt16BE)(B.byteLength);return(0,Yr.concatBuffers)(R,B)}function p(N){let L=N.map(_);return(0,Yr.concatBuffers)((0,ft.uInt16BE)(N.length),...L)}function _(N){let{providerId:L,providerInfo:B,encryptedDataKey:R,rawInfo:K}=N,z=t(L),W=K||t(B);return(0,Yr.concatBuffers)((0,ft.uInt16BE)(z.byteLength),z,(0,ft.uInt16BE)(W.byteLength),W,(0,ft.uInt16BE)(R.byteLength),R)}function b(N){return(0,ro.needs)(iu.SerializationVersion[N.version],"Unsupported version."),N.version===1?A(N):S(N)}function A(N){return(0,Yr.concatBuffers)((0,ft.uInt8)(N.version),(0,ft.uInt8)(N.type),(0,ft.uInt16BE)(N.suiteId),N.messageId,u(N.encryptionContext),p(N.encryptedDataKeys),new Uint8Array([N.contentType]),new Uint8Array([0,0,0,0]),(0,ft.uInt8)(N.headerIvLength),(0,ft.uInt32BE)(N.frameLength))}function S(N){return(0,Yr.concatBuffers)((0,ft.uInt8)(N.version),(0,ft.uInt16BE)(N.suiteId),N.messageId,u(N.encryptionContext),p(N.encryptedDataKeys),new Uint8Array([N.contentType]),(0,ft.uInt32BE)(N.frameLength),N.suiteData)}function C({encryptionContext:N,encryptedDataKeys:L,suite:B,messageId:R,frameLength:K,suiteData:z}){let{messageFormat:W,id:re}=B,V=iu.ContentType.FRAMED_DATA;if(W===ro.MessageFormat.V1){let Xe=iu.ObjectType.CUSTOMER_AE_DATA,{ivLength:Q}=B;return{version:W,type:Xe,suiteId:re,messageId:R,encryptionContext:N,encryptedDataKeys:L,contentType:V,headerIvLength:Q,frameLength:K}}else if(W===ro.MessageFormat.V2)return{version:W,suiteId:re,messageId:R,encryptionContext:N,encryptedDataKeys:L,contentType:V,frameLength:K,suiteData:z};(0,ro.needs)(!1,"Unsupported message format version.")}}io.serializeFactory=iMe;function nMe({headerIv:t,headerAuthTag:e,messageHeader:r}){return r.version===ro.MessageFormat.V1?(0,Yr.concatBuffers)(t,e):e}io.serializeMessageHeaderAuth=nMe});var EF=l(bF=>{"use strict";Object.defineProperty(bF,"__esModule",{value:!0})});var AF=l(no=>{"use strict";Object.defineProperty(no,"__esModule",{value:!0});no.deserializeSignature=no.serializeSignatureInfo=void 0;var aMe=Dn(),oMe=$a(),Q0=je();function sMe(t){return(0,aMe.concatBuffers)((0,oMe.uInt16BE)(t.byteLength),t)}no.serializeSignatureInfo=sMe;function uMe({buffer:t,byteOffset:e,byteLength:r}){(0,Q0.needs)(r&&r>2,"Invalid Signature");let n=new DataView(t,e,r).getUint16(0,!1);return(0,Q0.needs)(n>0,"Invalid Signature"),(0,Q0.needs)(r===n+2,"Invalid Signature"),new Uint8Array(t,e+2,n)}no.deserializeSignature=uMe});var IF=l(Ui=>{"use strict";var lMe=Ui&&Ui.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ui,"__esModule",{value:!0});Ui.raw2der=Ui.der2raw=void 0;var fm=lMe(C0()),cMe=Dn(),fMe=je(),MF=fm.default.define("ECDSASignature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())}),SF=Object.freeze({"P-256":32,"P-384":48});function pMe(t,{signatureCurve:e}){if(!e)throw new Error("AlgorithmSuite does not support signing");let r=SF[e],{r:i,s:n}=MF.decode(new fm.default.bignum.BN(t).toArrayLike(Buffer),"der"),a=i.byteLength(),o=n.byteLength();return(0,cMe.concatBuffers)(new Uint8Array(r-a),i.toArrayLike(Uint8Array),new Uint8Array(r-o),n.toArrayLike(Uint8Array))}Ui.der2raw=pMe;function dMe(t,{signatureCurve:e}){if(!e)throw new Error("AlgorithmSuite does not support signing");let{byteLength:r}=t,i=SF[e];(0,fMe.needs)(r===2*i,"Malformed signature.");let n=new fm.default.bignum.BN(t.slice(0,i)),a=new fm.default.bignum.BN(t.slice(i));return MF.encode({r:n,s:a},"der")}Ui.raw2der=dMe});var Xt=l(At=>{"use strict";var hMe=At&&At.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),Pr=At&&At.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&hMe(e,t,r)};Object.defineProperty(At,"__esModule",{value:!0});Pr(sF(),At);Pr(Dn(),At);Pr(fF(),At);Pr(_F(),At);Pr(wF(),At);Pr(qF(),At);Pr(EF(),At);Pr(Za(),At);Pr($a(),At);Pr(AF(),At);Pr(IF(),At)});var OF=l(dm=>{"use strict";Object.defineProperty(dm,"__esModule",{value:!0});dm.NodeDefaultCryptographicMaterialsManager=void 0;var yt=je(),nu=Xt(),mMe=require("crypto"),pm=class{constructor(e){(0,yt.needs)(e instanceof yt.KeyringNode,"Unsupported type."),(0,yt.readOnlyProperty)(this,"keyring",e)}async getEncryptionMaterials({suite:e,encryptionContext:r,commitmentPolicy:i}){e=e||new yt.NodeAlgorithmSuite(yt.CommitmentPolicySuites[i].defaultAlgorithmSuite),(0,yt.needs)(!Object.prototype.hasOwnProperty.call(r,nu.ENCODED_SIGNER_KEY),`Reserved encryptionContext value ${nu.ENCODED_SIGNER_KEY} not allowed.`);let n=await this.keyring.onEncrypt(this._initializeEncryptionMaterial(e,r));return(0,yt.needs)(n.getUnencryptedDataKey(),"Unencrypted data key is invalid."),(0,yt.needs)(n.encryptedDataKeys.length,"No EncryptedDataKeys: the ciphertext can never be decrypted."),n}async decryptMaterials({suite:e,encryptedDataKeys:r,encryptionContext:i}){let n=await this.keyring.onDecrypt(this._initializeDecryptionMaterial(e,i),r.slice());return(0,yt.needs)(n.getUnencryptedDataKey(),"Unencrypted data key is invalid."),n}_initializeEncryptionMaterial(e,r){let{signatureCurve:i}=e;if(!i)return new yt.NodeEncryptionMaterial(e,r);let n=(0,mMe.createECDH)(i);n.generateKeys();let a=n.getPublicKey(void 0,"compressed"),o=n.getPrivateKey(),u=new yt.SignatureKey(o,new Uint8Array(a),e);return new yt.NodeEncryptionMaterial(e,{...r,[nu.ENCODED_SIGNER_KEY]:a.toString("base64")}).setSignatureKey(u)}_initializeDecryptionMaterial(e,r){let{signatureCurve:i}=e;if(!i)return(0,yt.needs)(!Object.prototype.hasOwnProperty.call(r,nu.ENCODED_SIGNER_KEY),"Encryption context contains public verification key for unsigned algorithm suite."),new yt.NodeDecryptionMaterial(e,r);if(!r)throw new Error("Encryption context does not contain required public key.");let{[nu.ENCODED_SIGNER_KEY]:n}=r;(0,yt.needs)(n,"Context does not contain required public key.");let a=yt.VerificationKey.decodeCompressPoint(Buffer.from(n,"base64"),e);return new yt.NodeDecryptionMaterial(e,r).setVerificationKey(new yt.VerificationKey(a,e))}};dm.NodeDefaultCryptographicMaterialsManager=pm;(0,yt.immutableClass)(pm)});var tx=l(Gi=>{"use strict";Object.defineProperty(Gi,"__esModule",{value:!0});Gi.UnsupportedAlgorithm=Gi.KeyLengthError=Gi.HKDFError=void 0;var au=class t extends Error{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}};Gi.HKDFError=au;var J0=class t extends au{name="KeyLengthError";constructor(e,r){super("Can not derive keys larger than "+e+" for algorithm:"+r),Object.setPrototypeOf(this,t.prototype)}};Gi.KeyLengthError=J0;var ex=class t extends au{name="UnsupportedAlgorithm";constructor(e){super("Hash algorithm: "+e+" is not an implemented algorithm"),Object.setPrototypeOf(this,t.prototype)}};Gi.UnsupportedAlgorithm=ex});var TF=l(hm=>{"use strict";Object.defineProperty(hm,"__esModule",{value:!0});hm.HKDF=void 0;var rx=require("crypto"),PF=tx();function vMe(t="sha256"){let e=function(){try{return rx.createHash(t).digest().length}catch{throw new PF.UnsupportedAlgorithm(t)}}(),r=255*e;return i.extract=n,i.expand=a,i;function i(o,u){let p=n(o,u);return(_,b)=>a(p,_,b)}function n(o,u){let p=u||Buffer.alloc(e,0).toString();return rx.createHmac(t,p).update(o).digest()}function a(o,u,p){if(u>r)throw new PF.KeyLengthError(r,t);p=p||Buffer.alloc(0);let _=Math.ceil(u/e),b=[];for(let A=0;A<_;A++)b[A]=rx.createHmac(t,o).update(b[A-1]||Buffer.alloc(0)).update(p).update(Buffer.alloc(1,A+1)).digest();return Buffer.concat(b,u)}}hm.HKDF=vMe});var CF=l(ji=>{"use strict";var yMe=ji&&ji.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),NF=ji&&ji.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&yMe(e,t,r)};Object.defineProperty(ji,"__esModule",{value:!0});NF(TF(),ji);NF(tx(),ji)});var kF=l(Xr=>{"use strict";Object.defineProperty(Xr,"__esModule",{value:!0});Xr.nodeKdf=Xr.curryCryptoStream=Xr.getDecryptionHelper=Xr.getEncryptHelper=void 0;var xt=je(),Rn=require("crypto"),ix=CF(),DF=Xt(),nx=Object.freeze({sha256:(0,ix.HKDF)("sha256"),sha384:(0,ix.HKDF)("sha384"),sha512:(0,ix.HKDF)("sha512")}),_Me=t=>{(0,xt.needs)(t.hasValidKey(),"Material has no unencrypted data key.");let{signatureHash:e}=t.suite,r=ax(t,Rn.createCipheriv);return Object.freeze({getCipherInfo:r,getSigner:e?i:void 0,dispose:n});function i(){if((0,xt.needs)(t.hasUnencryptedDataKey,"Unencrypted data key has been zeroed."),!e)throw new Error("Material does not support signature.");let{signatureKey:a}=t;if(!a)throw new Error("Material does not support signature.");let{privateKey:o}=a;if(typeof o!="string")throw new Error("Material does not support signature.");let u=Object.assign((0,Rn.createSign)(e),{awsCryptoSign:()=>u.sign(o)});return u}function n(){t.zeroUnencryptedDataKey()}};Xr.getEncryptHelper=_Me;var gMe=t=>{(0,xt.needs)(t.hasValidKey(),"Material has no unencrypted data key.");let{signatureHash:e}=t.suite,r=ax(t,Rn.createDecipheriv);return Object.freeze({getDecipherInfo:r,getVerify:e?i:void 0,dispose:n});function i(){if(!e)throw new Error("Material does not support signature.");let{verificationKey:a}=t;if(!a)throw new Error("Material does not support signature.");let o=Object.assign((0,Rn.createVerify)(e),{awsCryptoVerify:u=>o.verify(a.publicKey,u)});return o}function n(){t.zeroUnencryptedDataKey()}};Xr.getDecryptionHelper=gMe;function ax(t,e){let{encryption:r,ivLength:i}=t.suite,n=t instanceof xt.NodeEncryptionMaterial;return(0,xt.needs)(n?Rn.createCipheriv===e:t instanceof xt.NodeDecryptionMaterial?Rn.createDecipheriv===e:!1,"Unsupported cryptographic material."),(a,o)=>{let{derivedKey:u,keyCommitment:p}=RF(t,a,o);return n?{getCipher:_,keyCommitment:p}:_;function _(b){return(0,xt.needs)(b.byteLength===i,"Iv length does not match algorithm suite specification"),(0,xt.needs)(t.hasUnencryptedDataKey,"Unencrypted data key has been zeroed."),e(r,u,b)}}}Xr.curryCryptoStream=ax;function RF(t,e,r){let i=t.getUnencryptedDataKey(),{kdf:n,kdfHash:a,keyLengthBytes:o,commitmentLength:u,saltLengthBytes:p,commitment:_,id:b}=t.suite;if(!n&&!a)return(0,xt.needs)(!r,"Commitment not supported."),{derivedKey:i};(0,xt.needs)(n==="HKDF"&&a&&nx[a]&&e instanceof Uint8Array,"Invalid HKDF values.");let{buffer:A,byteOffset:S,byteLength:C}=(0,xt.unwrapDataKey)(i);if(_==="NONE"){(0,xt.needs)(!r,"Commitment not supported.");let V=Buffer.from(A,S,C),{buffer:Xe,byteOffset:Q,byteLength:Ze}=(0,DF.kdfInfo)(b,e),O=Buffer.from(Xe,Q,Ze),d=nx[a](V)(o,O);return{derivedKey:(0,xt.wrapWithKeyObjectIfSupported)(d)}}(0,xt.needs)(_==="KEY"&&u&&p,"Malformed suite data."),(0,xt.needs)(e.byteLength===p,"Nonce is not the correct length for committed algorithm suite.");let N=Buffer.from(A,S,C),L=nx[a](N,e),{keyLabel:B,commitLabel:R}=(0,DF.kdfCommitKeyInfo)(t.suite),K=L(u/8,R),z=t instanceof xt.NodeDecryptionMaterial;(0,xt.needs)(z&&r&&(0,Rn.timingSafeEqual)(K,r)||!z&&!r,z?"Commitment does not match.":"Invalid arguments.");let W=L(o,B);return{derivedKey:(0,xt.wrapWithKeyObjectIfSupported)(W),keyCommitment:K}}Xr.nodeKdf=RF});var wt=l(ee=>{"use strict";var xMe=ee&&ee.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),wMe=ee&&ee.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&xMe(e,t,r)};Object.defineProperty(ee,"__esModule",{value:!0});ee.MessageFormat=ee.SignaturePolicy=ee.SignaturePolicySuites=ee.CommitmentPolicySuites=ee.CommitmentPolicy=ee.unwrapDataKey=ee.readOnlyProperty=ee.frozenClass=ee.immutableClass=ee.immutableBaseClass=ee.MultiKeyringNode=ee.KeyringNode=ee.NotSupported=ee.needs=ee.KeyringTraceFlag=ee.EncryptedDataKey=ee.AlgorithmSuiteIdentifier=ee.NodeAlgorithmSuite=ee.NodeEncryptionMaterial=ee.NodeDecryptionMaterial=ee.getDecryptionHelper=ee.getEncryptHelper=void 0;wMe(OF(),ee);var LF=kF();Object.defineProperty(ee,"getEncryptHelper",{enumerable:!0,get:function(){return LF.getEncryptHelper}});Object.defineProperty(ee,"getDecryptionHelper",{enumerable:!0,get:function(){return LF.getDecryptionHelper}});var dt=je();Object.defineProperty(ee,"NodeDecryptionMaterial",{enumerable:!0,get:function(){return dt.NodeDecryptionMaterial}});Object.defineProperty(ee,"NodeEncryptionMaterial",{enumerable:!0,get:function(){return dt.NodeEncryptionMaterial}});Object.defineProperty(ee,"NodeAlgorithmSuite",{enumerable:!0,get:function(){return dt.NodeAlgorithmSuite}});Object.defineProperty(ee,"AlgorithmSuiteIdentifier",{enumerable:!0,get:function(){return dt.AlgorithmSuiteIdentifier}});Object.defineProperty(ee,"EncryptedDataKey",{enumerable:!0,get:function(){return dt.EncryptedDataKey}});Object.defineProperty(ee,"KeyringTraceFlag",{enumerable:!0,get:function(){return dt.KeyringTraceFlag}});Object.defineProperty(ee,"needs",{enumerable:!0,get:function(){return dt.needs}});Object.defineProperty(ee,"NotSupported",{enumerable:!0,get:function(){return dt.NotSupported}});Object.defineProperty(ee,"KeyringNode",{enumerable:!0,get:function(){return dt.KeyringNode}});Object.defineProperty(ee,"MultiKeyringNode",{enumerable:!0,get:function(){return dt.MultiKeyringNode}});Object.defineProperty(ee,"immutableBaseClass",{enumerable:!0,get:function(){return dt.immutableBaseClass}});Object.defineProperty(ee,"immutableClass",{enumerable:!0,get:function(){return dt.immutableClass}});Object.defineProperty(ee,"frozenClass",{enumerable:!0,get:function(){return dt.frozenClass}});Object.defineProperty(ee,"readOnlyProperty",{enumerable:!0,get:function(){return dt.readOnlyProperty}});Object.defineProperty(ee,"unwrapDataKey",{enumerable:!0,get:function(){return dt.unwrapDataKey}});Object.defineProperty(ee,"CommitmentPolicy",{enumerable:!0,get:function(){return dt.CommitmentPolicy}});Object.defineProperty(ee,"CommitmentPolicySuites",{enumerable:!0,get:function(){return dt.CommitmentPolicySuites}});Object.defineProperty(ee,"SignaturePolicySuites",{enumerable:!0,get:function(){return dt.SignaturePolicySuites}});Object.defineProperty(ee,"SignaturePolicy",{enumerable:!0,get:function(){return dt.SignaturePolicy}});Object.defineProperty(ee,"MessageFormat",{enumerable:!0,get:function(){return dt.MessageFormat}})});var ox=l((Kft,KF)=>{KF.exports=require("stream")});var jF=l((Fft,GF)=>{"use strict";function FF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function BF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FF(Object(r),!0).forEach(function(i){qMe(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FF(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function qMe(t,e,r){return e=UF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HF(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,UF(i.key),i)}}function EMe(t,e,r){return e&&HF(t.prototype,e),r&&HF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function UF(t){var e=AMe(t,"string");return typeof e=="symbol"?e:String(e)}function AMe(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var MMe=require("buffer"),mm=MMe.Buffer,SMe=require("util"),sx=SMe.inspect,IMe=sx&&sx.custom||"inspect";function OMe(t,e,r){mm.prototype.copy.call(t,e,r)}GF.exports=function(){function t(){bMe(this,t),this.head=null,this.tail=null,this.length=0}return EMe(t,[{key:"push",value:function(r){var i={data:r,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length}},{key:"unshift",value:function(r){var i={data:r,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var i=this.head,n=""+i.data;i=i.next;)n+=r+i.data;return n}},{key:"concat",value:function(r){if(this.length===0)return mm.alloc(0);for(var i=mm.allocUnsafe(r>>>0),n=this.head,a=0;n;)OMe(n.data,i,a),a+=n.data.length,n=n.next;return i}},{key:"consume",value:function(r,i){var n;return r<this.head.data.length?(n=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?n=this.shift():n=i?this._getString(r):this._getBuffer(r),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var i=this.head,n=1,a=i.data;for(r-=a.length;i=i.next;){var o=i.data,u=r>o.length?o.length:r;if(u===o.length?a+=o:a+=o.slice(0,r),r-=u,r===0){u===o.length?(++n,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=o.slice(u));break}++n}return this.length-=n,a}},{key:"_getBuffer",value:function(r){var i=mm.allocUnsafe(r),n=this.head,a=1;for(n.data.copy(i),r-=n.data.length;n=n.next;){var o=n.data,u=r>o.length?o.length:r;if(o.copy(i,i.length-r,0,u),r-=u,r===0){u===o.length?(++a,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=o.slice(u));break}++a}return this.length-=a,i}},{key:IMe,value:function(r,i){return sx(this,BF(BF({},i),{},{depth:0,customInspect:!1}))}}]),t}()});var lx=l((Bft,WF)=>{"use strict";function PMe(t,e){var r=this,i=this._readableState&&this._readableState.destroyed,n=this._writableState&&this._writableState.destroyed;return i||n?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(ux,this,t)):process.nextTick(ux,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(a){!e&&a?r._writableState?r._writableState.errorEmitted?process.nextTick(vm,r):(r._writableState.errorEmitted=!0,process.nextTick(zF,r,a)):process.nextTick(zF,r,a):e?(process.nextTick(vm,r),e(a)):process.nextTick(vm,r)}),this)}function zF(t,e){ux(t,e),vm(t)}function vm(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function TMe(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function ux(t,e){t.emit("error",e)}function NMe(t,e){var r=t._readableState,i=t._writableState;r&&r.autoDestroy||i&&i.autoDestroy?t.destroy(e):t.emit("error",e)}WF.exports={destroy:PMe,undestroy:TMe,errorOrDestroy:NMe}});var zi=l((Hft,XF)=>{"use strict";var YF={};function yr(t,e,r){r||(r=Error);function i(a,o,u){return typeof e=="string"?e:e(a,o,u)}class n extends r{constructor(o,u,p){super(i(o,u,p))}}n.prototype.name=r.name,n.prototype.code=t,YF[t]=n}function VF(t,e){if(Array.isArray(t)){let r=t.length;return t=t.map(i=>String(i)),r>2?`one of ${e} ${t.slice(0,r-1).join(", ")}, or `+t[r-1]:r===2?`one of ${e} ${t[0]} or ${t[1]}`:`of ${e} ${t[0]}`}else return`of ${e} ${String(t)}`}function CMe(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function DMe(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function RMe(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}yr("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);yr("ERR_INVALID_ARG_TYPE",function(t,e,r){let i;typeof e=="string"&&CMe(e,"not ")?(i="must not be",e=e.replace(/^not /,"")):i="must be";let n;if(DMe(t," argument"))n=`The ${t} ${i} ${VF(e,"type")}`;else{let a=RMe(t,".")?"property":"argument";n=`The "${t}" ${a} ${i} ${VF(e,"type")}`}return n+=`. Received type ${typeof r}`,n},TypeError);yr("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");yr("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});yr("ERR_STREAM_PREMATURE_CLOSE","Premature close");yr("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});yr("ERR_MULTIPLE_CALLBACK","Callback called multiple times");yr("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");yr("ERR_STREAM_WRITE_AFTER_END","write after end");yr("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);yr("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);yr("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");XF.exports.codes=YF});var cx=l((Uft,ZF)=>{"use strict";var kMe=zi().codes.ERR_INVALID_OPT_VALUE;function LMe(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function KMe(t,e,r,i){var n=LMe(e,i,r);if(n!=null){if(!(isFinite(n)&&Math.floor(n)===n)||n<0){var a=i?r:"highWaterMark";throw new kMe(a,n)}return Math.floor(n)}return t.objectMode?16:16*1024}ZF.exports={getHighWaterMark:KMe}});var QF=l((Gft,$F)=>{$F.exports=require("util").deprecate});var dx=l((jft,nB)=>{"use strict";nB.exports=lt;function eB(t){var e=this;this.next=null,this.entry=null,this.finish=function(){fSe(e,t)}}var ao;lt.WritableState=su;var FMe={deprecate:QF()},tB=ox(),_m=require("buffer").Buffer,BMe=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function HMe(t){return _m.from(t)}function UMe(t){return _m.isBuffer(t)||t instanceof BMe}var px=lx(),GMe=cx(),jMe=GMe.getHighWaterMark,Wi=zi().codes,zMe=Wi.ERR_INVALID_ARG_TYPE,WMe=Wi.ERR_METHOD_NOT_IMPLEMENTED,VMe=Wi.ERR_MULTIPLE_CALLBACK,YMe=Wi.ERR_STREAM_CANNOT_PIPE,XMe=Wi.ERR_STREAM_DESTROYED,ZMe=Wi.ERR_STREAM_NULL_VALUES,$Me=Wi.ERR_STREAM_WRITE_AFTER_END,QMe=Wi.ERR_UNKNOWN_ENCODING,oo=px.errorOrDestroy;Lt()(lt,tB);function JMe(){}function su(t,e,r){ao=ao||kn(),t=t||{},typeof r!="boolean"&&(r=e instanceof ao),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=jMe(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var i=t.decodeStrings===!1;this.decodeStrings=!i,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(n){oSe(e,n)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new eB(this)}su.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(su.prototype,"buffer",{get:FMe.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var ym;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ym=Function.prototype[Symbol.hasInstance],Object.defineProperty(lt,Symbol.hasInstance,{value:function(e){return ym.call(this,e)?!0:this!==lt?!1:e&&e._writableState instanceof su}})):ym=function(e){return e instanceof this};function lt(t){ao=ao||kn();var e=this instanceof ao;if(!e&&!ym.call(lt,this))return new lt(t);this._writableState=new su(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),tB.call(this)}lt.prototype.pipe=function(){oo(this,new YMe)};function eSe(t,e){var r=new $Me;oo(t,r),process.nextTick(e,r)}function tSe(t,e,r,i){var n;return r===null?n=new ZMe:typeof r!="string"&&!e.objectMode&&(n=new zMe("chunk",["string","Buffer"],r)),n?(oo(t,n),process.nextTick(i,n),!1):!0}lt.prototype.write=function(t,e,r){var i=this._writableState,n=!1,a=!i.objectMode&&UMe(t);return a&&!_m.isBuffer(t)&&(t=HMe(t)),typeof e=="function"&&(r=e,e=null),a?e="buffer":e||(e=i.defaultEncoding),typeof r!="function"&&(r=JMe),i.ending?eSe(this,r):(a||tSe(this,i,t,r))&&(i.pendingcb++,n=iSe(this,i,a,t,e,r)),n};lt.prototype.cork=function(){this._writableState.corked++};lt.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&rB(this,t))};lt.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new QMe(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(lt.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function rSe(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=_m.from(e,r)),e}Object.defineProperty(lt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function iSe(t,e,r,i,n,a){if(!r){var o=rSe(e,i,n);i!==o&&(r=!0,n="buffer",i=o)}var u=e.objectMode?1:i.length;e.length+=u;var p=e.length<e.highWaterMark;if(p||(e.needDrain=!0),e.writing||e.corked){var _=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:a,next:null},_?_.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else fx(t,e,!1,u,i,n,a);return p}function fx(t,e,r,i,n,a,o){e.writelen=i,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new XMe("write")):r?t._writev(n,e.onwrite):t._write(n,a,e.onwrite),e.sync=!1}function nSe(t,e,r,i,n){--e.pendingcb,r?(process.nextTick(n,i),process.nextTick(ou,t,e),t._writableState.errorEmitted=!0,oo(t,i)):(n(i),t._writableState.errorEmitted=!0,oo(t,i),ou(t,e))}function aSe(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function oSe(t,e){var r=t._writableState,i=r.sync,n=r.writecb;if(typeof n!="function")throw new VMe;if(aSe(r),e)nSe(t,r,i,e,n);else{var a=iB(r)||t.destroyed;!a&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&rB(t,r),i?process.nextTick(JF,t,r,a,n):JF(t,r,a,n)}}function JF(t,e,r,i){r||sSe(t,e),e.pendingcb--,i(),ou(t,e)}function sSe(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function rB(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var i=e.bufferedRequestCount,n=new Array(i),a=e.corkedRequestsFree;a.entry=r;for(var o=0,u=!0;r;)n[o]=r,r.isBuf||(u=!1),r=r.next,o+=1;n.allBuffers=u,fx(t,e,!0,e.length,n,"",a.finish),e.pendingcb++,e.lastBufferedRequest=null,a.next?(e.corkedRequestsFree=a.next,a.next=null):e.corkedRequestsFree=new eB(e),e.bufferedRequestCount=0}else{for(;r;){var p=r.chunk,_=r.encoding,b=r.callback,A=e.objectMode?1:p.length;if(fx(t,e,!1,A,p,_,b),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}lt.prototype._write=function(t,e,r){r(new WMe("_write()"))};lt.prototype._writev=null;lt.prototype.end=function(t,e,r){var i=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||cSe(this,i,r),this};Object.defineProperty(lt.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function iB(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function uSe(t,e){t._final(function(r){e.pendingcb--,r&&oo(t,r),e.prefinished=!0,t.emit("prefinish"),ou(t,e)})}function lSe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(uSe,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function ou(t,e){var r=iB(e);if(r&&(lSe(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var i=t._readableState;(!i||i.autoDestroy&&i.endEmitted)&&t.destroy()}return r}function cSe(t,e,r){e.ending=!0,ou(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function fSe(t,e,r){var i=t.entry;for(t.entry=null;i;){var n=i.callback;e.pendingcb--,n(r),i=i.next}e.corkedRequestsFree.next=t}Object.defineProperty(lt.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});lt.prototype.destroy=px.destroy;lt.prototype._undestroy=px.undestroy;lt.prototype._destroy=function(t,e){e(t)}});var kn=l((zft,oB)=>{"use strict";var pSe=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};oB.exports=Zr;var aB=vx(),mx=dx();Lt()(Zr,aB);for(hx=pSe(mx.prototype),gm=0;gm<hx.length;gm++)xm=hx[gm],Zr.prototype[xm]||(Zr.prototype[xm]=mx.prototype[xm]);var hx,xm,gm;function Zr(t){if(!(this instanceof Zr))return new Zr(t);aB.call(this,t),mx.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",dSe)))}Object.defineProperty(Zr.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(Zr.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(Zr.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function dSe(){this._writableState.ended||process.nextTick(hSe,this)}function hSe(t){t.end()}Object.defineProperty(Zr.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var wm=l((Wft,lB)=>{"use strict";var sB=zi().codes.ERR_STREAM_PREMATURE_CLOSE;function mSe(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];t.apply(this,i)}}}function vSe(){}function ySe(t){return t.setHeader&&typeof t.abort=="function"}function uB(t,e,r){if(typeof e=="function")return uB(t,null,e);e||(e={}),r=mSe(r||vSe);var i=e.readable||e.readable!==!1&&t.readable,n=e.writable||e.writable!==!1&&t.writable,a=function(){t.writable||u()},o=t._writableState&&t._writableState.finished,u=function(){n=!1,o=!0,i||r.call(t)},p=t._readableState&&t._readableState.endEmitted,_=function(){i=!1,p=!0,n||r.call(t)},b=function(N){r.call(t,N)},A=function(){var N;if(i&&!p)return(!t._readableState||!t._readableState.ended)&&(N=new sB),r.call(t,N);if(n&&!o)return(!t._writableState||!t._writableState.ended)&&(N=new sB),r.call(t,N)},S=function(){t.req.on("finish",u)};return ySe(t)?(t.on("complete",u),t.on("abort",A),t.req?S():t.on("request",S)):n&&!t._writableState&&(t.on("end",a),t.on("close",a)),t.on("end",_),t.on("finish",u),e.error!==!1&&t.on("error",b),t.on("close",A),function(){t.removeListener("complete",u),t.removeListener("abort",A),t.removeListener("request",S),t.req&&t.req.removeListener("finish",u),t.removeListener("end",a),t.removeListener("close",a),t.removeListener("finish",u),t.removeListener("end",_),t.removeListener("error",b),t.removeListener("close",A)}}lB.exports=uB});var fB=l((Vft,cB)=>{"use strict";var qm;function Vi(t,e,r){return e=_Se(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _Se(t){var e=gSe(t,"string");return typeof e=="symbol"?e:String(e)}function gSe(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xSe=wm(),Yi=Symbol("lastResolve"),Ln=Symbol("lastReject"),uu=Symbol("error"),bm=Symbol("ended"),Kn=Symbol("lastPromise"),yx=Symbol("handlePromise"),Fn=Symbol("stream");function Xi(t,e){return{value:t,done:e}}function wSe(t){var e=t[Yi];if(e!==null){var r=t[Fn].read();r!==null&&(t[Kn]=null,t[Yi]=null,t[Ln]=null,e(Xi(r,!1)))}}function qSe(t){process.nextTick(wSe,t)}function bSe(t,e){return function(r,i){t.then(function(){if(e[bm]){r(Xi(void 0,!0));return}e[yx](r,i)},i)}}var ESe=Object.getPrototypeOf(function(){}),ASe=Object.setPrototypeOf((qm={get stream(){return this[Fn]},next:function(){var e=this,r=this[uu];if(r!==null)return Promise.reject(r);if(this[bm])return Promise.resolve(Xi(void 0,!0));if(this[Fn].destroyed)return new Promise(function(o,u){process.nextTick(function(){e[uu]?u(e[uu]):o(Xi(void 0,!0))})});var i=this[Kn],n;if(i)n=new Promise(bSe(i,this));else{var a=this[Fn].read();if(a!==null)return Promise.resolve(Xi(a,!1));n=new Promise(this[yx])}return this[Kn]=n,n}},Vi(qm,Symbol.asyncIterator,function(){return this}),Vi(qm,"return",function(){var e=this;return new Promise(function(r,i){e[Fn].destroy(null,function(n){if(n){i(n);return}r(Xi(void 0,!0))})})}),qm),ESe),MSe=function(e){var r,i=Object.create(ASe,(r={},Vi(r,Fn,{value:e,writable:!0}),Vi(r,Yi,{value:null,writable:!0}),Vi(r,Ln,{value:null,writable:!0}),Vi(r,uu,{value:null,writable:!0}),Vi(r,bm,{value:e._readableState.endEmitted,writable:!0}),Vi(r,yx,{value:function(a,o){var u=i[Fn].read();u?(i[Kn]=null,i[Yi]=null,i[Ln]=null,a(Xi(u,!1))):(i[Yi]=a,i[Ln]=o)},writable:!0}),r));return i[Kn]=null,xSe(e,function(n){if(n&&n.code!=="ERR_STREAM_PREMATURE_CLOSE"){var a=i[Ln];a!==null&&(i[Kn]=null,i[Yi]=null,i[Ln]=null,a(n)),i[uu]=n;return}var o=i[Yi];o!==null&&(i[Kn]=null,i[Yi]=null,i[Ln]=null,o(Xi(void 0,!0))),i[bm]=!0}),e.on("readable",qSe.bind(null,i)),i};cB.exports=MSe});var mB=l((Yft,hB)=>{"use strict";function pB(t,e,r,i,n,a,o){try{var u=t[a](o),p=u.value}catch(_){r(_);return}u.done?e(p):Promise.resolve(p).then(i,n)}function SSe(t){return function(){var e=this,r=arguments;return new Promise(function(i,n){var a=t.apply(e,r);function o(p){pB(a,i,n,o,u,"next",p)}function u(p){pB(a,i,n,o,u,"throw",p)}o(void 0)})}}function dB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function ISe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dB(Object(r),!0).forEach(function(i){OSe(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dB(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function OSe(t,e,r){return e=PSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PSe(t){var e=TSe(t,"string");return typeof e=="symbol"?e:String(e)}function TSe(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NSe=zi().codes.ERR_INVALID_ARG_TYPE;function CSe(t,e,r){var i;if(e&&typeof e.next=="function")i=e;else if(e&&e[Symbol.asyncIterator])i=e[Symbol.asyncIterator]();else if(e&&e[Symbol.iterator])i=e[Symbol.iterator]();else throw new NSe("iterable",["Iterable"],e);var n=new t(ISe({objectMode:!0},r)),a=!1;n._read=function(){a||(a=!0,o())};function o(){return u.apply(this,arguments)}function u(){return u=SSe(function*(){try{var p=yield i.next(),_=p.value,b=p.done;b?n.push(null):n.push(yield _)?o():a=!1}catch(A){n.destroy(A)}}),u.apply(this,arguments)}return n}hB.exports=CSe});var vx=l((Zft,AB)=>{"use strict";AB.exports=ze;var so;ze.ReadableState=gB;var Xft=require("events").EventEmitter,_B=function(e,r){return e.listeners(r).length},cu=ox(),Em=require("buffer").Buffer,DSe=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function RSe(t){return Em.from(t)}function kSe(t){return Em.isBuffer(t)||t instanceof DSe}var _x=require("util"),He;_x&&_x.debuglog?He=_x.debuglog("stream"):He=function(){};var LSe=jF(),Ax=lx(),KSe=cx(),FSe=KSe.getHighWaterMark,Am=zi().codes,BSe=Am.ERR_INVALID_ARG_TYPE,HSe=Am.ERR_STREAM_PUSH_AFTER_EOF,USe=Am.ERR_METHOD_NOT_IMPLEMENTED,GSe=Am.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,uo,gx,xx;Lt()(ze,cu);var lu=Ax.errorOrDestroy,wx=["error","close","destroy","pause","resume"];function jSe(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function gB(t,e,r){so=so||kn(),t=t||{},typeof r!="boolean"&&(r=e instanceof so),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=FSe(this,t,"readableHighWaterMark",r),this.buffer=new LSe,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(uo||(uo=require("string_decoder/").StringDecoder),this.decoder=new uo(t.encoding),this.encoding=t.encoding)}function ze(t){if(so=so||kn(),!(this instanceof ze))return new ze(t);var e=this instanceof so;this._readableState=new gB(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),cu.call(this)}Object.defineProperty(ze.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});ze.prototype.destroy=Ax.destroy;ze.prototype._undestroy=Ax.undestroy;ze.prototype._destroy=function(t,e){e(t)};ze.prototype.push=function(t,e){var r=this._readableState,i;return r.objectMode?i=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=Em.from(t,e),e=""),i=!0),xB(this,t,e,!1,i)};ze.prototype.unshift=function(t){return xB(this,t,null,!0,!1)};function xB(t,e,r,i,n){He("readableAddChunk",e);var a=t._readableState;if(e===null)a.reading=!1,VSe(t,a);else{var o;if(n||(o=zSe(a,e)),o)lu(t,o);else if(a.objectMode||e&&e.length>0)if(typeof e!="string"&&!a.objectMode&&Object.getPrototypeOf(e)!==Em.prototype&&(e=RSe(e)),i)a.endEmitted?lu(t,new GSe):qx(t,a,e,!0);else if(a.ended)lu(t,new HSe);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!r?(e=a.decoder.write(e),a.objectMode||e.length!==0?qx(t,a,e,!1):Ex(t,a)):qx(t,a,e,!1)}else i||(a.reading=!1,Ex(t,a))}return!a.ended&&(a.length<a.highWaterMark||a.length===0)}function qx(t,e,r,i){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&Mm(t)),Ex(t,e)}function zSe(t,e){var r;return!kSe(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new BSe("chunk",["string","Buffer","Uint8Array"],e)),r}ze.prototype.isPaused=function(){return this._readableState.flowing===!1};ze.prototype.setEncoding=function(t){uo||(uo=require("string_decoder/").StringDecoder);var e=new uo(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";r!==null;)i+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),i!==""&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var vB=1073741824;function WSe(t){return t>=vB?t=vB:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function yB(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=WSe(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}ze.prototype.read=function(t){He("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return He("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?bx(this):Mm(this),null;if(t=yB(t,e),t===0&&e.ended)return e.length===0&&bx(this),null;var i=e.needReadable;He("need readable",i),(e.length===0||e.length-t<e.highWaterMark)&&(i=!0,He("length less than watermark",i)),e.ended||e.reading?(i=!1,He("reading or ended",i)):i&&(He("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=yB(r,e)));var n;return t>0?n=bB(t,e):n=null,n===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&bx(this)),n!==null&&this.emit("data",n),n};function VSe(t,e){if(He("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?Mm(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,wB(t)))}}function Mm(t){var e=t._readableState;He("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(He("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(wB,t))}function wB(t){var e=t._readableState;He("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,Mx(t)}function Ex(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(YSe,t,e))}function YSe(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(He("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}ze.prototype._read=function(t){lu(this,new USe("_read()"))};ze.prototype.pipe=function(t,e){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t);break}i.pipesCount+=1,He("pipe count=%d opts=%j",i.pipesCount,e);var n=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,a=n?u:L;i.endEmitted?process.nextTick(a):r.once("end",a),t.on("unpipe",o);function o(B,R){He("onunpipe"),B===r&&R&&R.hasUnpiped===!1&&(R.hasUnpiped=!0,b())}function u(){He("onend"),t.end()}var p=XSe(r);t.on("drain",p);var _=!1;function b(){He("cleanup"),t.removeListener("close",C),t.removeListener("finish",N),t.removeListener("drain",p),t.removeListener("error",S),t.removeListener("unpipe",o),r.removeListener("end",u),r.removeListener("end",L),r.removeListener("data",A),_=!0,i.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&p()}r.on("data",A);function A(B){He("ondata");var R=t.write(B);He("dest.write",R),R===!1&&((i.pipesCount===1&&i.pipes===t||i.pipesCount>1&&EB(i.pipes,t)!==-1)&&!_&&(He("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function S(B){He("onerror",B),L(),t.removeListener("error",S),_B(t,"error")===0&&lu(t,B)}jSe(t,"error",S);function C(){t.removeListener("finish",N),L()}t.once("close",C);function N(){He("onfinish"),t.removeListener("close",C),L()}t.once("finish",N);function L(){He("unpipe"),r.unpipe(t)}return t.emit("pipe",r),i.flowing||(He("pipe resume"),r.resume()),t};function XSe(t){return function(){var r=t._readableState;He("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&_B(t,"data")&&(r.flowing=!0,Mx(t))}}ze.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var i=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var a=0;a<n;a++)i[a].emit("unpipe",this,{hasUnpiped:!1});return this}var o=EB(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};ze.prototype.on=function(t,e){var r=cu.prototype.on.call(this,t,e),i=this._readableState;return t==="data"?(i.readableListening=this.listenerCount("readable")>0,i.flowing!==!1&&this.resume()):t==="readable"&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,He("on readable",i.length,i.reading),i.length?Mm(this):i.reading||process.nextTick(ZSe,this)),r};ze.prototype.addListener=ze.prototype.on;ze.prototype.removeListener=function(t,e){var r=cu.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(qB,this),r};ze.prototype.removeAllListeners=function(t){var e=cu.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&process.nextTick(qB,this),e};function qB(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function ZSe(t){He("readable nexttick read 0"),t.read(0)}ze.prototype.resume=function(){var t=this._readableState;return t.flowing||(He("resume"),t.flowing=!t.readableListening,$Se(this,t)),t.paused=!1,this};function $Se(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(QSe,t,e))}function QSe(t,e){He("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),Mx(t),e.flowing&&!e.reading&&t.read(0)}ze.prototype.pause=function(){return He("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(He("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Mx(t){var e=t._readableState;for(He("flow",e.flowing);e.flowing&&t.read()!==null;);}ze.prototype.wrap=function(t){var e=this,r=this._readableState,i=!1;t.on("end",function(){if(He("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&e.push(o)}e.push(null)}),t.on("data",function(o){if(He("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var u=e.push(o);u||(i=!0,t.pause())}});for(var n in t)this[n]===void 0&&typeof t[n]=="function"&&(this[n]=function(u){return function(){return t[u].apply(t,arguments)}}(n));for(var a=0;a<wx.length;a++)t.on(wx[a],this.emit.bind(this,wx[a]));return this._read=function(o){He("wrapped _read",o),i&&(i=!1,t.resume())},this};typeof Symbol=="function"&&(ze.prototype[Symbol.asyncIterator]=function(){return gx===void 0&&(gx=fB()),gx(this)});Object.defineProperty(ze.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(ze.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(ze.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});ze._fromList=bB;Object.defineProperty(ze.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function bB(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function bx(t){var e=t._readableState;He("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(JSe,e,t))}function JSe(t,e){if(He("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(ze.from=function(t,e){return xx===void 0&&(xx=mB()),xx(ze,t,e)});function EB(t,e){for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}});var Sx=l(($ft,SB)=>{"use strict";SB.exports=gi;var Sm=zi().codes,e2e=Sm.ERR_METHOD_NOT_IMPLEMENTED,t2e=Sm.ERR_MULTIPLE_CALLBACK,r2e=Sm.ERR_TRANSFORM_ALREADY_TRANSFORMING,i2e=Sm.ERR_TRANSFORM_WITH_LENGTH_0,Im=kn();Lt()(gi,Im);function n2e(t,e){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(i===null)return this.emit("error",new t2e);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),i(t);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function gi(t){if(!(this instanceof gi))return new gi(t);Im.call(this,t),this._transformState={afterTransform:n2e.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",a2e)}function a2e(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){MB(t,e,r)}):MB(this,null,null)}gi.prototype.push=function(t,e){return this._transformState.needTransform=!1,Im.prototype.push.call(this,t,e)};gi.prototype._transform=function(t,e,r){r(new e2e("_transform()"))};gi.prototype._write=function(t,e,r){var i=this._transformState;if(i.writecb=r,i.writechunk=t,i.writeencoding=e,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}};gi.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};gi.prototype._destroy=function(t,e){Im.prototype._destroy.call(this,t,function(r){e(r)})};function MB(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new i2e;if(t._transformState.transforming)throw new r2e;return t.push(null)}});var PB=l((Qft,OB)=>{"use strict";OB.exports=fu;var IB=Sx();Lt()(fu,IB);function fu(t){if(!(this instanceof fu))return new fu(t);IB.call(this,t)}fu.prototype._transform=function(t,e,r){r(null,t)}});var RB=l((Jft,DB)=>{"use strict";var Ix;function o2e(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var CB=zi().codes,s2e=CB.ERR_MISSING_ARGS,u2e=CB.ERR_STREAM_DESTROYED;function TB(t){if(t)throw t}function l2e(t){return t.setHeader&&typeof t.abort=="function"}function c2e(t,e,r,i){i=o2e(i);var n=!1;t.on("close",function(){n=!0}),Ix===void 0&&(Ix=wm()),Ix(t,{readable:e,writable:r},function(o){if(o)return i(o);n=!0,i()});var a=!1;return function(o){if(!n&&!a){if(a=!0,l2e(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();i(o||new u2e("pipe"))}}}function NB(t){t()}function f2e(t,e){return t.pipe(e)}function p2e(t){return!t.length||typeof t[t.length-1]!="function"?TB:t.pop()}function d2e(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=p2e(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new s2e("streams");var n,a=e.map(function(o,u){var p=u<e.length-1,_=u>0;return c2e(o,p,_,function(b){n||(n=b),b&&a.forEach(NB),!p&&(a.forEach(NB),i(n))})});return e.reduce(f2e)}DB.exports=d2e});var $r=l((_r,du)=>{var pu=require("stream");process.env.READABLE_STREAM==="disable"&&pu?(du.exports=pu.Readable,Object.assign(du.exports,pu),du.exports.Stream=pu):(_r=du.exports=vx(),_r.Stream=pu||_r,_r.Readable=_r,_r.Writable=dx(),_r.Duplex=kn(),_r.Transform=Sx(),_r.PassThrough=PB(),_r.finished=wm(),_r.pipeline=RB())});var BB=l(lo=>{"use strict";Object.defineProperty(lo,"__esModule",{value:!0});lo.getEncryptFrame=lo.getFramedEncryptStream=void 0;var Px=Xt(),h2e=$r(),Om=wt(),KB=t=>Buffer.from(t,"utf8"),FB=(0,Px.serializeFactory)(KB),{finalFrameHeader:m2e,frameHeader:v2e}=FB,kB=(0,Px.aadFactory)(KB),y2e=h2e.Transform,_2e=async()=>new Promise(t=>setImmediate(t)),LB=()=>{};function g2e(t,e,r,{plaintextLength:i,suite:n}){let a={contentLength:0,content:[],sequenceNumber:1},o=LB,{frameLength:u}=e;return(0,Om.needs)(!i||i>=0&&Px.Maximum.BYTES_PER_MESSAGE>=i,"plaintextLength out of bounds."),new class extends y2e{_transform(_,b,A){let S=u-a.contentLength;if((0,Om.needs)(!i||(i-=_.length)>=0,"Encrypted data exceeded plaintextLength."),S>_.length)return a.contentLength+=_.length,a.content.push(_),A();a.contentLength+=S,a.content.push(_.slice(0,S));let C=_.slice(S),N=Ox({pendingFrame:a,messageHeader:e,getCipher:t,isFinalFrame:!1,suite:n}),{sequenceNumber:L}=a;a={contentLength:0,content:[],sequenceNumber:L+1},this._flushEncryptFrame(N).then(()=>this._transform(C,b,A)).catch(A)}_flush(_){let b=Ox({pendingFrame:a,messageHeader:e,getCipher:t,isFinalFrame:!0,suite:n});this._flushEncryptFrame(b).then(()=>_()).catch(_)}_destroy(){r()}_read(_){super._read(_),o(),o=LB}async _flushEncryptFrame(_){let{content:b,cipher:A,bodyHeader:S,isFinalFrame:C}=_;this.push(S);let N=0,L=[];for(let R of b){let K=A.update(R);N+=K.length,L.push(K),await _2e()}let B=A.final();N+=B.length,L.push(B),L.push(A.getAuthTag()),(0,Om.needs)(N===u||C&&u>=N,"Malformed frame");for(let R of L)this.push(R)||await new Promise(K=>{o=K});C&&this.push(null)}}}lo.getFramedEncryptStream=g2e;function Ox(t){let{pendingFrame:e,messageHeader:r,getCipher:i,isFinalFrame:n,suite:a}=t,{sequenceNumber:o,contentLength:u,content:p}=e,{frameLength:_,contentType:b,messageId:A}=r;(0,Om.needs)(_===u||n&&_>=u,`Malformed frame length and content length: ${JSON.stringify({frameLength:_,contentLength:u,isFinalFrame:n})}`);let S=FB.frameIv(a.ivLength,o),C=Buffer.from(n?m2e(o,S,u):v2e(o,S)),N=kB.messageAADContentString({contentType:b,isFinalFrame:n}),{buffer:L,byteOffset:B,byteLength:R}=kB.messageAAD(A,N,o,u),K=i(S);return K.setAAD(Buffer.from(L,B,R)),{content:p,cipher:K,bodyHeader:C,isFinalFrame:n}}lo.getEncryptFrame=Ox});var HB=l(Pm=>{"use strict";Object.defineProperty(Pm,"__esModule",{value:!0});Pm.SignatureStream=void 0;var x2e=require("stream"),w2e=Xt(),Tx=class extends x2e.Transform{_signer;constructor(e){super();let r=e&&e();Object.defineProperty(this,"_signer",{value:r,enumerable:!0})}_transform(e,r,i){this._signer&&this._signer.update(e),i(null,e)}_flush(e){if(this._signer){let r=this._signer.awsCryptoSign();this.push((0,w2e.serializeSignatureInfo)(r))}e()}};Pm.SignatureStream=Tx});var jB=l((ipt,GB)=>{GB.exports=UB;function UB(t,e){if(t&&e)return UB(t)(e);if(typeof t!="function")throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(i){r[i]=t[i]}),r;function r(){for(var i=new Array(arguments.length),n=0;n<i.length;n++)i[n]=arguments[n];var a=t.apply(this,i),o=i[i.length-1];return typeof a=="function"&&a!==o&&Object.keys(o).forEach(function(u){a[u]=o[u]}),a}}});var VB=l((npt,Nx)=>{var zB=jB();Nx.exports=zB(Tm);Nx.exports.strict=zB(WB);Tm.proto=Tm(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Tm(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return WB(this)},configurable:!0})});function Tm(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function WB(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}});var ZB=l((apt,XB)=>{var q2e=VB(),b2e=function(){},E2e=function(t){return t.setHeader&&typeof t.abort=="function"},A2e=function(t){return t.stdio&&Array.isArray(t.stdio)&&t.stdio.length===3},YB=function(t,e,r){if(typeof e=="function")return YB(t,null,e);e||(e={}),r=q2e(r||b2e);var i=t._writableState,n=t._readableState,a=e.readable||e.readable!==!1&&t.readable,o=e.writable||e.writable!==!1&&t.writable,u=!1,p=function(){t.writable||_()},_=function(){o=!1,a||r.call(t)},b=function(){a=!1,o||r.call(t)},A=function(B){r.call(t,B?new Error("exited with error code: "+B):null)},S=function(B){r.call(t,B)},C=function(){process.nextTick(N)},N=function(){if(!u){if(a&&!(n&&n.ended&&!n.destroyed))return r.call(t,new Error("premature close"));if(o&&!(i&&i.ended&&!i.destroyed))return r.call(t,new Error("premature close"))}},L=function(){t.req.on("finish",_)};return E2e(t)?(t.on("complete",_),t.on("abort",C),t.req?L():t.on("request",L)):o&&!i&&(t.on("end",p),t.on("close",p)),A2e(t)&&t.on("exit",A),t.on("end",b),t.on("finish",_),e.error!==!1&&t.on("error",S),t.on("close",C),function(){u=!0,t.removeListener("complete",_),t.removeListener("abort",C),t.removeListener("request",L),t.req&&t.req.removeListener("finish",_),t.removeListener("end",p),t.removeListener("close",p),t.removeListener("finish",_),t.removeListener("exit",A),t.removeListener("end",b),t.removeListener("error",S),t.removeListener("close",C)}};XB.exports=YB});var QB=l((opt,$B)=>{$B.exports=M2e;function M2e(t){var e=t._readableState;return e?e.objectMode||typeof t._duplexState=="number"?t.read():t.read(S2e(e)):null}function S2e(t){if(t.buffer.length){var e=t.bufferIndex||0;if(t.buffer.head)return t.buffer.head.data.length;if(t.buffer.length-e>0&&t.buffer[e])return t.buffer[e].length}return t.length}});var Dx=l((spt,r3)=>{var Nm=$r(),JB=ZB(),I2e=Lt(),O2e=QB(),e3=Buffer.from&&Buffer.from!==Uint8Array.from?Buffer.from([0]):new Buffer([0]),Cx=function(t,e){t._corked?t.once("uncork",e):e()},P2e=function(t,e){t._autoDestroy&&t.destroy(e)},t3=function(t,e){return function(r){r?P2e(t,r.message==="premature close"?null:r):e&&!t._ended&&t.end()}},T2e=function(t,e){if(!t||t._writableState&&t._writableState.finished)return e();if(t._writableState)return t.end(e);t.end(),e()},N2e=function(){},C2e=function(t){return new Nm.Readable({objectMode:!0,highWaterMark:16}).wrap(t)},Mt=function(t,e,r){if(!(this instanceof Mt))return new Mt(t,e,r);Nm.Duplex.call(this,r),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!r||r.autoDestroy!==!1,this._forwardDestroy=!r||r.destroy!==!1,this._forwardEnd=!r||r.end!==!1,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,t&&this.setWritable(t),e&&this.setReadable(e)};I2e(Mt,Nm.Duplex);Mt.obj=function(t,e,r){return r||(r={}),r.objectMode=!0,r.highWaterMark=16,new Mt(t,e,r)};Mt.prototype.cork=function(){++this._corked===1&&this.emit("cork")};Mt.prototype.uncork=function(){this._corked&&--this._corked===0&&this.emit("uncork")};Mt.prototype.setWritable=function(t){if(this._unwrite&&this._unwrite(),this.destroyed){t&&t.destroy&&t.destroy();return}if(t===null||t===!1){this.end();return}var e=this,r=JB(t,{writable:!0,readable:!1},t3(this,this._forwardEnd)),i=function(){var a=e._ondrain;e._ondrain=null,a&&a()},n=function(){e._writable.removeListener("drain",i),r()};this._unwrite&&process.nextTick(i),this._writable=t,this._writable.on("drain",i),this._unwrite=n,this.uncork()};Mt.prototype.setReadable=function(t){if(this._unread&&this._unread(),this.destroyed){t&&t.destroy&&t.destroy();return}if(t===null||t===!1){this.push(null),this.resume();return}var e=this,r=JB(t,{writable:!1,readable:!0},t3(this)),i=function(){e._forward()},n=function(){e.push(null)},a=function(){e._readable2.removeListener("readable",i),e._readable2.removeListener("end",n),r()};this._drained=!0,this._readable=t,this._readable2=t._readableState?t:C2e(t),this._readable2.on("readable",i),this._readable2.on("end",n),this._unread=a,this._forward()};Mt.prototype._read=function(){this._drained=!0,this._forward()};Mt.prototype._forward=function(){if(!(this._forwarding||!this._readable2||!this._drained)){this._forwarding=!0;for(var t;this._drained&&(t=O2e(this._readable2))!==null;)this.destroyed||(this._drained=this.push(t));this._forwarding=!1}};Mt.prototype.destroy=function(t,e){if(e||(e=N2e),this.destroyed)return e(null);this.destroyed=!0;var r=this;process.nextTick(function(){r._destroy(t),e(null)})};Mt.prototype._destroy=function(t){if(t){var e=this._ondrain;this._ondrain=null,e?e(t):this.emit("error",t)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")};Mt.prototype._write=function(t,e,r){if(!this.destroyed){if(this._corked)return Cx(this,this._write.bind(this,t,e,r));if(t===e3)return this._finish(r);if(!this._writable)return r();this._writable.write(t)===!1?this._ondrain=r:this.destroyed||r()}};Mt.prototype._finish=function(t){var e=this;this.emit("preend"),Cx(this,function(){T2e(e._forwardEnd&&e._writable,function(){e._writableState.prefinished===!1&&(e._writableState.prefinished=!0),e.emit("prefinish"),Cx(e,t)})})};Mt.prototype.end=function(t,e,r){return typeof t=="function"?this.end(null,null,t):typeof e=="function"?this.end(t,null,e):(this._ended=!0,t&&this.write(t),!this._writableState.ending&&!this._writableState.destroyed&&this.write(e3),Nm.Writable.prototype.end.call(this,r))};r3.exports=Mt});var Rx=l(Zi=>{"use strict";var D2e=Zi&&Zi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zi,"__esModule",{value:!0});Zi.getEncryptionInfo=Zi._encryptStream=void 0;var Zt=wt(),R2e=BB(),k2e=HB(),L2e=D2e(Dx()),K2e=require("crypto"),co=Xt(),F2e=$r(),B2e=t=>Buffer.from(t,"utf8"),{serializeMessageHeader:H2e,headerAuthIv:U2e,buildMessageHeader:G2e}=(0,co.serializeFactory)(B2e);function j2e({commitmentPolicy:t,maxEncryptedDataKeys:e},r,i={}){(0,Zt.needs)(Zt.CommitmentPolicy[t],"Invalid commitment policy."),(0,Zt.needs)(e===!1||e>=1,"Invalid maxEncryptedDataKeys value.");let{suiteId:n,encryptionContext:a={},frameLength:o=co.FRAME_LENGTH,plaintextLength:u}=i;(0,Zt.needs)(o>0&&co.Maximum.FRAME_SIZE>=o,`frameLength out of bounds: 0 > frameLength >= ${co.Maximum.FRAME_SIZE}`),r=r instanceof Zt.KeyringNode?new Zt.NodeDefaultCryptographicMaterialsManager(r):r;let p=n&&new Zt.NodeAlgorithmSuite(n);Zt.CommitmentPolicySuites.isEncryptEnabled(t,p);let _=new L2e.default;return r.getEncryptionMaterials({suite:p,encryptionContext:a,plaintextLength:u,commitmentPolicy:t}).then(async b=>{Zt.CommitmentPolicySuites.isEncryptEnabled(t,b.suite),(0,Zt.needs)(e===!1||b.encryptedDataKeys.length<=e,"maxEncryptedDataKeys exceeded.");let{getCipher:A,messageHeader:S,rawHeader:C,dispose:N,getSigner:L}=i3(b,o);_.emit("MessageHeader",S);let B=(0,R2e.getFramedEncryptStream)(A,S,N,{plaintextLength:u,suite:b.suite}),R=new k2e.SignatureStream(L);(0,F2e.pipeline)(B,R),_.setReadable(R),C.forEach(K=>R.write(K)),_.setWritable(B)}).catch(b=>_.emit("error",b)),_}Zi._encryptStream=j2e;function i3(t,e){let{getCipherInfo:r,dispose:i,getSigner:n}=(0,Zt.getEncryptHelper)(t),{suite:a,encryptionContext:o,encryptedDataKeys:u}=t,{ivLength:p,messageFormat:_}=t.suite,b=Zt.MessageFormat[_],A=parseInt(co.MessageIdLength[b],10);(0,Zt.needs)(A>0,"Algorithm suite has unknown message format.");let S=(0,K2e.randomBytes)(A),{getCipher:C,keyCommitment:N}=r(S),L=G2e({suite:a,encryptedDataKeys:u,encryptionContext:o,messageId:S,frameLength:e,suiteData:N}),{buffer:B,byteOffset:R,byteLength:K}=H2e(L),z=Buffer.from(B,R,K),W=U2e(p),re=C(W);re.setAAD(z),re.update(Buffer.alloc(0)),re.final();let V=re.getAuthTag();return{getCipher:C,dispose:i,getSigner:n,messageHeader:L,rawHeader:[z,(0,co.serializeMessageHeaderAuth)({headerIv:W,headerAuthTag:V,messageHeader:L})]}}Zi.getEncryptionInfo=i3});var n3=l(Cm=>{"use strict";Object.defineProperty(Cm,"__esModule",{value:!0});Cm._encrypt=void 0;var z2e=Rx(),W2e=$r();async function V2e(t,e,r,i={}){let{encoding:n}=i;r instanceof Uint8Array?i.plaintextLength=r.byteLength:typeof r=="string"&&(r=Buffer.from(r,n),i.plaintextLength=r.byteLength);let a=(0,z2e._encryptStream)(t,e,i),o=[],u=!1;if(a.once("MessageHeader",p=>{u=p}).on("data",p=>o.push(p)),r instanceof Uint8Array)a.end(r);else if(r.readable)r.pipe(a);else throw new Error("Unsupported plaintext");if(await Y2e(a),!u)throw new Error("Unknown format");return{result:Buffer.concat(o),messageHeader:u}}Cm._encrypt=V2e;async function Y2e(t){return new Promise((e,r)=>{(0,W2e.finished)(t,i=>i?r(i):e())})}});var a3=l(Rm=>{"use strict";Object.defineProperty(Rm,"__esModule",{value:!0});Rm.buildEncrypt=void 0;var X2e=Rx(),Z2e=n3(),Dm=wt();function $2e(t={}){let{commitmentPolicy:e=Dm.CommitmentPolicy.REQUIRE_ENCRYPT_REQUIRE_DECRYPT,maxEncryptedDataKeys:r=!1}=typeof t=="string"?{commitmentPolicy:t}:t;(0,Dm.needs)(Dm.CommitmentPolicy[e],"Invalid commitment policy."),(0,Dm.needs)(r===!1||r>=1,"Invalid maxEncryptedDataKeys value.");let i={commitmentPolicy:e,maxEncryptedDataKeys:r};return{encryptStream:X2e._encryptStream.bind({},i),encrypt:Z2e._encrypt.bind({},i)}}Rm.buildEncrypt=$2e});var kx=l(km=>{"use strict";Object.defineProperty(km,"__esModule",{value:!0});km.buildEncrypt=void 0;var Q2e=a3();Object.defineProperty(km,"buildEncrypt",{enumerable:!0,get:function(){return Q2e.buildEncrypt}})});var Kx=l(Lm=>{"use strict";Object.defineProperty(Lm,"__esModule",{value:!0});Lm.ParseHeaderStream=void 0;var J2e=$r(),gr=wt(),eIe=Xt(),tIe=t=>Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"),rIe=(0,eIe.deserializeFactory)(tIe,gr.NodeAlgorithmSuite),iIe=J2e.Transform,Lx=class extends iIe{materialsManager;commitmentPolicy;signaturePolicy;maxEncryptedDataKeys;_headerState;constructor(e,{commitmentPolicy:r,maxEncryptedDataKeys:i},n){super(),(0,gr.needs)(gr.CommitmentPolicy[r],"Invalid commitment policy."),(0,gr.needs)(gr.SignaturePolicy[e],"Invalid signature policy."),(0,gr.needs)(i===!1||i>=1,"Invalid maxEncryptedDataKeys value."),Object.defineProperty(this,"materialsManager",{value:n,enumerable:!0}),Object.defineProperty(this,"commitmentPolicy",{value:r,enumerable:!0}),Object.defineProperty(this,"maxEncryptedDataKeys",{value:i,enumerable:!0}),this._headerState={buffer:Buffer.alloc(0),headerParsed:!1},Object.defineProperty(this,"signaturePolicy",{value:e,enumerable:!0})}_transform(e,r,i){try{let{_headerState:n,commitmentPolicy:a,materialsManager:o,signaturePolicy:u,maxEncryptedDataKeys:p}=this,{buffer:_}=n,b=Buffer.concat([_,e]),A=rIe.deserializeMessageHeader(b,{maxEncryptedDataKeys:p});if(!A)return n.buffer=b,i();let{messageHeader:S,algorithmSuite:C}=A,N=Buffer.from(S.messageId).toString("hex");gr.CommitmentPolicySuites.isDecryptEnabled(a,C,N),gr.SignaturePolicySuites.isDecryptEnabled(u,C,N);let{rawHeader:L,headerAuth:B}=A,{headerIv:R,headerAuthTag:K,headerAuthLength:z}=B,W=new gr.NodeAlgorithmSuite(C.id),{messageId:re,encryptionContext:V,encryptedDataKeys:Xe}=S;o.decryptMaterials({suite:W,encryptionContext:V,encryptedDataKeys:Xe}).then(Q=>{gr.CommitmentPolicySuites.isDecryptEnabled(a,Q.suite,N),gr.SignaturePolicySuites.isDecryptEnabled(u,Q.suite,N),n.buffer=Buffer.alloc(0);let{getDecipherInfo:Ze,getVerify:O,dispose:d}=(0,gr.getDecryptionHelper)(Q),x=Ze(re,S.suiteData),m=x(R);m.setAAD(Buffer.from(L.buffer,L.byteOffset,L.byteLength)),m.setAuthTag(Buffer.from(K.buffer,K.byteOffset,K.byteLength)),m.update(Buffer.alloc(0)),m.final();let s=O?O():void 0,f={headerInfo:A,getDecipher:x,verify:s,dispose:d};this.emit("VerifyInfo",f),this.emit("MessageHeader",A.messageHeader),n.headerParsed=!0;let v=L.byteLength+z,g=b.slice(v);return this._transform=(y,c,q)=>{try{q(null,y)}catch(E){this.emit("error",E)}},setImmediate(()=>this._transform(g,r,i))}).catch(Q=>i(Q))}catch(n){this.emit("error",n)}}_flush(e){e(this._headerState.headerParsed?void 0:new Error("Incomplete Header"))}};Lm.ParseHeaderStream=Lx});var Hx=l(Km=>{"use strict";Object.defineProperty(Km,"__esModule",{value:!0});Km.VerifyStream=void 0;var nIe=$r(),fo=wt(),Fx=Xt(),aIe=Kx(),oIe=nIe.Transform,Bx=class extends oIe{_headerInfo;_verifyState={buffer:Buffer.alloc(0),authTagBuffer:Buffer.alloc(0),signatureInfo:Buffer.alloc(0),sequenceNumber:0,finalAuthTagReceived:!1};_verify;_maxBodySize;constructor({maxBodySize:e}){super(),(0,fo.needs)(!e||typeof e=="number","Unsupported MaxBodySize."),Object.defineProperty(this,"_maxBodySize",{value:e,enumerable:!0}),this.on("pipe",r=>{(0,fo.needs)(r instanceof aIe.ParseHeaderStream,"Unsupported source"),r.once("VerifyInfo",i=>{let{getDecipher:n,verify:a,headerInfo:o,dispose:u}=i,{messageId:p,contentType:_}=o.messageHeader;if(a){let{rawHeader:A,headerAuth:S,messageHeader:C}=o,{headerIv:N,headerAuthTag:L}=S;a.update(A),a.update((0,Fx.serializeMessageHeaderAuth)({headerIv:N,headerAuthTag:L,messageHeader:C}))}Object.defineProperty(this,"_headerInfo",{value:o,enumerable:!0}),Object.defineProperty(this,"_verify",{value:a,enumerable:!0});let b={messageId:Buffer.from(p.buffer||p,p.byteOffset||0,p.byteLength),contentType:_,getDecipher:n,dispose:u};this.emit("DecipherInfo",b)})})}_transform(e,r,i){(0,fo.needs)(this._headerInfo,"VerifyStream not configured, VerifyInfo event not yet received.");let n=this._verifyState,{currentFrame:a}=n;if(!a){let{buffer:b}=n,A=Buffer.concat([b,e]),S=(0,Fx.decodeBodyHeader)(A,this._headerInfo,0);if(!S)return n.buffer=A,i();(0,fo.needs)(!this._maxBodySize||this._maxBodySize>=S.contentLength,"maxBodySize exceeded."),n.sequenceNumber+=1,(0,fo.needs)(S.sequenceNumber===n.sequenceNumber,"Encrypted body sequence out of order."),this._verify&&this._verify.update(A.slice(0,S.readPos));let C=A.slice(S.readPos);return this.emit("BodyInfo",S),n.currentFrame=S,setImmediate(()=>this._transform(C,r,i))}let{contentLength:o}=a;if(e.length&&o>0){if(o>e.length)return a.contentLength-=e.length,this.push(e),i();{let b=e.slice(0,o),A=e.slice(b.length);return this.push(b),a.contentLength=0,setImmediate(()=>this._transform(A,r,i))}}let{tagLength:u}=a,p=u/8,{authTagBuffer:_}=n;if(e.length&&p>_.length){let b=p-_.length;if(b>e.length)return n.authTagBuffer=Buffer.concat([_,e]),i();{let A=Buffer.concat([_,e],p);this._verify&&this._verify.update(A),n.buffer=Buffer.alloc(0),n.currentFrame=void 0,n.authTagBuffer=Buffer.alloc(0),a.isFinalFrame&&(this._verifyState.finalAuthTagReceived=!0,this._transform=(N,L,B)=>{N.length&&(n.signatureInfo=Buffer.concat([n.signatureInfo,N])),B()});let S=e.slice(b),C=()=>this._transform(S,r,i);return this.emit("AuthTag",A,C)}}i()}push(e,r){return this._verify&&e&&this._verify.update(e),super.push(e,r)}_flush(e){let{finalAuthTagReceived:r}=this._verifyState;if(!r)return e(new Error("Incomplete message"));if(!this._verify)return e();try{let{signatureInfo:i}=this._verifyState,{buffer:n,byteOffset:a,byteLength:o}=(0,Fx.deserializeSignature)(i),u=Buffer.from(n,a,o),p=this._verify.awsCryptoVerify(u);(0,fo.needs)(p,"Invalid Signature"),e()}catch(i){e(i)}}};Km.VerifyStream=Bx});var u3=l(Fm=>{"use strict";Object.defineProperty(Fm,"__esModule",{value:!0});Fm.getDecipherStream=void 0;var sIe=$r(),Bn=wt(),uIe=Xt(),lIe=Hx(),cIe=t=>Buffer.from(t,"utf8"),o3=(0,uIe.aadFactory)(cIe),fIe=sIe.Transform,pIe=async()=>new Promise(t=>setImmediate(t)),s3=()=>{};function dIe(){let t,e={},r=s3,i=!1;return new class extends fIe{constructor(){super(),this.on("pipe",a=>{(0,Bn.needs)(a instanceof lIe.VerifyStream,"Unsupported source"),a.once("DecipherInfo",o=>{t=o}).on("BodyInfo",this._onBodyHeader).on("AuthTag",(o,u)=>{this._onAuthTag(o,u).catch(p=>this.emit("error",p))})})}_onBodyHeader=({iv:a,contentLength:o,sequenceNumber:u,isFinalFrame:p})=>{(0,Bn.needs)(t,"Malformed State."),(0,Bn.needs)(!e.decipher,"Malformed State.");let{messageId:_,contentType:b,getDecipher:A}=t,S=o3.messageAADContentString({contentType:b,isFinalFrame:p}),C=o3.messageAAD(_,S,u,o);e={decipher:A(a).setAAD(Buffer.from(C.buffer,C.byteOffset,C.byteLength)),content:[],contentLength:o}};_transform(a,o,u){(0,Bn.needs)(e.decipher,"Malformed State."),e.contentLength-=a.length,(0,Bn.needs)(e.contentLength>=0,"Lengths do not match");let{content:p}=e;p.push(a),e.contentLength>0?u():i=u}_read(a){r(),r=s3,super._read(a)}_onAuthTag=async(a,o)=>{let{decipher:u,content:p,contentLength:_}=e;(0,Bn.needs)(i||_===0,"AuthTag before frame."),(0,Bn.needs)(_===0,"Lengths do not match"),e={},u.setAuthTag(a),p.length||u.update(Buffer.alloc(0));let b=[];for(let S of p){let C=u.update(S);b.push(C),await pIe()}let A=u.final();b.push(A);for(let S of b)this.push(S)||await new Promise(C=>{r=C});o(),i&&i(),i=!1};_destroy(){t&&t.dispose()}}}Fm.getDecipherStream=dIe});var Ux=l(po=>{"use strict";var hIe=po&&po.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(po,"__esModule",{value:!0});po._decryptStream=void 0;var l3=wt(),mIe=Kx(),vIe=Hx(),yIe=u3(),_Ie=hIe(Dx()),c3=$r();function gIe(t,e,{maxBodySize:r}={}){e=e instanceof l3.KeyringNode?new l3.NodeDefaultCryptographicMaterialsManager(e):e;let i=new mIe.ParseHeaderStream(t.signaturePolicy,t.clientOptions,e),n=new vIe.VerifyStream({maxBodySize:r}),a=(0,yIe.getDecipherStream)(),o=new _Ie.default(i,a);return(0,c3.pipeline)(i,n,a,new c3.PassThrough,u=>{u&&o.emit("error",u)}),i.once("MessageHeader",u=>o.emit("MessageHeader",u)),o}po._decryptStream=gIe});var f3=l(Bm=>{"use strict";Object.defineProperty(Bm,"__esModule",{value:!0});Bm._decrypt=void 0;var xIe=Ux(),wIe=$r();async function qIe(t,e,r,{encoding:i,maxBodySize:n}={}){let a=(0,xIe._decryptStream)(t,e,{maxBodySize:n}),o=[],u=!1;if(a.once("MessageHeader",p=>{u=p}).on("data",p=>o.push(p)),r instanceof Uint8Array)a.end(r);else if(typeof r=="string")a.end(Buffer.from(r,i));else if(r.readable)r.pipe(a);else throw new Error("Unsupported ciphertext format");if(await bIe(a),!u)throw new Error("Unknown format");return{plaintext:Buffer.concat(o),messageHeader:u}}Bm._decrypt=qIe;async function bIe(t){return new Promise((e,r)=>{(0,wIe.finished)(t,i=>i?r(i):e())})}});var h3=l(Hm=>{"use strict";Object.defineProperty(Hm,"__esModule",{value:!0});Hm.buildDecrypt=void 0;var p3=Ux(),EIe=f3(),Hn=wt();function d3(t={}){let{commitmentPolicy:e=Hn.CommitmentPolicy.REQUIRE_ENCRYPT_REQUIRE_DECRYPT,maxEncryptedDataKeys:r=!1}=typeof t=="string"?{commitmentPolicy:t}:t;(0,Hn.needs)(Hn.CommitmentPolicy[e],"Invalid commitment policy."),(0,Hn.needs)(r===!1||r>=1,"Invalid maxEncryptedDataKeys value.");let i={commitmentPolicy:e,maxEncryptedDataKeys:r};return{decryptUnsignedMessageStream:p3._decryptStream.bind({},{signaturePolicy:Hn.SignaturePolicy.ALLOW_ENCRYPT_FORBID_DECRYPT,clientOptions:i}),decryptStream:p3._decryptStream.bind({},{signaturePolicy:Hn.SignaturePolicy.ALLOW_ENCRYPT_ALLOW_DECRYPT,clientOptions:i}),decrypt:EIe._decrypt.bind({},{signaturePolicy:Hn.SignaturePolicy.ALLOW_ENCRYPT_ALLOW_DECRYPT,clientOptions:i})}}Hm.buildDecrypt=d3;var{decryptUnsignedMessageStream:AIe,decryptStream:_pt,decrypt:gpt}=d3();AIe({})});var Gx=l(Um=>{"use strict";Object.defineProperty(Um,"__esModule",{value:!0});Um.buildDecrypt=void 0;var MIe=h3();Object.defineProperty(Um,"buildDecrypt",{enumerable:!0,get:function(){return MIe.buildDecrypt}})});var v3=l(m3=>{"use strict";Object.defineProperty(m3,"__esModule",{value:!0})});var y3=l(Qr=>{"use strict";Object.defineProperty(Qr,"__esModule",{value:!0});Qr.cacheEntryHasExceededLimits=Qr.decryptMaterials=Qr.getEncryptionMaterials=Qr.decorateProperties=void 0;var $t=je(),Gm=Xt();function SIe(t,e){let{cache:r,backingMaterialsManager:i,maxAge:n,maxBytesEncrypted:a,maxMessagesEncrypted:o,partition:u}=e;(0,$t.needs)(r,"You must provide a cache."),(0,$t.needs)(i,"You must provide a backing material source."),(0,$t.needs)(n>0,"You must configure a maxAge"),(0,$t.needs)(!a||a>0&&Gm.Maximum.BYTES_PER_CACHED_KEY_LIMIT>=a,"maxBytesEncrypted is outside of bounds."),(0,$t.needs)(!o||o>0&&Gm.Maximum.MESSAGES_PER_CACHED_KEY_LIMIT>=o,"maxMessagesEncrypted is outside of bounds."),(0,$t.needs)(u&&typeof u=="string","partition must be a string."),(0,$t.readOnlyProperty)(t,"_cache",r),(0,$t.readOnlyProperty)(t,"_backingMaterialsManager",i),(0,$t.readOnlyProperty)(t,"_maxAge",n),(0,$t.readOnlyProperty)(t,"_maxBytesEncrypted",a||Gm.Maximum.BYTES_PER_CACHED_KEY_LIMIT),(0,$t.readOnlyProperty)(t,"_maxMessagesEncrypted",o||Gm.Maximum.MESSAGES_PER_CACHED_KEY_LIMIT),(0,$t.readOnlyProperty)(t,"_partition",u)}Qr.decorateProperties=SIe;function IIe({buildEncryptionMaterialCacheKey:t}){return async function(r){let{suite:i,encryptionContext:n,plaintextLength:a,commitmentPolicy:o}=r;if(i&&!i.cacheSafe||typeof a!="number"||a<0)return await this._backingMaterialsManager.getEncryptionMaterials(r);let u=await t(this._partition,{suite:i,encryptionContext:n}),p=this._cache.getEncryptionMaterial(u,a);if(p&&!this._cacheEntryHasExceededLimits(p))return jm(p.response);this._cache.del(u);let _=await this._backingMaterialsManager.getEncryptionMaterials({suite:i,encryptionContext:n,commitmentPolicy:o});if(!_.suite.cacheSafe)return _;let b={response:_,now:Date.now(),messagesEncrypted:1,bytesEncrypted:a};return this._cacheEntryHasExceededLimits(b)?_:(this._cache.putEncryptionMaterial(u,_,a,this._maxAge),jm(_))}}Qr.getEncryptionMaterials=IIe;function OIe({buildDecryptionMaterialCacheKey:t}){return async function(r){let{suite:i}=r;if(!i.cacheSafe)return await this._backingMaterialsManager.decryptMaterials(r);let n=await t(this._partition,r),a=this._cache.getDecryptionMaterial(n);if(a&&!this._cacheEntryHasExceededLimits(a))return jm(a.response);this._cache.del(n);let o=await this._backingMaterialsManager.decryptMaterials(r);return this._cache.putDecryptionMaterial(n,o,this._maxAge),jm(o)}}Qr.decryptMaterials=OIe;function PIe(){return function({now:e,messagesEncrypted:r,bytesEncrypted:i}){return Date.now()-e>this._maxAge||r>this._maxMessagesEncrypted||i>this._maxBytesEncrypted}}Qr.cacheEntryHasExceededLimits=PIe;function jm(t){return(0,$t.cloneMaterial)(t)}});var _3=l(zm=>{"use strict";Object.defineProperty(zm,"__esModule",{value:!0});zm.compare=void 0;function TIe(t,e){let r=t.byteLength>e.byteLength?e.byteLength:t.byteLength;for(let i=0;r>i;i+=1){if(t[i]>e[i])return 1;if(t[i]<e[i])return-1}return t.byteLength>e.byteLength?1:t.byteLength<e.byteLength?-1:0}zm.compare=TIe});var g3=l(Wm=>{"use strict";Object.defineProperty(Wm,"__esModule",{value:!0});Wm.buildCryptographicMaterialsCacheKeyHelpers=void 0;var jx=Xt(),NIe=_3(),CIe=Buffer.alloc(64);function DIe(t,e,r){let{serializeEncryptionContext:i,serializeEncryptedDataKey:n}=(0,jx.serializeFactory)(t);return{buildEncryptionMaterialCacheKey:a,buildDecryptionMaterialCacheKey:o,encryptedDataKeysHash:u,encryptionContextHash:p};async function a(_,{suite:b,encryptionContext:A}){let S=b?[new Uint8Array([1]),(0,jx.uInt16BE)(b.id)]:[new Uint8Array([0])],C=await r(await r(t(_)),...S,await p(A));return e(C)}async function o(_,{suite:b,encryptedDataKeys:A,encryptionContext:S}){let{id:C}=b,N=await r(await r(t(_)),(0,jx.uInt16BE)(C),...await u(A),CIe,await p(S));return e(N)}async function u(_){return(await Promise.all(_.map(n).map(async A=>r(A)))).sort(NIe.compare)}async function p(_){let b=i(_).slice(2);return r(b)}}Wm.buildCryptographicMaterialsCacheKeyHelpers=DIe});var w3=l((Mpt,x3)=>{"use strict";x3.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var b3=l((Spt,q3)=>{"use strict";q3.exports=We;We.Node=Un;We.create=We;function We(t){var e=this;if(e instanceof We||(e=new We),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(n){e.push(n)});else if(arguments.length>0)for(var r=0,i=arguments.length;r<i;r++)e.push(arguments[r]);return e}We.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};We.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};We.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};We.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)kIe(this,arguments[t]);return this.length};We.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)LIe(this,arguments[t]);return this.length};We.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};We.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};We.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,i=0;r!==null;i++)t.call(e,r.value,i,this),r=r.next};We.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,i=this.length-1;r!==null;i--)t.call(e,r.value,i,this),r=r.prev};We.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};We.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};We.prototype.map=function(t,e){e=e||this;for(var r=new We,i=this.head;i!==null;)r.push(t.call(e,i.value,this)),i=i.next;return r};We.prototype.mapReverse=function(t,e){e=e||this;for(var r=new We,i=this.tail;i!==null;)r.push(t.call(e,i.value,this)),i=i.prev;return r};We.prototype.reduce=function(t,e){var r,i=this.head;if(arguments.length>1)r=e;else if(this.head)i=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var n=0;i!==null;n++)r=t(r,i.value,n),i=i.next;return r};We.prototype.reduceReverse=function(t,e){var r,i=this.tail;if(arguments.length>1)r=e;else if(this.tail)i=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var n=this.length-1;i!==null;n--)r=t(r,i.value,n),i=i.prev;return r};We.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};We.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};We.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new We;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var i=0,n=this.head;n!==null&&i<t;i++)n=n.next;for(;n!==null&&i<e;i++,n=n.next)r.push(n.value);return r};We.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new We;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var i=this.length,n=this.tail;n!==null&&i>e;i--)n=n.prev;for(;n!==null&&i>t;i--,n=n.prev)r.push(n.value);return r};We.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var i=0,n=this.head;n!==null&&i<t;i++)n=n.next;for(var a=[],i=0;n&&i<e;i++)a.push(n.value),n=this.removeNode(n);n===null&&(n=this.tail),n!==this.head&&n!==this.tail&&(n=n.prev);for(var i=0;i<r.length;i++)n=RIe(this,n,r[i]);return a};We.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var i=r.prev;r.prev=r.next,r.next=i}return this.head=e,this.tail=t,this};function RIe(t,e,r){var i=e===t.head?new Un(r,null,e,t):new Un(r,e,e.next,t);return i.next===null&&(t.tail=i),i.prev===null&&(t.head=i),t.length++,i}function kIe(t,e){t.tail=new Un(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function LIe(t,e){t.head=new Un(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function Un(t,e,r,i){if(!(this instanceof Un))return new Un(t,e,r,i);this.list=i,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{w3()(We)}catch{}});var I3=l((Ipt,S3)=>{"use strict";var KIe=b3(),Gn=Symbol("max"),wi=Symbol("length"),ho=Symbol("lengthCalculator"),mu=Symbol("allowStale"),jn=Symbol("maxAge"),xi=Symbol("dispose"),E3=Symbol("noDisposeOnSet"),qt=Symbol("lruList"),Tr=Symbol("cache"),M3=Symbol("updateAgeOnGet"),zx=()=>1,Vx=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let r=this[Gn]=e.max||1/0,i=e.length||zx;if(this[ho]=typeof i!="function"?zx:i,this[mu]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[jn]=e.maxAge||0,this[xi]=e.dispose,this[E3]=e.noDisposeOnSet||!1,this[M3]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[Gn]=e||1/0,hu(this)}get max(){return this[Gn]}set allowStale(e){this[mu]=!!e}get allowStale(){return this[mu]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[jn]=e,hu(this)}get maxAge(){return this[jn]}set lengthCalculator(e){typeof e!="function"&&(e=zx),e!==this[ho]&&(this[ho]=e,this[wi]=0,this[qt].forEach(r=>{r.length=this[ho](r.value,r.key),this[wi]+=r.length})),hu(this)}get lengthCalculator(){return this[ho]}get length(){return this[wi]}get itemCount(){return this[qt].length}rforEach(e,r){r=r||this;for(let i=this[qt].tail;i!==null;){let n=i.prev;A3(this,e,i,r),i=n}}forEach(e,r){r=r||this;for(let i=this[qt].head;i!==null;){let n=i.next;A3(this,e,i,r),i=n}}keys(){return this[qt].toArray().map(e=>e.key)}values(){return this[qt].toArray().map(e=>e.value)}reset(){this[xi]&&this[qt]&&this[qt].length&&this[qt].forEach(e=>this[xi](e.key,e.value)),this[Tr]=new Map,this[qt]=new KIe,this[wi]=0}dump(){return this[qt].map(e=>Vm(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[qt]}set(e,r,i){if(i=i||this[jn],i&&typeof i!="number")throw new TypeError("maxAge must be a number");let n=i?Date.now():0,a=this[ho](r,e);if(this[Tr].has(e)){if(a>this[Gn])return mo(this,this[Tr].get(e)),!1;let p=this[Tr].get(e).value;return this[xi]&&(this[E3]||this[xi](e,p.value)),p.now=n,p.maxAge=i,p.value=r,this[wi]+=a-p.length,p.length=a,this.get(e),hu(this),!0}let o=new Yx(e,r,a,n,i);return o.length>this[Gn]?(this[xi]&&this[xi](e,r),!1):(this[wi]+=o.length,this[qt].unshift(o),this[Tr].set(e,this[qt].head),hu(this),!0)}has(e){if(!this[Tr].has(e))return!1;let r=this[Tr].get(e).value;return!Vm(this,r)}get(e){return Wx(this,e,!0)}peek(e){return Wx(this,e,!1)}pop(){let e=this[qt].tail;return e?(mo(this,e),e.value):null}del(e){mo(this,this[Tr].get(e))}load(e){this.reset();let r=Date.now();for(let i=e.length-1;i>=0;i--){let n=e[i],a=n.e||0;if(a===0)this.set(n.k,n.v);else{let o=a-r;o>0&&this.set(n.k,n.v,o)}}}prune(){this[Tr].forEach((e,r)=>Wx(this,r,!1))}},Wx=(t,e,r)=>{let i=t[Tr].get(e);if(i){let n=i.value;if(Vm(t,n)){if(mo(t,i),!t[mu])return}else r&&(t[M3]&&(i.value.now=Date.now()),t[qt].unshiftNode(i));return n.value}},Vm=(t,e)=>{if(!e||!e.maxAge&&!t[jn])return!1;let r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[jn]&&r>t[jn]},hu=t=>{if(t[wi]>t[Gn])for(let e=t[qt].tail;t[wi]>t[Gn]&&e!==null;){let r=e.prev;mo(t,e),e=r}},mo=(t,e)=>{if(e){let r=e.value;t[xi]&&t[xi](r.key,r.value),t[wi]-=r.length,t[Tr].delete(r.key),t[qt].removeNode(e)}},Yx=class{constructor(e,r,i,n,a){this.key=e,this.value=r,this.length=i,this.now=n,this.maxAge=a||0}},A3=(t,e,r,i)=>{let n=r.value;Vm(t,n)&&(mo(t,r),t[mu]||(n=void 0)),n&&e.call(i,n.value,n.key,t)};S3.exports=Vx});var O3=l(vo=>{"use strict";var FIe=vo&&vo.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(vo,"__esModule",{value:!0});vo.getLocalCryptographicMaterialsCache=void 0;var BIe=FIe(I3()),xr=je();function HIe(t,e=1e3*60){let r=new BIe.default({max:t,dispose(n,a){a.response.zeroUnencryptedDataKey()}});return function n(){let a=setTimeout(()=>{i(),n()},e);a.unref&&a.unref()}(),{putEncryptionMaterial(n,a,o,u){(0,xr.needs)(o>=0,"Malformed plaintextLength"),(0,xr.needs)((0,xr.isEncryptionMaterial)(a),"Malformed response."),(0,xr.needs)(a.suite.cacheSafe,"Can not cache non-cache safe material");let p=Object.seal({response:a,bytesEncrypted:o,messagesEncrypted:1,now:Date.now()});r.set(n,p,u)},putDecryptionMaterial(n,a,o){(0,xr.needs)((0,xr.isDecryptionMaterial)(a),"Malformed response."),(0,xr.needs)(a.suite.cacheSafe,"Can not cache non-cache safe material");let u=Object.seal({response:a,bytesEncrypted:0,messagesEncrypted:0,now:Date.now()});r.set(n,u,o)},getEncryptionMaterial(n,a){(0,xr.needs)(a>=0,"Malformed plaintextLength");let o=r.get(n);return o?((0,xr.needs)((0,xr.isEncryptionMaterial)(o.response),"Malformed response."),o.bytesEncrypted+=a,o.messagesEncrypted+=1,o):!1},getDecryptionMaterial(n){let a=r.get(n);return a?((0,xr.needs)((0,xr.isDecryptionMaterial)(a.response),"Malformed response."),a):!1},del(n){r.del(n)}};function i(){let{tail:n}=r.dumpLru();if(!n)return;let{key:a}=n.value;r.peek(a)}}vo.getLocalCryptographicMaterialsCache=HIe});var Xx=l(Jr=>{"use strict";var UIe=Jr&&Jr.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),Ym=Jr&&Jr.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&UIe(e,t,r)};Object.defineProperty(Jr,"__esModule",{value:!0});Ym(v3(),Jr);Ym(y3(),Jr);Ym(g3(),Jr);Ym(O3(),Jr)});var P3=l(Xm=>{"use strict";Object.defineProperty(Xm,"__esModule",{value:!0});Xm.sha512=void 0;var GIe=require("crypto"),jIe=async(...t)=>t.map(e=>typeof e=="string"?Buffer.from(e):e).reduce((e,r)=>e.update(r),(0,GIe.createHash)("sha512")).digest();Xm.sha512=jIe});var C3=l(Zm=>{"use strict";Object.defineProperty(Zm,"__esModule",{value:!0});Zm.NodeCachingMaterialsManager=void 0;var vu=Xx(),T3=wt(),zIe=P3(),WIe=require("crypto"),VIe=t=>Buffer.from(t,"utf8"),YIe=t=>Buffer.from(t).toString("utf8"),N3=(0,vu.buildCryptographicMaterialsCacheKeyHelpers)(VIe,YIe,zIe.sha512),Zx=class{constructor(e){let r=e.backingMaterials instanceof T3.KeyringNode?new T3.NodeDefaultCryptographicMaterialsManager(e.backingMaterials):e.backingMaterials,{partition:i=(0,WIe.randomBytes)(64).toString("base64")}=e;(0,vu.decorateProperties)(this,{...e,backingMaterialsManager:r,partition:i})}getEncryptionMaterials=(0,vu.getEncryptionMaterials)(N3);decryptMaterials=(0,vu.decryptMaterials)(N3);_cacheEntryHasExceededLimits=(0,vu.cacheEntryHasExceededLimits)()};Zm.NodeCachingMaterialsManager=Zx});var D3=l(qi=>{"use strict";var XIe=qi&&qi.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),ZIe=qi&&qi.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&XIe(e,t,r)};Object.defineProperty(qi,"__esModule",{value:!0});qi.getLocalCryptographicMaterialsCache=void 0;ZIe(C3(),qi);var $Ie=Xx();Object.defineProperty(qi,"getLocalCryptographicMaterialsCache",{enumerable:!0,get:function(){return $Ie.getLocalCryptographicMaterialsCache}})});var k3=l(wr=>{"use strict";Object.defineProperty(wr,"__esModule",{value:!0});wr.deferCache=wr.cacheClients=wr.excludeRegions=wr.limitRegions=wr.getClient=void 0;var $x=je();function QIe(t,e){return function(i){let n=i?{...e,region:i}:{...e},a=new t(n);return(0,$x.needs)(a.config.region,"A region is required"),a}}wr.getClient=QIe;function JIe(t,e){return(0,$x.needs)(t.every(r=>!!r&&typeof r=="string"),"Can only limit on region strings"),r=>t.includes(r)?e(r):!1}wr.limitRegions=JIe;function eOe(t,e){return(0,$x.needs)(t.every(r=>!!r&&typeof r=="string"),"Can only exclude on region strings"),r=>t.includes(r)?!1:e(r)}wr.excludeRegions=eOe;function tOe(t){let e={};return r=>Object.prototype.hasOwnProperty.call(e,r)?e[r]:R3(e,r,t(r))}wr.cacheClients=tOe;function R3(t,e,r){if(!r)return t[e]=!1,!1;let{encrypt:i,decrypt:n,generateDataKey:a}=r;return["encrypt","decrypt","generateDataKey"].reduce(o,r);function o(u,p){let _=u[p];return u[p]=async function(A){let S=_.call(u,A);return("promise"in S?S.promise():S).then(N=>(t[e]=Object.assign(u,{encrypt:i,decrypt:n,generateDataKey:a}),N)).catch(async N=>(N.$metadata&&N.$metadata.httpStatusCode&&(t[e]=Object.assign(u,{encrypt:i,decrypt:n,generateDataKey:a})),Promise.reject(N)))},u}}wr.deferCache=R3});var zn=l(ct=>{"use strict";Object.defineProperty(ct,"__esModule",{value:!0});ct.constructArnInOtherRegion=ct.mrkAwareAwsKmsKeyIdCompare=ct.isMultiRegionAwsKmsIdentifier=ct.isMultiRegionAwsKmsArn=ct.validAwsKmsIdentifier=ct.parseAwsKmsResource=ct.getRegionFromIdentifier=ct.parseAwsKmsKeyArn=ct.KMS_SERVICE=void 0;var yo=je();ct.KMS_SERVICE="kms";var L3="arn",Qx="key",$m="alias",K3="mrk-",rOe=[Qx,$m];function _o(t){(0,yo.needs)(t&&typeof t=="string","KMS key arn must be a non-null string.");let e=t.split(":");if(e.length===1)return Jx(t),!1;let[r,i,n,a="",o="",u=""]=e,[p,..._]=u.split("/"),b=_.join("/");return(0,yo.needs)(r===L3&&i&&n===ct.KMS_SERVICE&&a&&o&&rOe.includes(p)&&b,"Malformed arn."),{Partition:i,Region:a,AccountId:o,ResourceType:p,ResourceId:b}}ct.parseAwsKmsKeyArn=_o;function iOe(t){let e=_o(t);return e?e.Region:""}ct.getRegionFromIdentifier=iOe;function Jx(t){(0,yo.needs)(t.split(":").length===1,"Malformed resource.");let[e,...r]=t.split("/");(0,yo.needs)(e===$m||!r.length,"Malformed resource.");let[i,n]=e===$m?[$m,r.join("/")]:[Qx,e];return{ResourceType:i,ResourceId:n}}ct.parseAwsKmsResource=Jx;function nOe(t){return _o(t)||Jx(t)}ct.validAwsKmsIdentifier=nOe;function yu(t){let e=typeof t=="string"?_o(t):t;(0,yo.needs)(e,"AWS KMS identifier is not an ARN");let{ResourceType:r,ResourceId:i}=e;return r===Qx&&i.startsWith(K3)}ct.isMultiRegionAwsKmsArn=yu;function aOe(t){return t.startsWith("arn:")?yu(t):t.startsWith("alias/")?!1:!!t.startsWith(K3)}ct.isMultiRegionAwsKmsIdentifier=aOe;function oOe(t,e){if(t===e)return!0;let r=_o(t),i=_o(e);return!r||!i||!yu(r)||!yu(i)?!1:r.Partition===i.Partition&&r.AccountId===i.AccountId&&r.ResourceType===i.ResourceType&&r.ResourceId===i.ResourceId}ct.mrkAwareAwsKmsKeyIdCompare=oOe;function sOe(t,e){(0,yo.needs)(yu(t),"Cannot attempt to construct an ARN in a new region from an non-MRK ARN.");let{Partition:r,AccountId:i,ResourceType:n,ResourceId:a}=t;return[L3,r,ct.KMS_SERVICE,e,i,n+"/"+a].join(":")}ct.constructArnInOtherRegion=sOe});var gu=l(Kt=>{"use strict";Object.defineProperty(Kt,"__esModule",{value:!0});Kt.kmsResponseToEncryptedDataKey=Kt.decrypt=Kt.encrypt=Kt.generateDataKey=Kt.KMS_PROVIDER_ID=void 0;var ew=zn(),_u=je();Kt.KMS_PROVIDER_ID="aws-kms";async function uOe(t,e,r,i,n){let a=typeof t=="function"?t((0,ew.getRegionFromIdentifier)(r)):t;if(!a)return!1;let o=a.generateDataKey({KeyId:r,GrantTokens:n,NumberOfBytes:e,EncryptionContext:i}),p=await("promise"in o?o.promise():o);return pOe(p)}Kt.generateDataKey=uOe;async function lOe(t,e,r,i,n){let a=typeof t=="function"?t((0,ew.getRegionFromIdentifier)(r)):t;if(!a)return!1;let o=a.encrypt({KeyId:r,Plaintext:e,EncryptionContext:i,GrantTokens:n}),p=await("promise"in o?o.promise():o);return dOe(p)}Kt.encrypt=lOe;async function cOe(t,{providerId:e,providerInfo:r,encryptedDataKey:i},n,a){(0,_u.needs)(e===Kt.KMS_PROVIDER_ID,"Unsupported providerId");let o=typeof t=="function"?t((0,ew.getRegionFromIdentifier)(r)):t;if(!o)return!1;let u=o.decrypt({KeyId:r,CiphertextBlob:i,EncryptionContext:n,GrantTokens:a}),_=await("promise"in u?u.promise():u);return hOe(_)}Kt.decrypt=cOe;function fOe({KeyId:t,CiphertextBlob:e}){return new _u.EncryptedDataKey({providerId:Kt.KMS_PROVIDER_ID,providerInfo:t,encryptedDataKey:e})}Kt.kmsResponseToEncryptedDataKey=fOe;function pOe(t){return(0,_u.needs)(typeof t.KeyId=="string"&&t.Plaintext instanceof Uint8Array&&t.CiphertextBlob instanceof Uint8Array,"Malformed KMS response."),F3(t)}function dOe(t){return(0,_u.needs)(typeof t.KeyId=="string"&&t.CiphertextBlob instanceof Uint8Array,"Malformed KMS response."),t}function hOe(t){return(0,_u.needs)(typeof t.KeyId=="string"&&t.Plaintext instanceof Uint8Array,"Malformed KMS response."),F3(t)}function F3(t){let{Plaintext:e}=t;return t.Plaintext=new Uint8Array(e),e.fill(0),t}});var B3=l(Qm=>{"use strict";Object.defineProperty(Qm,"__esModule",{value:!0});Qm.KmsKeyringClass=void 0;var tt=je(),$i=gu(),tw=zn();function mOe(t){class e extends t{constructor({clientProvider:i,generatorKeyId:n,keyIds:a=[],grantTokens:o,discovery:u,discoveryFilter:p}){super(),(0,tt.needs)(this.constructor!==e,"new KmsKeyring is not allowed"),(0,tt.needs)(!(!u&&!n&&!a.length),"Noop keyring is not allowed: Set a keyId or discovery"),(0,tt.needs)(!(u&&(n||a.length)),"A keyring can be either a Discovery or have keyIds configured."),(0,tt.needs)(u||!u&&!p,"Account and partition decrypt filtering are only supported when discovery === true"),(0,tt.needs)(!p||p.accountIDs&&p.accountIDs.length&&!!p.partition&&p.accountIDs.every(_=>typeof _=="string"&&!!_),"A discovery filter must be able to match something."),(0,tt.needs)(!n||(0,tw.validAwsKmsIdentifier)(n),"Malformed arn."),(0,tt.needs)(a.every(_=>(0,tw.validAwsKmsIdentifier)(_)),"Malformed arn."),(0,tt.needs)(typeof i=="function","Missing clientProvider"),(0,tt.readOnlyProperty)(this,"clientProvider",i),(0,tt.readOnlyProperty)(this,"keyIds",Object.freeze(a.slice())),(0,tt.readOnlyProperty)(this,"generatorKeyId",n),(0,tt.readOnlyProperty)(this,"grantTokens",o),(0,tt.readOnlyProperty)(this,"isDiscovery",!!u),(0,tt.readOnlyProperty)(this,"discoveryFilter",p&&Object.freeze({...p,accountIDs:Object.freeze(p.accountIDs)}))}async _onEncrypt(i){if(this.isDiscovery)return i;let n=this.keyIds.slice(),{clientProvider:a,generatorKeyId:o,grantTokens:u}=this;if(o&&!i.hasUnencryptedDataKey){let b=await(0,$i.generateDataKey)(a,i.suite.keyLengthBytes,o,i.encryptionContext,u);if(!b)throw new Error("Generator KMS key did not generate a data key");let A=tt.KeyringTraceFlag.WRAPPING_KEY_GENERATED_DATA_KEY|tt.KeyringTraceFlag.WRAPPING_KEY_SIGNED_ENC_CTX|tt.KeyringTraceFlag.WRAPPING_KEY_ENCRYPTED_DATA_KEY,S={keyNamespace:$i.KMS_PROVIDER_ID,keyName:b.KeyId,flags:A};i.setUnencryptedDataKey(b.Plaintext,S).addEncryptedDataKey((0,$i.kmsResponseToEncryptedDataKey)(b),tt.KeyringTraceFlag.WRAPPING_KEY_ENCRYPTED_DATA_KEY|tt.KeyringTraceFlag.WRAPPING_KEY_SIGNED_ENC_CTX)}else o&&n.unshift(o);let p=(0,tt.unwrapDataKey)(i.getUnencryptedDataKey()),_=tt.KeyringTraceFlag.WRAPPING_KEY_ENCRYPTED_DATA_KEY|tt.KeyringTraceFlag.WRAPPING_KEY_SIGNED_ENC_CTX;for(let b of n){let A=await(0,$i.encrypt)(a,p,b,i.encryptionContext,u);A&&i.addEncryptedDataKey((0,$i.kmsResponseToEncryptedDataKey)(A),_)}return i}async _onDecrypt(i,n){let a=this.keyIds.slice(),{clientProvider:o,generatorKeyId:u,grantTokens:p}=this;u&&a.unshift(u);let _=n.filter(vOe(a,this)),b=[];for(let A of _){let S=!1;try{S=await(0,$i.decrypt)(o,A,i.encryptionContext,p)}catch(L){b.push({errPlus:L})}if(!S)continue;(0,tt.needs)(S.KeyId===A.providerInfo,"KMS Decryption key does not match the requested key id.");let C=tt.KeyringTraceFlag.WRAPPING_KEY_DECRYPTED_DATA_KEY|tt.KeyringTraceFlag.WRAPPING_KEY_VERIFIED_ENC_CTX,N={keyNamespace:$i.KMS_PROVIDER_ID,keyName:S.KeyId,flags:C};return i.setUnencryptedDataKey(S.Plaintext,N),i}return(0,tt.needs)(i.hasValidKey()||!i.hasValidKey()&&!b.length,b.reduce((A,S,C)=>`${A} Error #${C+1} 
 ${S.errPlus.stack} 
`,`Unable to decrypt data key and one or more KMS CMKs had an error. 
 `)),i}}return(0,tt.immutableClass)(e),e}Qm.KmsKeyringClass=mOe;function vOe(t,{isDiscovery:e,discoveryFilter:r}){return function({providerId:n,providerInfo:a}){if(n!==$i.KMS_PROVIDER_ID)return!1;if(e){if(!r)return!0;let o=(0,tw.parseAwsKmsKeyArn)(a);(0,tt.needs)(o,"Malformed arn in provider info.");let{AccountId:u,Partition:p}=o;return r.partition===p&&r.accountIDs.some(_=>_===u)}else return t.includes(a)}}});var H3=l(Jm=>{"use strict";Object.defineProperty(Jm,"__esModule",{value:!0});Jm.AwsKmsMrkAwareSymmetricKeyringClass=void 0;var rt=je(),Qi=gu(),xu=zn();function yOe(t){class e extends t{keyId;client;grantTokens;constructor({client:i,keyId:n,grantTokens:a}){super(),(0,rt.needs)(n&&typeof n=="string","An AWS KMS key identifier is required."),(0,rt.needs)((0,xu.validAwsKmsIdentifier)(n),`Key id ${n} is not a valid identifier.`),(0,rt.needs)(!!i,"An AWS SDK client is required"),(0,rt.readOnlyProperty)(this,"client",i),(0,rt.readOnlyProperty)(this,"keyId",n),(0,rt.readOnlyProperty)(this,"grantTokens",a)}async _onEncrypt(i){let{client:n,keyId:a,grantTokens:o}=this;if(i.hasUnencryptedDataKey){let u=(0,rt.unwrapDataKey)(i.getUnencryptedDataKey()),p=rt.KeyringTraceFlag.WRAPPING_KEY_ENCRYPTED_DATA_KEY|rt.KeyringTraceFlag.WRAPPING_KEY_SIGNED_ENC_CTX,_=await(0,Qi.encrypt)(n,u,a,i.encryptionContext,o);return(0,rt.needs)(_,"AwsKmsMrkAwareSymmetricKeyring failed to encrypt data key"),(0,rt.needs)((0,xu.parseAwsKmsKeyArn)(_.KeyId),"Malformed arn."),i.addEncryptedDataKey((0,Qi.kmsResponseToEncryptedDataKey)(_),p),i}else{let u=await(0,Qi.generateDataKey)(n,i.suite.keyLengthBytes,a,i.encryptionContext,o);(0,rt.needs)(u,"Generator KMS key did not generate a data key"),(0,rt.needs)((0,xu.parseAwsKmsKeyArn)(u.KeyId),"Malformed arn.");let p=rt.KeyringTraceFlag.WRAPPING_KEY_GENERATED_DATA_KEY|rt.KeyringTraceFlag.WRAPPING_KEY_SIGNED_ENC_CTX|rt.KeyringTraceFlag.WRAPPING_KEY_ENCRYPTED_DATA_KEY,_={keyNamespace:Qi.KMS_PROVIDER_ID,keyName:u.KeyId,flags:p};return i.setUnencryptedDataKey(u.Plaintext,_).addEncryptedDataKey((0,Qi.kmsResponseToEncryptedDataKey)(u),rt.KeyringTraceFlag.WRAPPING_KEY_ENCRYPTED_DATA_KEY|rt.KeyringTraceFlag.WRAPPING_KEY_SIGNED_ENC_CTX),i}}async _onDecrypt(i,n){if(i.hasValidKey())return i;let{client:a,keyId:o,grantTokens:u}=this,p=n.filter(_Oe(o)),_=[];for(let b of p){let{providerId:A,encryptedDataKey:S}=b;try{let C=await(0,Qi.decrypt)(a,{providerId:A,encryptedDataKey:S,providerInfo:this.keyId},i.encryptionContext,u);(0,rt.needs)(C,"decrypt did not return a data key."),(0,rt.needs)(C.KeyId===this.keyId,"KMS Decryption key does not match the requested key id.");let N=rt.KeyringTraceFlag.WRAPPING_KEY_DECRYPTED_DATA_KEY|rt.KeyringTraceFlag.WRAPPING_KEY_VERIFIED_ENC_CTX,L={keyNamespace:Qi.KMS_PROVIDER_ID,keyName:C.KeyId,flags:N};return i.setUnencryptedDataKey(C.Plaintext,L),i}catch(C){_.push({errPlus:C})}}return(0,rt.needs)(i.hasValidKey(),[`Unable to decrypt data key${p.length?"":": No EDKs supplied"}.`,..._.map((b,A)=>`Error #${A+1}  
${b.errPlus.stack}`)].join(`
`)),i}}return(0,rt.immutableClass)(e),e}Jm.AwsKmsMrkAwareSymmetricKeyringClass=yOe;function _Oe(t){return function({providerId:r,providerInfo:i}){if(r!==Qi.KMS_PROVIDER_ID)return!1;let n=(0,xu.parseAwsKmsKeyArn)(i);return(0,rt.needs)(n&&n.ResourceType==="key","Unexpected EDK ProviderInfo for AWS KMS EDK"),(0,xu.mrkAwareAwsKmsKeyIdCompare)(t,i)}}});var U3=l(ev=>{"use strict";Object.defineProperty(ev,"__esModule",{value:!0});ev.AwsKmsMrkAwareSymmetricDiscoveryKeyringClass=void 0;var Dt=je(),wu=zn(),rw=gu();function gOe(t){class e extends t{constructor({client:i,grantTokens:n,discoveryFilter:a}){super();let o=i.config.region;(0,Dt.needs)(o,"Client must be configured to a region."),(0,Dt.needs)(!a||a.accountIDs&&a.accountIDs.length&&!!a.partition&&a.accountIDs.every(u=>typeof u=="string"&&!!u),"A discovery filter must be able to match something."),(0,Dt.readOnlyProperty)(this,"client",i),typeof o=="function"?this.clientRegion=o().then(u=>((0,Dt.readOnlyProperty)(this,"clientRegion",u),u)):(0,Dt.readOnlyProperty)(this,"clientRegion",o),(0,Dt.readOnlyProperty)(this,"grantTokens",n),(0,Dt.readOnlyProperty)(this,"discoveryFilter",a&&Object.freeze({...a,accountIDs:Object.freeze(a.accountIDs)}))}async _onEncrypt(){throw new Error("AwsKmsMrkAwareSymmetricDiscoveryKeyring cannot be used to encrypt")}async _onDecrypt(i,n){if(i.hasValidKey())return i;(0,Dt.needs)(typeof this.clientRegion=="string"||typeof await this.clientRegion=="string","clientRegion MUST be a string.");let{client:a,grantTokens:o,clientRegion:u}=this,p=n.filter(xOe(this)),_=[];for(let b of p){let A=b.providerInfo,S=(0,wu.parseAwsKmsKeyArn)(b.providerInfo);(0,Dt.needs)(S,"Unexpected EDK ProviderInfo for AWS KMS EDK"),(0,wu.isMultiRegionAwsKmsArn)(S)&&(A=(0,wu.constructArnInOtherRegion)(S,u));let C=!1;try{if(C=await(0,rw.decrypt)(a,{providerId:b.providerId,providerInfo:A,encryptedDataKey:b.encryptedDataKey},i.encryptionContext,o),!C)continue;(0,Dt.needs)(C.KeyId===A,"KMS Decryption key does not match the requested key id.");let N=Dt.KeyringTraceFlag.WRAPPING_KEY_DECRYPTED_DATA_KEY|Dt.KeyringTraceFlag.WRAPPING_KEY_VERIFIED_ENC_CTX,L={keyNamespace:rw.KMS_PROVIDER_ID,keyName:C.KeyId,flags:N};return i.setUnencryptedDataKey(C.Plaintext,L),i}catch(N){_.push({errPlus:N})}}return(0,Dt.needs)(i.hasValidKey(),[`Unable to decrypt data key${p.length?"":": No EDKs supplied"}.`,..._.map((b,A)=>`Error #${A+1}  
${b.errPlus.stack}`)].join(`
`)),i}}return(0,Dt.immutableClass)(e),e}ev.AwsKmsMrkAwareSymmetricDiscoveryKeyringClass=gOe;function xOe({discoveryFilter:t,clientRegion:e}){return function({providerId:i,providerInfo:n}){if(i!==rw.KMS_PROVIDER_ID)return!1;let a=(0,wu.parseAwsKmsKeyArn)(n);(0,Dt.needs)(a&&a.ResourceType==="key","Unexpected EDK ProviderInfo for AWS KMS EDK");let{AccountId:o,Partition:u,Region:p}=a;return!(0,wu.isMultiRegionAwsKmsArn)(a)&&e!==p?!1:!t||t.partition===u&&t.accountIDs.includes(o)}}});var z3=l(go=>{"use strict";Object.defineProperty(go,"__esModule",{value:!0});go.decomposeAwsKmsKeyArn=go.regionFromKmsKeyArn=void 0;var G3=je(),wOe=/^(alias|key)(\/.*)*$/;function qOe(t){let{region:e}=j3(t);return e}go.regionFromKmsKeyArn=qOe;function j3(t){(0,G3.needs)(typeof t=="string","KMS key arn must be a string.");let[e,r,i,n="",a=""]=t.split(":");return(0,G3.needs)(e==="arn"&&r&&i==="kms"&&n||!i&&!n&&e.match(wOe),"Malformed arn."),{partition:r,region:n,account:a}}go.decomposeAwsKmsKeyArn=j3});var V3=l(tv=>{"use strict";Object.defineProperty(tv,"__esModule",{value:!0});tv.awsKmsMrkAreUnique=void 0;var W3=zn();function bOe(t){let e=t.filter(n=>(0,W3.isMultiRegionAwsKmsIdentifier)(n));if(!e.length)return;let r=e.map(n=>{let a=(0,W3.parseAwsKmsKeyArn)(n);return a?a.ResourceId:n});if(new Set(r).size===e.length)return;let i=r.map((n,a,o)=>o.indexOf(n)!==o.lastIndexOf(n)?e[a]:!1).filter(n=>n).join(",");throw new Error(`Related multi-Region keys: ${i} are not allowed.`)}tv.awsKmsMrkAreUnique=bOe});var Z3=l(xo=>{"use strict";Object.defineProperty(xo,"__esModule",{value:!0});xo.identifier2ClientBuilder=xo.getAwsKmsMrkAwareStrictMultiKeyringBuilder=void 0;var Y3=je(),EOe=zn(),AOe=V3();function MOe(t,e,r){return function({generatorKeyId:n,keyIds:a=[],clientProvider:o=r,grantTokens:u}={}){let p=X3(o),_=n?[n,...a]:a;(0,Y3.needs)(_.length&&_.every(S=>typeof S=="string"&&S!==""),"Noop keyring is not allowed: Set a generatorKeyId or at least one keyId."),(0,AOe.awsKmsMrkAreUnique)(_);let b=n?new t({client:p(n),keyId:n,grantTokens:u}):void 0,A=a.map(S=>new t({client:p(S),keyId:S,grantTokens:u}));return new e({generator:b,children:A})}}xo.getAwsKmsMrkAwareStrictMultiKeyringBuilder=MOe;function X3(t){return function(r){let i=(0,EOe.getRegionFromIdentifier)(r),n=t(i);return(0,Y3.needs)(n,`Configured clientProvider is unable to create a client for configured ${r}.`),n}}xo.identifier2ClientBuilder=X3});var $3=l(rv=>{"use strict";Object.defineProperty(rv,"__esModule",{value:!0});rv.getAwsKmsMrkAwareDiscoveryMultiKeyringBuilder=void 0;var iw=je();function SOe(t,e,r){return function({regions:n,discoveryFilter:a,clientProvider:o=r,grantTokens:u}){(0,iw.needs)(n.length,"Configured regions must contain at least one region."),(0,iw.needs)(n.every(_=>typeof _=="string"&&!!_),"Configured regions must not contain a null or empty string as a region.");let p=n.map(o).map(_=>((0,iw.needs)(_,"Configured clientProvider is unable to create a client for a configured region."),new t({client:_,discoveryFilter:a,grantTokens:u})));return new e({children:p})}}rv.getAwsKmsMrkAwareDiscoveryMultiKeyringBuilder=SOe});var wo=l(Ft=>{"use strict";var IOe=Ft&&Ft.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),Ji=Ft&&Ft.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&IOe(e,t,r)};Object.defineProperty(Ft,"__esModule",{value:!0});Ji(k3(),Ft);Ji(B3(),Ft);Ji(H3(),Ft);Ji(U3(),Ft);Ji(gu(),Ft);Ji(z3(),Ft);Ji(Z3(),Ft);Ji($3(),Ft)});var Q3=l(iv=>{"use strict";Object.defineProperty(iv,"__esModule",{value:!0});iv.version=void 0;iv.version="3.2.2"});var i6=l(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});bt.KMS=bt.cacheClients=bt.excludeRegions=bt.limitRegions=bt.getClient=bt.cacheKmsClients=bt.getKmsClient=bt.KmsKeyringNode=void 0;var Wn=wo();Object.defineProperty(bt,"getClient",{enumerable:!0,get:function(){return Wn.getClient}});Object.defineProperty(bt,"limitRegions",{enumerable:!0,get:function(){return Wn.limitRegions}});Object.defineProperty(bt,"excludeRegions",{enumerable:!0,get:function(){return Wn.excludeRegions}});Object.defineProperty(bt,"cacheClients",{enumerable:!0,get:function(){return Wn.cacheClients}});var J3=wt(),e6=require("aws-sdk");Object.defineProperty(bt,"KMS",{enumerable:!0,get:function(){return e6.KMS}});var OOe=Q3(),t6=(0,Wn.getClient)(e6.KMS,{customUserAgent:`AwsEncryptionSdkJavascriptNodejs/${OOe.version}`});bt.getKmsClient=t6;var r6=(0,Wn.cacheClients)(t6);bt.cacheKmsClients=r6;var nv=class extends(0,Wn.KmsKeyringClass)(J3.KeyringNode){constructor({clientProvider:e=r6,keyIds:r,generatorKeyId:i,grantTokens:n,discovery:a}={}){super({clientProvider:e,keyIds:r,generatorKeyId:i,grantTokens:n,discovery:a})}};bt.KmsKeyringNode=nv;(0,J3.immutableClass)(nv)});var nw=l(av=>{"use strict";Object.defineProperty(av,"__esModule",{value:!0});av.AwsKmsMrkAwareSymmetricKeyringNode=void 0;var POe=wo(),TOe=wt();av.AwsKmsMrkAwareSymmetricKeyringNode=(0,POe.AwsKmsMrkAwareSymmetricKeyringClass)(TOe.KeyringNode)});var aw=l(ov=>{"use strict";Object.defineProperty(ov,"__esModule",{value:!0});ov.AwsKmsMrkAwareSymmetricDiscoveryKeyringNode=void 0;var NOe=wo(),COe=wt();ov.AwsKmsMrkAwareSymmetricDiscoveryKeyringNode=(0,NOe.AwsKmsMrkAwareSymmetricDiscoveryKeyringClass)(COe.KeyringNode)});var n6=l(sv=>{"use strict";Object.defineProperty(sv,"__esModule",{value:!0});sv.buildAwsKmsMrkAwareStrictMultiKeyringNode=void 0;var DOe=wo(),ROe=wt(),kOe=uv(),LOe=nw();sv.buildAwsKmsMrkAwareStrictMultiKeyringNode=(0,DOe.getAwsKmsMrkAwareStrictMultiKeyringBuilder)(LOe.AwsKmsMrkAwareSymmetricKeyringNode,ROe.MultiKeyringNode,kOe.getKmsClient)});var a6=l(lv=>{"use strict";Object.defineProperty(lv,"__esModule",{value:!0});lv.buildAwsKmsMrkAwareDiscoveryMultiKeyringNode=void 0;var KOe=wo(),FOe=je(),BOe=uv(),HOe=aw();lv.buildAwsKmsMrkAwareDiscoveryMultiKeyringNode=(0,KOe.getAwsKmsMrkAwareDiscoveryMultiKeyringBuilder)(HOe.AwsKmsMrkAwareSymmetricDiscoveryKeyringNode,FOe.MultiKeyringNode,BOe.getKmsClient)});var uv=l(Nr=>{"use strict";var UOe=Nr&&Nr.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),qu=Nr&&Nr.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&UOe(e,t,r)};Object.defineProperty(Nr,"__esModule",{value:!0});qu(i6(),Nr);qu(nw(),Nr);qu(aw(),Nr);qu(n6(),Nr);qu(a6(),Nr)});var cw=l(cv=>{"use strict";Object.defineProperty(cv,"__esModule",{value:!0});cv.RawAesWrappingSuiteIdentifier=void 0;var lw=je(),ow=lw.AlgorithmSuiteIdentifier.ALG_AES128_GCM_IV12_TAG16,sw=lw.AlgorithmSuiteIdentifier.ALG_AES192_GCM_IV12_TAG16,uw=lw.AlgorithmSuiteIdentifier.ALG_AES256_GCM_IV12_TAG16;cv.RawAesWrappingSuiteIdentifier=Object.freeze({AES128_GCM_IV12_TAG16_NO_PADDING:ow,AES192_GCM_IV12_TAG16_NO_PADDING:sw,AES256_GCM_IV12_TAG16_NO_PADDING:uw,[ow]:ow,[sw]:sw,[uw]:uw})});var s6=l(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});qo.WebCryptoRawAesMaterial=qo.NodeRawAesMaterial=void 0;var Cr=je(),o6=cw(),fv=class t{suite;setUnencryptedDataKey;getUnencryptedDataKey;zeroUnencryptedDataKey;hasUnencryptedDataKey;keyringTrace=[];encryptionContext=Object.freeze({});constructor(e){(0,Cr.needs)(o6.RawAesWrappingSuiteIdentifier[e],"suiteId not supported."),this.suite=new Cr.NodeAlgorithmSuite(e);let r=Cr.KeyringTraceFlag.WRAPPING_KEY_GENERATED_DATA_KEY;(0,Cr.decorateCryptographicMaterial)(this,r),Object.setPrototypeOf(this,t.prototype),Object.freeze(this)}hasValidKey(){return this.hasUnencryptedDataKey}};qo.NodeRawAesMaterial=fv;(0,Cr.frozenClass)(fv);var pv=class t{suite;setUnencryptedDataKey;getUnencryptedDataKey;zeroUnencryptedDataKey;hasUnencryptedDataKey;keyringTrace=[];setCryptoKey;getCryptoKey;hasCryptoKey;validUsages;encryptionContext=Object.freeze({});constructor(e){(0,Cr.needs)(o6.RawAesWrappingSuiteIdentifier[e],"suiteId not supported."),this.suite=new Cr.WebCryptoAlgorithmSuite(e),this.validUsages=Object.freeze(["decrypt","encrypt"]);let r=Cr.KeyringTraceFlag.WRAPPING_KEY_GENERATED_DATA_KEY;(0,Cr.decorateCryptographicMaterial)(this,r),(0,Cr.decorateWebCryptoMaterial)(this,r),Object.setPrototypeOf(this,t.prototype),Object.freeze(this)}hasValidKey(){return this.hasUnencryptedDataKey&&this.hasCryptoKey}};qo.WebCryptoRawAesMaterial=pv;(0,Cr.frozenClass)(pv)});var u6=l(bo=>{"use strict";Object.defineProperty(bo,"__esModule",{value:!0});bo.rawAesEncryptedPartsFactory=bo.rawAesEncryptedDataKeyFactory=void 0;var dv=Xt(),bu=je();function GOe(t,e){return{rawAesEncryptedDataKey:r};function r(i,n,a,o,u){let p=a.byteLength,_=u.byteLength*8,b=(0,dv.concatBuffers)(o,u),A=i,S=(0,dv.concatBuffers)(e(n),(0,dv.uInt32BE)(_),(0,dv.uInt32BE)(p),a),C=t(S);return new bu.EncryptedDataKey({encryptedDataKey:b,providerId:A,providerInfo:C,rawInfo:S})}}bo.rawAesEncryptedDataKeyFactory=GOe;function jOe(t){return{rawAesEncryptedParts:e};function e(r,i,{encryptedDataKey:n,rawInfo:a}){if(!(a instanceof Uint8Array))throw new Error("Malformed Encrypted Data Key.");a=a.slice(t(i).byteLength);let o=new DataView(a.buffer,a.byteOffset,a.byteLength),u=o.getUint32(0,!1),p=o.getUint32(4,!1);(0,bu.needs)(p===r.ivLength,"Malformed providerInfo"),(0,bu.needs)(u===r.tagLength,"Malformed providerInfo"),(0,bu.needs)(a.byteLength===8+p,"Malformed providerInfo");let _=u/8;(0,bu.needs)(n.byteLength===_+r.keyLengthBytes,"Malformed providerInfo");let b=a.slice(-p),A=n.slice(-_),S=n.slice(0,-_);return{authTag:A,ciphertext:S,iv:b}}}bo.rawAesEncryptedPartsFactory=jOe});var l6=l(Eo=>{"use strict";Object.defineProperty(Eo,"__esModule",{value:!0});Eo._onDecrypt=Eo._onEncrypt=void 0;var zOe=je();function WOe(t){return async function(r){if(!r.hasUnencryptedDataKey){let i={keyName:this.keyName,keyNamespace:this.keyNamespace,flags:zOe.KeyringTraceFlag.WRAPPING_KEY_GENERATED_DATA_KEY},n=await t(r.suite.keyLengthBytes);r.setUnencryptedDataKey(n,i)}return this._wrapKey(r)}}Eo._onEncrypt=WOe;function VOe(){return async function(e,r){if(e.hasValidKey())return e;let i=r.filter(this._filter,this);if(!i.length)return e;for(let n of i)try{return await this._unwrapKey(e,n)}catch{}return e}}Eo._onDecrypt=VOe});var mv=l(ei=>{"use strict";var YOe=ei&&ei.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),hv=ei&&ei.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&YOe(e,t,r)};Object.defineProperty(ei,"__esModule",{value:!0});hv(cw(),ei);hv(s6(),ei);hv(u6(),ei);hv(l6(),ei)});var f6=l(_v=>{"use strict";Object.defineProperty(_v,"__esModule",{value:!0});_v.RawAesKeyringNode=void 0;var Qt=wt(),vv=require("crypto"),fw=Xt(),Eu=mv(),pw=t=>Buffer.from(t,"utf8"),XOe=t=>Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"),{serializeEncryptionContext:c6}=(0,fw.serializeFactory)(pw),{rawAesEncryptedDataKey:ZOe}=(0,Eu.rawAesEncryptedDataKeyFactory)(XOe,pw),{rawAesEncryptedParts:$Oe}=(0,Eu.rawAesEncryptedPartsFactory)(pw),yv=class extends Qt.KeyringNode{constructor(e){super();let{keyName:r,keyNamespace:i,unencryptedMasterKey:n,wrappingSuite:a}=e;(0,Qt.needs)(r&&i,"Identifying information must be defined.");let o=new Eu.NodeRawAesMaterial(a).setUnencryptedDataKey(n,{keyNamespace:i,keyName:r,flags:Qt.KeyringTraceFlag.WRAPPING_KEY_GENERATED_DATA_KEY}),u=async _=>{let{buffer:b,byteOffset:A,byteLength:S}=c6(_.encryptionContext).slice(2),C=Buffer.from(b,A,S),{keyNamespace:N,keyName:L}=this;return ePe(N,L,_,C,o)},p=async(_,b)=>{let{keyNamespace:A,keyName:S}=this,{buffer:C,byteOffset:N,byteLength:L}=c6(_.encryptionContext).slice(2),B=Buffer.from(C,N,L);return tPe(A,S,_,o,b,B)};(0,Qt.readOnlyProperty)(this,"keyName",r),(0,Qt.readOnlyProperty)(this,"keyNamespace",i),(0,Qt.readOnlyProperty)(this,"_wrapKey",u),(0,Qt.readOnlyProperty)(this,"_unwrapKey",p)}_filter({providerId:e,providerInfo:r}){let{keyNamespace:i,keyName:n}=this;return e===i&&r.startsWith(n)}_onEncrypt=(0,Eu._onEncrypt)(rPe);_onDecrypt=(0,Eu._onDecrypt)()};_v.RawAesKeyringNode=yv;(0,Qt.immutableClass)(yv);var QOe=Qt.KeyringTraceFlag.WRAPPING_KEY_ENCRYPTED_DATA_KEY|Qt.KeyringTraceFlag.WRAPPING_KEY_SIGNED_ENC_CTX,JOe=Qt.KeyringTraceFlag.WRAPPING_KEY_DECRYPTED_DATA_KEY|Qt.KeyringTraceFlag.WRAPPING_KEY_VERIFIED_ENC_CTX;function ePe(t,e,r,i,n){let{encryption:a,ivLength:o}=n.suite,u=(0,vv.randomBytes)(o),p=n.getUnencryptedDataKey(),_=(0,Qt.unwrapDataKey)(r.getUnencryptedDataKey()),b=(0,vv.createCipheriv)(a,p,u).setAAD(i),A=(0,fw.concatBuffers)(b.update(_),b.final()),S=b.getAuthTag(),C=ZOe(t,e,u,A,S);return r.addEncryptedDataKey(C,QOe)}function tPe(t,e,r,i,n,a){let{authTag:o,ciphertext:u,iv:p}=$Oe(r.suite,e,n),{encryption:_}=i.suite,b=(0,vv.createDecipheriv)(_,i.getUnencryptedDataKey(),p).setAAD(a).setAuthTag(o),A=(0,fw.concatBuffers)(b.update(u),b.final()),S={keyNamespace:t,keyName:e,flags:JOe};return r.setUnencryptedDataKey(A,S)}async function rPe(t){return new Promise((e,r)=>{(0,vv.randomBytes)(t,(i,n)=>{if(i)return r(i);e(n)})})}});var p6=l(bi=>{"use strict";var iPe=bi&&bi.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),nPe=bi&&bi.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&iPe(e,t,r)};Object.defineProperty(bi,"__esModule",{value:!0});bi.RawAesWrappingSuiteIdentifier=void 0;var aPe=mv();Object.defineProperty(bi,"RawAesWrappingSuiteIdentifier",{enumerable:!0,get:function(){return aPe.RawAesWrappingSuiteIdentifier}});nPe(f6(),bi)});var dw=l(gv=>{"use strict";Object.defineProperty(gv,"__esModule",{value:!0});gv.oaepHashSupported=void 0;var d6=wt(),h6=require("crypto");gv.oaepHashSupported=function(){let t=`-----BEGIN PUBLIC KEY-----
MIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEAs7RoNYEPAIws89VV+kra
rVv/4wbdmUAaAKWgWuxZi5na9GJSmnhCkqyLRm7wPbQY4LCoa5/IMUxkHLsYDPdu
udY0Qm0GcoxOlvJKHYo4RjF7HyiS34D6dvyO4Gd3aq0mZHoxSGCxW/7hf03wEMzc
iVJXWHXhaI0lD6nrzIEgLrE4L+3V2LeAQjvZsTKd+bYMqeZOL2syiVVIAU8POwAG
GVBroJoveFm/SUp6lCiN0M2kTeyQA2ax3QTtZSAa8nwrI7U52XOzVmdMicJsy2Pg
uW98te3MuODdK24yNkHIkYameP/Umf/SJshUJQd5a/TUp3XE+HhOWAumx22tIDlC
vZS11cuk2fp0WeHUnXaC19N5qWKfvHEKSugzty/z3lGP7ItFhrF2X1qJHeAAsL11
kjo6Lc48KsE1vKvbnW4VLyB3wdNiVvmUNO29tPXwaR0Q5Gbr3jk3nUzdkEHouHWQ
41lubOHCCBN3V13mh/MgtNhESHjfmmOnh54ErD9saA1d7CjTf8g2wqmjEqvGSW6N
q7zhcWR2tp1olflS7oHzul4/I3hnkfL6Kb2xAWWaQKvg3mtsY2OPlzFEP0tR5UcH
Pfp5CeS1Xzg7hN6vRICW6m4l3u2HJFld2akDMm1vnSz8RCbPW7jp7YBxUkWJmypM
tG7Yv2aGZXGbUtM8o1cZarECAwEAAQ==
-----END PUBLIC KEY-----`,e="i_am_not_valid";try{return(0,h6.publicEncrypt)({key:t,padding:h6.constants.RSA_PKCS1_OAEP_PADDING,oaepHash:e},Buffer.from([1,2,3,4])),!1}catch(r){return r instanceof d6.NotSupported?((0,d6.needs)(r.code==="ERR_OSSL_EVP_INVALID_DIGEST","Unexpected error testing oaepHash."),!0):Error("Unexpected error testing oaepHash.")}}()});var v6=l(wv=>{"use strict";Object.defineProperty(wv,"__esModule",{value:!0});wv.RawRsaKeyringNode=void 0;var Jt=wt(),Au=require("crypto"),m6=mv(),oPe=dw(),sPe=["sha1","sha256","sha384","sha512",void 0],xv=class extends Jt.KeyringNode{constructor(e){super();let{rsaKey:r,keyName:i,keyNamespace:n,padding:a=Au.constants.RSA_PKCS1_OAEP_PADDING,oaepHash:o}=e,{publicKey:u,privateKey:p}=r;(0,Jt.needs)(u||p,"No Key provided."),(0,Jt.needs)(i&&n,"Identifying information must be defined."),(0,Jt.needs)(a===Au.constants.RSA_PKCS1_OAEP_PADDING?oPe.oaepHashSupported?sPe.includes(o):!o||o==="sha1":!o,"Unsupported oaepHash");let _=async A=>{if(!u)throw new Error("No public key defined in constructor.  Encrypt disabled.");let{buffer:S,byteOffset:C,byteLength:N}=(0,Jt.unwrapDataKey)(A.getUnencryptedDataKey()),L=(0,Au.publicEncrypt)({key:u,padding:a,oaepHash:o},Buffer.from(S,C,N)),B=this.keyName,R=this.keyNamespace,K=Jt.KeyringTraceFlag.WRAPPING_KEY_ENCRYPTED_DATA_KEY,z=new Jt.EncryptedDataKey({encryptedDataKey:L,providerInfo:B,providerId:R});return A.addEncryptedDataKey(z,K)},b=async(A,S)=>{if(!p)throw new Error("No private key defined in constructor.  Decrypt disabled.");let C={keyName:this.keyName,keyNamespace:this.keyNamespace,flags:Jt.KeyringTraceFlag.WRAPPING_KEY_DECRYPTED_DATA_KEY},{buffer:N,byteOffset:L,byteLength:B}=S.encryptedDataKey,R=Buffer.from(N,L,B),K=(0,Au.privateDecrypt)({key:p,padding:a,oaepHash:o},R);return A.setUnencryptedDataKey(K,C)};(0,Jt.readOnlyProperty)(this,"keyName",i),(0,Jt.readOnlyProperty)(this,"keyNamespace",n),(0,Jt.readOnlyProperty)(this,"_wrapKey",_),(0,Jt.readOnlyProperty)(this,"_unwrapKey",b)}_filter({providerId:e,providerInfo:r}){let{keyNamespace:i,keyName:n}=this;return e===i&&r===n}_onEncrypt=(0,m6._onEncrypt)(uPe);_onDecrypt=(0,m6._onDecrypt)()};wv.RawRsaKeyringNode=xv;(0,Jt.immutableClass)(xv);async function uPe(t){return new Promise((e,r)=>{(0,Au.randomBytes)(t,(i,n)=>{if(i)return r(i);e(n)})})}});var _6=l(en=>{"use strict";var lPe=en&&en.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),y6=en&&en.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&lPe(e,t,r)};Object.defineProperty(en,"__esModule",{value:!0});y6(v6(),en);y6(dw(),en)});var g6=l(Rt=>{"use strict";var cPe=Rt&&Rt.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),Vn=Rt&&Rt.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&cPe(e,t,r)};Object.defineProperty(Rt,"__esModule",{value:!0});Rt.buildClient=void 0;Vn(kx(),Rt);Vn(Gx(),Rt);Vn(wt(),Rt);Vn(D3(),Rt);Vn(uv(),Rt);Vn(p6(),Rt);Vn(_6(),Rt);var fPe=kx(),pPe=Gx();function dPe(t){return{...(0,fPe.buildEncrypt)(t),...(0,pPe.buildDecrypt)(t)}}Rt.buildClient=dPe});var w6=l((qv,x6)=>{(function(t,e){typeof qv=="object"?x6.exports=qv=e():typeof define=="function"&&define.amd?define([],e):t.CryptoJS=e()})(qv,function(){var t=t||function(e,r){var i;if(typeof window<"u"&&window.crypto&&(i=window.crypto),typeof self<"u"&&self.crypto&&(i=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(i=globalThis.crypto),!i&&typeof window<"u"&&window.msCrypto&&(i=window.msCrypto),!i&&typeof global<"u"&&global.crypto&&(i=global.crypto),!i&&typeof require=="function")try{i=require("crypto")}catch{}var n=function(){if(i){if(typeof i.getRandomValues=="function")try{return i.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof i.randomBytes=="function")try{return i.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function R(){}return function(K){var z;return R.prototype=K,z=new R,R.prototype=null,z}}(),o={},u=o.lib={},p=u.Base=function(){return{extend:function(R){var K=a(this);return R&&K.mixIn(R),(!K.hasOwnProperty("init")||this.init===K.init)&&(K.init=function(){K.$super.init.apply(this,arguments)}),K.init.prototype=K,K.$super=this,K},create:function(){var R=this.extend();return R.init.apply(R,arguments),R},init:function(){},mixIn:function(R){for(var K in R)R.hasOwnProperty(K)&&(this[K]=R[K]);R.hasOwnProperty("toString")&&(this.toString=R.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),_=u.WordArray=p.extend({init:function(R,K){R=this.words=R||[],K!=r?this.sigBytes=K:this.sigBytes=R.length*4},toString:function(R){return(R||A).stringify(this)},concat:function(R){var K=this.words,z=R.words,W=this.sigBytes,re=R.sigBytes;if(this.clamp(),W%4)for(var V=0;V<re;V++){var Xe=z[V>>>2]>>>24-V%4*8&255;K[W+V>>>2]|=Xe<<24-(W+V)%4*8}else for(var Q=0;Q<re;Q+=4)K[W+Q>>>2]=z[Q>>>2];return this.sigBytes+=re,this},clamp:function(){var R=this.words,K=this.sigBytes;R[K>>>2]&=4294967295<<32-K%4*8,R.length=e.ceil(K/4)},clone:function(){var R=p.clone.call(this);return R.words=this.words.slice(0),R},random:function(R){for(var K=[],z=0;z<R;z+=4)K.push(n());return new _.init(K,R)}}),b=o.enc={},A=b.Hex={stringify:function(R){for(var K=R.words,z=R.sigBytes,W=[],re=0;re<z;re++){var V=K[re>>>2]>>>24-re%4*8&255;W.push((V>>>4).toString(16)),W.push((V&15).toString(16))}return W.join("")},parse:function(R){for(var K=R.length,z=[],W=0;W<K;W+=2)z[W>>>3]|=parseInt(R.substr(W,2),16)<<24-W%8*4;return new _.init(z,K/2)}},S=b.Latin1={stringify:function(R){for(var K=R.words,z=R.sigBytes,W=[],re=0;re<z;re++){var V=K[re>>>2]>>>24-re%4*8&255;W.push(String.fromCharCode(V))}return W.join("")},parse:function(R){for(var K=R.length,z=[],W=0;W<K;W++)z[W>>>2]|=(R.charCodeAt(W)&255)<<24-W%4*8;return new _.init(z,K)}},C=b.Utf8={stringify:function(R){try{return decodeURIComponent(escape(S.stringify(R)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(R){return S.parse(unescape(encodeURIComponent(R)))}},N=u.BufferedBlockAlgorithm=p.extend({reset:function(){this._data=new _.init,this._nDataBytes=0},_append:function(R){typeof R=="string"&&(R=C.parse(R)),this._data.concat(R),this._nDataBytes+=R.sigBytes},_process:function(R){var K,z=this._data,W=z.words,re=z.sigBytes,V=this.blockSize,Xe=V*4,Q=re/Xe;R?Q=e.ceil(Q):Q=e.max((Q|0)-this._minBufferSize,0);var Ze=Q*V,O=e.min(Ze*4,re);if(Ze){for(var d=0;d<Ze;d+=V)this._doProcessBlock(W,d);K=W.splice(0,Ze),z.sigBytes-=O}return new _.init(K,O)},clone:function(){var R=p.clone.call(this);return R._data=this._data.clone(),R},_minBufferSize:0}),L=u.Hasher=N.extend({cfg:p.extend(),init:function(R){this.cfg=this.cfg.extend(R),this.reset()},reset:function(){N.reset.call(this),this._doReset()},update:function(R){return this._append(R),this._process(),this},finalize:function(R){R&&this._append(R);var K=this._doFinalize();return K},blockSize:512/32,_createHelper:function(R){return function(K,z){return new R.init(z).finalize(K)}},_createHmacHelper:function(R){return function(K,z){return new B.HMAC.init(R,z).finalize(K)}}}),B=o.algo={};return o}(Math);return t})});var b6=l((bv,q6)=>{(function(t,e){typeof bv=="object"?q6.exports=bv=e(w6()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(bv,function(t){return function(e){var r=t,i=r.lib,n=i.WordArray,a=i.Hasher,o=r.algo,u=[],p=[];(function(){function A(L){for(var B=e.sqrt(L),R=2;R<=B;R++)if(!(L%R))return!1;return!0}function S(L){return(L-(L|0))*4294967296|0}for(var C=2,N=0;N<64;)A(C)&&(N<8&&(u[N]=S(e.pow(C,1/2))),p[N]=S(e.pow(C,1/3)),N++),C++})();var _=[],b=o.SHA256=a.extend({_doReset:function(){this._hash=new n.init(u.slice(0))},_doProcessBlock:function(A,S){for(var C=this._hash.words,N=C[0],L=C[1],B=C[2],R=C[3],K=C[4],z=C[5],W=C[6],re=C[7],V=0;V<64;V++){if(V<16)_[V]=A[S+V]|0;else{var Xe=_[V-15],Q=(Xe<<25|Xe>>>7)^(Xe<<14|Xe>>>18)^Xe>>>3,Ze=_[V-2],O=(Ze<<15|Ze>>>17)^(Ze<<13|Ze>>>19)^Ze>>>10;_[V]=Q+_[V-7]+O+_[V-16]}var d=K&z^~K&W,x=N&L^N&B^L&B,m=(N<<30|N>>>2)^(N<<19|N>>>13)^(N<<10|N>>>22),s=(K<<26|K>>>6)^(K<<21|K>>>11)^(K<<7|K>>>25),f=re+s+d+p[V]+_[V],v=m+x;re=W,W=z,z=K,K=R+f|0,R=B,B=L,L=N,N=f+v|0}C[0]=C[0]+N|0,C[1]=C[1]+L|0,C[2]=C[2]+B|0,C[3]=C[3]+R|0,C[4]=C[4]+K|0,C[5]=C[5]+z|0,C[6]=C[6]+W|0,C[7]=C[7]+re|0},_doFinalize:function(){var A=this._data,S=A.words,C=this._nDataBytes*8,N=A.sigBytes*8;return S[N>>>5]|=128<<24-N%32,S[(N+64>>>9<<4)+14]=e.floor(C/4294967296),S[(N+64>>>9<<4)+15]=C,A.sigBytes=S.length*4,this._process(),this._hash},clone:function(){var A=a.clone.call(this);return A._hash=this._hash.clone(),A}});r.SHA256=a._createHelper(b),r.HmacSHA256=a._createHmacHelper(b)}(Math),t.SHA256})});var K6=l((Hdt,L6)=>{"use strict";var R6=require("url"),k6=1800,hw=class{constructor(e){this.options=e||{},this.cookies=[]}set(e,r){let i=R6.parse(r||""),n=this.parse(e),a;return n.domain?(a=n.domain.replace(/^\./,""),(i.hostname.length<a.length||("."+i.hostname).substr(-a.length+1)!=="."+a)&&(n.domain=i.hostname)):n.domain=i.hostname,n.path||(n.path=this.getPath(i.pathname)),n.expires||(n.expires=new Date(Date.now()+(Number(this.options.sessionTimeout||k6)||k6)*1e3)),this.add(n)}get(e){return this.list(e).map(r=>r.name+"="+r.value).join("; ")}list(e){let r=[],i,n;for(i=this.cookies.length-1;i>=0;i--){if(n=this.cookies[i],this.isExpired(n)){this.cookies.splice(i,i);continue}this.match(n,e)&&r.unshift(n)}return r}parse(e){let r={};return(e||"").toString().split(";").forEach(i=>{let n=i.split("="),a=n.shift().trim().toLowerCase(),o=n.join("=").trim(),u;if(a)switch(a){case"expires":o=new Date(o),o.toString()!=="Invalid Date"&&(r.expires=o);break;case"path":r.path=o;break;case"domain":u=o.toLowerCase(),u.length&&u.charAt(0)!=="."&&(u="."+u),r.domain=u;break;case"max-age":r.expires=new Date(Date.now()+(Number(o)||0)*1e3);break;case"secure":r.secure=!0;break;case"httponly":r.httponly=!0;break;default:r.name||(r.name=a,r.value=o)}}),r}match(e,r){let i=R6.parse(r||"");return!(i.hostname!==e.domain&&(e.domain.charAt(0)!=="."||("."+i.hostname).substr(-e.domain.length)!==e.domain)||this.getPath(i.pathname).substr(0,e.path.length)!==e.path||e.secure&&i.protocol!=="https:")}add(e){let r,i;if(!e||!e.name)return!1;for(r=0,i=this.cookies.length;r<i;r++)if(this.compare(this.cookies[r],e))return this.isExpired(e)?(this.cookies.splice(r,1),!1):(this.cookies[r]=e,!0);return this.isExpired(e)||this.cookies.push(e),!0}compare(e,r){return e.name===r.name&&e.path===r.path&&e.domain===r.domain&&e.secure===r.secure&&e.httponly===e.httponly}isExpired(e){return e.expires&&e.expires<new Date||!e.value}getPath(e){let r=(e||"/").split("/");return r.pop(),r=r.join("/").trim(),r.charAt(0)!=="/"&&(r="/"+r),r.substr(-1)!=="/"&&(r+="/"),r}};L6.exports=hw});var Dr=l((Udt,_Pe)=>{_Pe.exports={name:"nodemailer",version:"6.9.9",description:"Easy as cake e-mail sending from your Node.js applications",main:"lib/nodemailer.js",scripts:{test:"node --test --test-concurrency=1 test/**/*.test.js test/**/*-test.js","test:coverage":"c8 node --test --test-concurrency=1 test/**/*.test.js test/**/*-test.js",lint:"eslint .",update:"rm -rf node_modules/ package-lock.json && ncu -u && npm install"},repository:{type:"git",url:"https://github.com/nodemailer/nodemailer.git"},keywords:["Nodemailer"],author:"Andris Reinman",license:"MIT-0",bugs:{url:"https://github.com/nodemailer/nodemailer/issues"},homepage:"https://nodemailer.com/",devDependencies:{"@aws-sdk/client-ses":"3.484.0",bunyan:"1.8.15",c8:"8.0.1",eslint:"8.56.0","eslint-config-nodemailer":"1.2.0","eslint-config-prettier":"9.1.0",libbase64:"1.2.1",libmime:"5.2.1",libqp:"2.0.1","nodemailer-ntlm-auth":"1.0.4",proxy:"1.0.2","proxy-test-server":"1.0.0","smtp-server":"3.13.0"},engines:{node:">=6.0.0"}}});var Mu=l((Gdt,mw)=>{"use strict";var gPe=require("http"),xPe=require("https"),F6=require("url"),wPe=require("zlib"),qPe=require("stream").PassThrough,B6=K6(),bPe=Dr(),EPe=require("net"),APe=5;mw.exports=function(t,e){return H6(t,e)};mw.exports.Cookies=B6;function H6(t,e){e=e||{},e.fetchRes=e.fetchRes||new qPe,e.cookies=e.cookies||new B6,e.redirects=e.redirects||0,e.maxRedirects=isNaN(e.maxRedirects)?APe:e.maxRedirects,e.cookie&&([].concat(e.cookie||[]).forEach(S=>{e.cookies.set(S,t)}),e.cookie=!1);let r=e.fetchRes,i=F6.parse(t),n=(e.method||"").toString().trim().toUpperCase()||"GET",a=!1,o,u,p=i.protocol==="https:"?xPe:gPe,_={"accept-encoding":"gzip,deflate","user-agent":"nodemailer/"+bPe.version};if(Object.keys(e.headers||{}).forEach(S=>{_[S.toLowerCase().trim()]=e.headers[S]}),e.userAgent&&(_["user-agent"]=e.userAgent),i.auth&&(_.Authorization="Basic "+Buffer.from(i.auth).toString("base64")),(o=e.cookies.get(t))&&(_.cookie=o),e.body){if(e.contentType!==!1&&(_["Content-Type"]=e.contentType||"application/x-www-form-urlencoded"),typeof e.body.pipe=="function")_["Transfer-Encoding"]="chunked",u=e.body,u.on("error",S=>{a||(a=!0,S.type="FETCH",S.sourceUrl=t,r.emit("error",S))});else{if(e.body instanceof Buffer)u=e.body;else if(typeof e.body=="object")try{u=Buffer.from(Object.keys(e.body).map(S=>{let C=e.body[S].toString().trim();return encodeURIComponent(S)+"="+encodeURIComponent(C)}).join("&"))}catch(S){if(a)return;a=!0,S.type="FETCH",S.sourceUrl=t,r.emit("error",S);return}else u=Buffer.from(e.body.toString().trim());_["Content-Type"]=e.contentType||"application/x-www-form-urlencoded",_["Content-Length"]=u.length}n=(e.method||"").toString().trim().toUpperCase()||"POST"}let b,A={method:n,host:i.hostname,path:i.path,port:i.port?i.port:i.protocol==="https:"?443:80,headers:_,rejectUnauthorized:!1,agent:!1};e.tls&&Object.keys(e.tls).forEach(S=>{A[S]=e.tls[S]}),i.protocol==="https:"&&i.hostname&&i.hostname!==A.host&&!EPe.isIP(i.hostname)&&!A.servername&&(A.servername=i.hostname);try{b=p.request(A)}catch(S){return a=!0,setImmediate(()=>{S.type="FETCH",S.sourceUrl=t,r.emit("error",S)}),r}return e.timeout&&b.setTimeout(e.timeout,()=>{if(a)return;a=!0,b.abort();let S=new Error("Request Timeout");S.type="FETCH",S.sourceUrl=t,r.emit("error",S)}),b.on("error",S=>{a||(a=!0,S.type="FETCH",S.sourceUrl=t,r.emit("error",S))}),b.on("response",S=>{let C;if(!a){switch(S.headers["content-encoding"]){case"gzip":case"deflate":C=wPe.createUnzip();break}if(S.headers["set-cookie"]&&[].concat(S.headers["set-cookie"]||[]).forEach(N=>{e.cookies.set(N,t)}),[301,302,303,307,308].includes(S.statusCode)&&S.headers.location){if(e.redirects++,e.redirects>e.maxRedirects){a=!0;let N=new Error("Maximum redirect count exceeded");N.type="FETCH",N.sourceUrl=t,r.emit("error",N),b.abort();return}return e.method="GET",e.body=!1,H6(F6.resolve(t,S.headers.location),e)}if(r.statusCode=S.statusCode,r.headers=S.headers,S.statusCode>=300&&!e.allowErrorResponse){a=!0;let N=new Error("Invalid status code "+S.statusCode);N.type="FETCH",N.sourceUrl=t,r.emit("error",N),b.abort();return}S.on("error",N=>{a||(a=!0,N.type="FETCH",N.sourceUrl=t,r.emit("error",N),b.abort())}),C?(S.pipe(C).pipe(r),C.on("error",N=>{a||(a=!0,N.type="FETCH",N.sourceUrl=t,r.emit("error",N),b.abort())})):S.pipe(r)}}),setImmediate(()=>{if(u)try{if(typeof u.pipe=="function")return u.pipe(b);b.write(u)}catch(S){a=!0,S.type="FETCH",S.sourceUrl=t,r.emit("error",S);return}b.end()}),r}});var Ht=l((jdt,Bt)=>{"use strict";var MPe=require("url"),SPe=require("util"),IPe=require("fs"),OPe=Mu(),ri=require("dns"),PPe=require("net"),TPe=require("os"),vw=5*60*1e3,G6;try{G6=TPe.networkInterfaces()}catch{}Bt.exports.networkInterfaces=G6;var j6=(t,e)=>{let r=Bt.exports.networkInterfaces;return r?Object.keys(r).map(n=>r[n]).reduce((n,a)=>n.concat(a),[]).filter(n=>!n.internal||e).filter(n=>n.family==="IPv"+t||n.family===t).length>0:!0},U6=(t,e,r,i)=>{if(r=r||{},!j6(t,r.allowInternalNetworkInterfaces))return i(null,[]);(ri.Resolver?new ri.Resolver(r):ri)["resolve"+t](e,(o,u)=>{if(o){switch(o.code){case ri.NODATA:case ri.NOTFOUND:case ri.NOTIMP:case ri.SERVFAIL:case ri.CONNREFUSED:case ri.REFUSED:case"EAI_AGAIN":return i(null,[])}return i(o)}return i(null,Array.isArray(u)?u:[].concat(u||[]))})},Su=Bt.exports.dnsCache=new Map,ti=(t,e)=>t?Object.assign({servername:t.servername,host:!t.addresses||!t.addresses.length?null:t.addresses.length===1?t.addresses[0]:t.addresses[Math.floor(Math.random()*t.addresses.length)]},e||{}):Object.assign({},e||{});Bt.exports.resolveHostname=(t,e)=>{if(t=t||{},!t.host&&t.servername&&(t.host=t.servername),!t.host||PPe.isIP(t.host)){let i={addresses:[t.host],servername:t.servername||!1};return e(null,ti(i,{cached:!1}))}let r;if(Su.has(t.host)&&(r=Su.get(t.host),!r.expires||r.expires>=Date.now()))return e(null,ti(r.value,{cached:!0}));U6(4,t.host,t,(i,n)=>{if(i)return r?e(null,ti(r.value,{cached:!0,error:i})):e(i);if(n&&n.length){let a={addresses:n,servername:t.servername||t.host};return Su.set(t.host,{value:a,expires:Date.now()+(t.dnsTtl||vw)}),e(null,ti(a,{cached:!1}))}U6(6,t.host,t,(a,o)=>{if(a)return r?e(null,ti(r.value,{cached:!0,error:a})):e(a);if(o&&o.length){let u={addresses:o,servername:t.servername||t.host};return Su.set(t.host,{value:u,expires:Date.now()+(t.dnsTtl||vw)}),e(null,ti(u,{cached:!1}))}try{ri.lookup(t.host,{all:!0},(u,p)=>{if(u)return r?e(null,ti(r.value,{cached:!0,error:u})):e(u);let _=p?p.filter(A=>j6(A.family)).map(A=>A.address).shift():!1;if(p&&p.length&&!_&&console.warn(`Failed to resolve IPv${p[0].family} addresses with current network`),!_&&r)return e(null,ti(r.value,{cached:!0}));let b={addresses:_?[_]:[t.host],servername:t.servername||t.host};return Su.set(t.host,{value:b,expires:Date.now()+(t.dnsTtl||vw)}),e(null,ti(b,{cached:!1}))})}catch(u){return r?e(null,ti(r.value,{cached:!0,error:u})):e(u)}})})};Bt.exports.parseConnectionUrl=t=>{t=t||"";let e={};return[MPe.parse(t,!0)].forEach(r=>{let i;switch(r.protocol){case"smtp:":e.secure=!1;break;case"smtps:":e.secure=!0;break;case"direct:":e.direct=!0;break}!isNaN(r.port)&&Number(r.port)&&(e.port=Number(r.port)),r.hostname&&(e.host=r.hostname),r.auth&&(i=r.auth.split(":"),e.auth||(e.auth={}),e.auth.user=i.shift(),e.auth.pass=i.join(":")),Object.keys(r.query||{}).forEach(n=>{let a=e,o=n,u=r.query[n];switch(isNaN(u)||(u=Number(u)),u){case"true":u=!0;break;case"false":u=!1;break}if(n.indexOf("tls.")===0)o=n.substr(4),e.tls||(e.tls={}),a=e.tls;else if(n.indexOf(".")>=0)return;o in a||(a[o]=u)})}),e};Bt.exports._logFunc=(t,e,r,i,n,...a)=>{let o={};Object.keys(r||{}).forEach(u=>{u!=="level"&&(o[u]=r[u])}),Object.keys(i||{}).forEach(u=>{u!=="level"&&(o[u]=i[u])}),t[e](o,n,...a)};Bt.exports.getLogger=(t,e)=>{t=t||{};let r={},i=["trace","debug","info","warn","error","fatal"];if(!t.logger)return i.forEach(a=>{r[a]=()=>!1}),r;let n=t.logger;return t.logger===!0&&(n=NPe(i)),i.forEach(a=>{r[a]=(o,u,...p)=>{Bt.exports._logFunc(n,a,e,o,u,...p)}}),r};Bt.exports.callbackPromise=(t,e)=>function(){let r=Array.from(arguments),i=r.shift();i?e(i):t(...r)};Bt.exports.resolveContent=(t,e,r)=>{let i;r||(i=new Promise((u,p)=>{r=Bt.exports.callbackPromise(u,p)}));let n=t&&t[e]&&t[e].content||t[e],a,o=(typeof t[e]=="object"&&t[e].encoding||"utf8").toString().toLowerCase().replace(/[-_\s]/g,"");if(!n)return r(null,n);if(typeof n=="object"){if(typeof n.pipe=="function")return yw(n,(u,p)=>{if(u)return r(u);t[e].content?t[e].content=p:t[e]=p,r(null,p)});if(/^https?:\/\//i.test(n.path||n.href))return a=OPe(n.path||n.href),yw(a,r);if(/^data:/i.test(n.path||n.href)){let u=(n.path||n.href).match(/^data:((?:[^;]*;)*(?:[^,]*)),(.*)$/i);return u?r(null,/\bbase64$/i.test(u[1])?Buffer.from(u[2],"base64"):Buffer.from(decodeURIComponent(u[2]))):r(null,Buffer.from(0))}else if(n.path)return yw(IPe.createReadStream(n.path),r)}return typeof t[e].content=="string"&&!["utf8","usascii","ascii"].includes(o)&&(n=Buffer.from(t[e].content,o)),setImmediate(()=>r(null,n)),i};Bt.exports.assign=function(){let t=Array.from(arguments),e=t.shift()||{};return t.forEach(r=>{Object.keys(r||{}).forEach(i=>{["tls","auth"].includes(i)&&r[i]&&typeof r[i]=="object"?(e[i]||(e[i]={}),Object.keys(r[i]).forEach(n=>{e[i][n]=r[i][n]})):e[i]=r[i]})}),e};Bt.exports.encodeXText=t=>{if(!/[^\x21-\x2A\x2C-\x3C\x3E-\x7E]/.test(t))return t;let e=Buffer.from(t),r="";for(let i=0,n=e.length;i<n;i++){let a=e[i];a<33||a>126||a===43||a===61?r+="+"+(a<16?"0":"")+a.toString(16).toUpperCase():r+=String.fromCharCode(a)}return r};function yw(t,e){let r=!1,i=[],n=0;t.on("error",a=>{r||(r=!0,e(a))}),t.on("readable",()=>{let a;for(;(a=t.read())!==null;)i.push(a),n+=a.length}),t.on("end",()=>{if(r)return;r=!0;let a;try{a=Buffer.concat(i,n)}catch(o){return e(o)}e(null,a)})}function NPe(t){let e=0,r=new Map;t.forEach(a=>{a.length>e&&(e=a.length)}),t.forEach(a=>{let o=a.toUpperCase();o.length<e&&(o+=" ".repeat(e-o.length)),r.set(a,o)});let i=(a,o,u,...p)=>{let _="";o&&(o.tnx==="server"?_="S: ":o.tnx==="client"&&(_="C: "),o.sid&&(_="["+o.sid+"] "+_),o.cid&&(_="[#"+o.cid+"] "+_)),u=SPe.format(u,...p),u.split(/\r?\n/).forEach(b=>{console.log("[%s] %s %s",new Date().toISOString().substr(0,19).replace(/T/," "),r.get(a),_+b)})},n={};return t.forEach(a=>{n[a]=i.bind(null,a)}),n}});var _w=l((zdt,Y6)=>{"use strict";var CPe=require("path"),z6="application/octet-stream",DPe="bin",W6=new Map([["application/acad","dwg"],["application/applixware","aw"],["application/arj","arj"],["application/atom+xml","xml"],["application/atomcat+xml","atomcat"],["application/atomsvc+xml","atomsvc"],["application/base64",["mm","mme"]],["application/binhex","hqx"],["application/binhex4","hqx"],["application/book",["book","boo"]],["application/ccxml+xml,","ccxml"],["application/cdf","cdf"],["application/cdmi-capability","cdmia"],["application/cdmi-container","cdmic"],["application/cdmi-domain","cdmid"],["application/cdmi-object","cdmio"],["application/cdmi-queue","cdmiq"],["application/clariscad","ccad"],["application/commonground","dp"],["application/cu-seeme","cu"],["application/davmount+xml","davmount"],["application/drafting","drw"],["application/dsptype","tsp"],["application/dssc+der","dssc"],["application/dssc+xml","xdssc"],["application/dxf","dxf"],["application/ecmascript",["js","es"]],["application/emma+xml","emma"],["application/envoy","evy"],["application/epub+zip","epub"],["application/excel",["xls","xl","xla","xlb","xlc","xld","xlk","xll","xlm","xlt","xlv","xlw"]],["application/exi","exi"],["application/font-tdpfr","pfr"],["application/fractals","fif"],["application/freeloader","frl"],["application/futuresplash","spl"],["application/gnutar","tgz"],["application/groupwise","vew"],["application/hlp","hlp"],["application/hta","hta"],["application/hyperstudio","stk"],["application/i-deas","unv"],["application/iges",["iges","igs"]],["application/inf","inf"],["application/internet-property-stream","acx"],["application/ipfix","ipfix"],["application/java","class"],["application/java-archive","jar"],["application/java-byte-code","class"],["application/java-serialized-object","ser"],["application/java-vm","class"],["application/javascript","js"],["application/json","json"],["application/lha","lha"],["application/lzx","lzx"],["application/mac-binary","bin"],["application/mac-binhex","hqx"],["application/mac-binhex40","hqx"],["application/mac-compactpro","cpt"],["application/macbinary","bin"],["application/mads+xml","mads"],["application/marc","mrc"],["application/marcxml+xml","mrcx"],["application/mathematica","ma"],["application/mathml+xml","mathml"],["application/mbedlet","mbd"],["application/mbox","mbox"],["application/mcad","mcd"],["application/mediaservercontrol+xml","mscml"],["application/metalink4+xml","meta4"],["application/mets+xml","mets"],["application/mime","aps"],["application/mods+xml","mods"],["application/mp21","m21"],["application/mp4","mp4"],["application/mspowerpoint",["ppt","pot","pps","ppz"]],["application/msword",["doc","dot","w6w","wiz","word"]],["application/mswrite","wri"],["application/mxf","mxf"],["application/netmc","mcp"],["application/octet-stream",["*"]],["application/oda","oda"],["application/oebps-package+xml","opf"],["application/ogg","ogx"],["application/olescript","axs"],["application/onenote","onetoc"],["application/patch-ops-error+xml","xer"],["application/pdf","pdf"],["application/pgp-encrypted","asc"],["application/pgp-signature","pgp"],["application/pics-rules","prf"],["application/pkcs-12","p12"],["application/pkcs-crl","crl"],["application/pkcs10","p10"],["application/pkcs7-mime",["p7c","p7m"]],["application/pkcs7-signature","p7s"],["application/pkcs8","p8"],["application/pkix-attr-cert","ac"],["application/pkix-cert",["cer","crt"]],["application/pkix-crl","crl"],["application/pkix-pkipath","pkipath"],["application/pkixcmp","pki"],["application/plain","text"],["application/pls+xml","pls"],["application/postscript",["ps","ai","eps"]],["application/powerpoint","ppt"],["application/pro_eng",["part","prt"]],["application/prs.cww","cww"],["application/pskc+xml","pskcxml"],["application/rdf+xml","rdf"],["application/reginfo+xml","rif"],["application/relax-ng-compact-syntax","rnc"],["application/resource-lists+xml","rl"],["application/resource-lists-diff+xml","rld"],["application/ringing-tones","rng"],["application/rls-services+xml","rs"],["application/rsd+xml","rsd"],["application/rss+xml","xml"],["application/rtf",["rtf","rtx"]],["application/sbml+xml","sbml"],["application/scvp-cv-request","scq"],["application/scvp-cv-response","scs"],["application/scvp-vp-request","spq"],["application/scvp-vp-response","spp"],["application/sdp","sdp"],["application/sea","sea"],["application/set","set"],["application/set-payment-initiation","setpay"],["application/set-registration-initiation","setreg"],["application/shf+xml","shf"],["application/sla","stl"],["application/smil",["smi","smil"]],["application/smil+xml","smi"],["application/solids","sol"],["application/sounder","sdr"],["application/sparql-query","rq"],["application/sparql-results+xml","srx"],["application/srgs","gram"],["application/srgs+xml","grxml"],["application/sru+xml","sru"],["application/ssml+xml","ssml"],["application/step",["step","stp"]],["application/streamingmedia","ssm"],["application/tei+xml","tei"],["application/thraud+xml","tfi"],["application/timestamped-data","tsd"],["application/toolbook","tbk"],["application/vda","vda"],["application/vnd.3gpp.pic-bw-large","plb"],["application/vnd.3gpp.pic-bw-small","psb"],["application/vnd.3gpp.pic-bw-var","pvb"],["application/vnd.3gpp2.tcap","tcap"],["application/vnd.3m.post-it-notes","pwn"],["application/vnd.accpac.simply.aso","aso"],["application/vnd.accpac.simply.imp","imp"],["application/vnd.acucobol","acu"],["application/vnd.acucorp","atc"],["application/vnd.adobe.air-application-installer-package+zip","air"],["application/vnd.adobe.fxp","fxp"],["application/vnd.adobe.xdp+xml","xdp"],["application/vnd.adobe.xfdf","xfdf"],["application/vnd.ahead.space","ahead"],["application/vnd.airzip.filesecure.azf","azf"],["application/vnd.airzip.filesecure.azs","azs"],["application/vnd.amazon.ebook","azw"],["application/vnd.americandynamics.acc","acc"],["application/vnd.amiga.ami","ami"],["application/vnd.android.package-archive","apk"],["application/vnd.anser-web-certificate-issue-initiation","cii"],["application/vnd.anser-web-funds-transfer-initiation","fti"],["application/vnd.antix.game-component","atx"],["application/vnd.apple.installer+xml","mpkg"],["application/vnd.apple.mpegurl","m3u8"],["application/vnd.aristanetworks.swi","swi"],["application/vnd.audiograph","aep"],["application/vnd.blueice.multipass","mpm"],["application/vnd.bmi","bmi"],["application/vnd.businessobjects","rep"],["application/vnd.chemdraw+xml","cdxml"],["application/vnd.chipnuts.karaoke-mmd","mmd"],["application/vnd.cinderella","cdy"],["application/vnd.claymore","cla"],["application/vnd.cloanto.rp9","rp9"],["application/vnd.clonk.c4group","c4g"],["application/vnd.cluetrust.cartomobile-config","c11amc"],["application/vnd.cluetrust.cartomobile-config-pkg","c11amz"],["application/vnd.commonspace","csp"],["application/vnd.contact.cmsg","cdbcmsg"],["application/vnd.cosmocaller","cmc"],["application/vnd.crick.clicker","clkx"],["application/vnd.crick.clicker.keyboard","clkk"],["application/vnd.crick.clicker.palette","clkp"],["application/vnd.crick.clicker.template","clkt"],["application/vnd.crick.clicker.wordbank","clkw"],["application/vnd.criticaltools.wbs+xml","wbs"],["application/vnd.ctc-posml","pml"],["application/vnd.cups-ppd","ppd"],["application/vnd.curl.car","car"],["application/vnd.curl.pcurl","pcurl"],["application/vnd.data-vision.rdz","rdz"],["application/vnd.denovo.fcselayout-link","fe_launch"],["application/vnd.dna","dna"],["application/vnd.dolby.mlp","mlp"],["application/vnd.dpgraph","dpg"],["application/vnd.dreamfactory","dfac"],["application/vnd.dvb.ait","ait"],["application/vnd.dvb.service","svc"],["application/vnd.dynageo","geo"],["application/vnd.ecowin.chart","mag"],["application/vnd.enliven","nml"],["application/vnd.epson.esf","esf"],["application/vnd.epson.msf","msf"],["application/vnd.epson.quickanime","qam"],["application/vnd.epson.salt","slt"],["application/vnd.epson.ssf","ssf"],["application/vnd.eszigno3+xml","es3"],["application/vnd.ezpix-album","ez2"],["application/vnd.ezpix-package","ez3"],["application/vnd.fdf","fdf"],["application/vnd.fdsn.seed","seed"],["application/vnd.flographit","gph"],["application/vnd.fluxtime.clip","ftc"],["application/vnd.framemaker","fm"],["application/vnd.frogans.fnc","fnc"],["application/vnd.frogans.ltf","ltf"],["application/vnd.fsc.weblaunch","fsc"],["application/vnd.fujitsu.oasys","oas"],["application/vnd.fujitsu.oasys2","oa2"],["application/vnd.fujitsu.oasys3","oa3"],["application/vnd.fujitsu.oasysgp","fg5"],["application/vnd.fujitsu.oasysprs","bh2"],["application/vnd.fujixerox.ddd","ddd"],["application/vnd.fujixerox.docuworks","xdw"],["application/vnd.fujixerox.docuworks.binder","xbd"],["application/vnd.fuzzysheet","fzs"],["application/vnd.genomatix.tuxedo","txd"],["application/vnd.geogebra.file","ggb"],["application/vnd.geogebra.tool","ggt"],["application/vnd.geometry-explorer","gex"],["application/vnd.geonext","gxt"],["application/vnd.geoplan","g2w"],["application/vnd.geospace","g3w"],["application/vnd.gmx","gmx"],["application/vnd.google-earth.kml+xml","kml"],["application/vnd.google-earth.kmz","kmz"],["application/vnd.grafeq","gqf"],["application/vnd.groove-account","gac"],["application/vnd.groove-help","ghf"],["application/vnd.groove-identity-message","gim"],["application/vnd.groove-injector","grv"],["application/vnd.groove-tool-message","gtm"],["application/vnd.groove-tool-template","tpl"],["application/vnd.groove-vcard","vcg"],["application/vnd.hal+xml","hal"],["application/vnd.handheld-entertainment+xml","zmm"],["application/vnd.hbci","hbci"],["application/vnd.hhe.lesson-player","les"],["application/vnd.hp-hpgl",["hgl","hpg","hpgl"]],["application/vnd.hp-hpid","hpid"],["application/vnd.hp-hps","hps"],["application/vnd.hp-jlyt","jlt"],["application/vnd.hp-pcl","pcl"],["application/vnd.hp-pclxl","pclxl"],["application/vnd.hydrostatix.sof-data","sfd-hdstx"],["application/vnd.hzn-3d-crossword","x3d"],["application/vnd.ibm.minipay","mpy"],["application/vnd.ibm.modcap","afp"],["application/vnd.ibm.rights-management","irm"],["application/vnd.ibm.secure-container","sc"],["application/vnd.iccprofile","icc"],["application/vnd.igloader","igl"],["application/vnd.immervision-ivp","ivp"],["application/vnd.immervision-ivu","ivu"],["application/vnd.insors.igm","igm"],["application/vnd.intercon.formnet","xpw"],["application/vnd.intergeo","i2g"],["application/vnd.intu.qbo","qbo"],["application/vnd.intu.qfx","qfx"],["application/vnd.ipunplugged.rcprofile","rcprofile"],["application/vnd.irepository.package+xml","irp"],["application/vnd.is-xpr","xpr"],["application/vnd.isac.fcs","fcs"],["application/vnd.jam","jam"],["application/vnd.jcp.javame.midlet-rms","rms"],["application/vnd.jisp","jisp"],["application/vnd.joost.joda-archive","joda"],["application/vnd.kahootz","ktz"],["application/vnd.kde.karbon","karbon"],["application/vnd.kde.kchart","chrt"],["application/vnd.kde.kformula","kfo"],["application/vnd.kde.kivio","flw"],["application/vnd.kde.kontour","kon"],["application/vnd.kde.kpresenter","kpr"],["application/vnd.kde.kspread","ksp"],["application/vnd.kde.kword","kwd"],["application/vnd.kenameaapp","htke"],["application/vnd.kidspiration","kia"],["application/vnd.kinar","kne"],["application/vnd.koan","skp"],["application/vnd.kodak-descriptor","sse"],["application/vnd.las.las+xml","lasxml"],["application/vnd.llamagraphics.life-balance.desktop","lbd"],["application/vnd.llamagraphics.life-balance.exchange+xml","lbe"],["application/vnd.lotus-1-2-3","123"],["application/vnd.lotus-approach","apr"],["application/vnd.lotus-freelance","pre"],["application/vnd.lotus-notes","nsf"],["application/vnd.lotus-organizer","org"],["application/vnd.lotus-screencam","scm"],["application/vnd.lotus-wordpro","lwp"],["application/vnd.macports.portpkg","portpkg"],["application/vnd.mcd","mcd"],["application/vnd.medcalcdata","mc1"],["application/vnd.mediastation.cdkey","cdkey"],["application/vnd.mfer","mwf"],["application/vnd.mfmp","mfm"],["application/vnd.micrografx.flo","flo"],["application/vnd.micrografx.igx","igx"],["application/vnd.mif","mif"],["application/vnd.mobius.daf","daf"],["application/vnd.mobius.dis","dis"],["application/vnd.mobius.mbk","mbk"],["application/vnd.mobius.mqy","mqy"],["application/vnd.mobius.msl","msl"],["application/vnd.mobius.plc","plc"],["application/vnd.mobius.txf","txf"],["application/vnd.mophun.application","mpn"],["application/vnd.mophun.certificate","mpc"],["application/vnd.mozilla.xul+xml","xul"],["application/vnd.ms-artgalry","cil"],["application/vnd.ms-cab-compressed","cab"],["application/vnd.ms-excel",["xls","xla","xlc","xlm","xlt","xlw","xlb","xll"]],["application/vnd.ms-excel.addin.macroenabled.12","xlam"],["application/vnd.ms-excel.sheet.binary.macroenabled.12","xlsb"],["application/vnd.ms-excel.sheet.macroenabled.12","xlsm"],["application/vnd.ms-excel.template.macroenabled.12","xltm"],["application/vnd.ms-fontobject","eot"],["application/vnd.ms-htmlhelp","chm"],["application/vnd.ms-ims","ims"],["application/vnd.ms-lrm","lrm"],["application/vnd.ms-officetheme","thmx"],["application/vnd.ms-outlook","msg"],["application/vnd.ms-pki.certstore","sst"],["application/vnd.ms-pki.pko","pko"],["application/vnd.ms-pki.seccat","cat"],["application/vnd.ms-pki.stl","stl"],["application/vnd.ms-pkicertstore","sst"],["application/vnd.ms-pkiseccat","cat"],["application/vnd.ms-pkistl","stl"],["application/vnd.ms-powerpoint",["ppt","pot","pps","ppa","pwz"]],["application/vnd.ms-powerpoint.addin.macroenabled.12","ppam"],["application/vnd.ms-powerpoint.presentation.macroenabled.12","pptm"],["application/vnd.ms-powerpoint.slide.macroenabled.12","sldm"],["application/vnd.ms-powerpoint.slideshow.macroenabled.12","ppsm"],["application/vnd.ms-powerpoint.template.macroenabled.12","potm"],["application/vnd.ms-project","mpp"],["application/vnd.ms-word.document.macroenabled.12","docm"],["application/vnd.ms-word.template.macroenabled.12","dotm"],["application/vnd.ms-works",["wks","wcm","wdb","wps"]],["application/vnd.ms-wpl","wpl"],["application/vnd.ms-xpsdocument","xps"],["application/vnd.mseq","mseq"],["application/vnd.musician","mus"],["application/vnd.muvee.style","msty"],["application/vnd.neurolanguage.nlu","nlu"],["application/vnd.noblenet-directory","nnd"],["application/vnd.noblenet-sealer","nns"],["application/vnd.noblenet-web","nnw"],["application/vnd.nokia.configuration-message","ncm"],["application/vnd.nokia.n-gage.data","ngdat"],["application/vnd.nokia.n-gage.symbian.install","n-gage"],["application/vnd.nokia.radio-preset","rpst"],["application/vnd.nokia.radio-presets","rpss"],["application/vnd.nokia.ringing-tone","rng"],["application/vnd.novadigm.edm","edm"],["application/vnd.novadigm.edx","edx"],["application/vnd.novadigm.ext","ext"],["application/vnd.oasis.opendocument.chart","odc"],["application/vnd.oasis.opendocument.chart-template","otc"],["application/vnd.oasis.opendocument.database","odb"],["application/vnd.oasis.opendocument.formula","odf"],["application/vnd.oasis.opendocument.formula-template","odft"],["application/vnd.oasis.opendocument.graphics","odg"],["application/vnd.oasis.opendocument.graphics-template","otg"],["application/vnd.oasis.opendocument.image","odi"],["application/vnd.oasis.opendocument.image-template","oti"],["application/vnd.oasis.opendocument.presentation","odp"],["application/vnd.oasis.opendocument.presentation-template","otp"],["application/vnd.oasis.opendocument.spreadsheet","ods"],["application/vnd.oasis.opendocument.spreadsheet-template","ots"],["application/vnd.oasis.opendocument.text","odt"],["application/vnd.oasis.opendocument.text-master","odm"],["application/vnd.oasis.opendocument.text-template","ott"],["application/vnd.oasis.opendocument.text-web","oth"],["application/vnd.olpc-sugar","xo"],["application/vnd.oma.dd2+xml","dd2"],["application/vnd.openofficeorg.extension","oxt"],["application/vnd.openxmlformats-officedocument.presentationml.presentation","pptx"],["application/vnd.openxmlformats-officedocument.presentationml.slide","sldx"],["application/vnd.openxmlformats-officedocument.presentationml.slideshow","ppsx"],["application/vnd.openxmlformats-officedocument.presentationml.template","potx"],["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","xlsx"],["application/vnd.openxmlformats-officedocument.spreadsheetml.template","xltx"],["application/vnd.openxmlformats-officedocument.wordprocessingml.document","docx"],["application/vnd.openxmlformats-officedocument.wordprocessingml.template","dotx"],["application/vnd.osgeo.mapguide.package","mgp"],["application/vnd.osgi.dp","dp"],["application/vnd.palm","pdb"],["application/vnd.pawaafile","paw"],["application/vnd.pg.format","str"],["application/vnd.pg.osasli","ei6"],["application/vnd.picsel","efif"],["application/vnd.pmi.widget","wg"],["application/vnd.pocketlearn","plf"],["application/vnd.powerbuilder6","pbd"],["application/vnd.previewsystems.box","box"],["application/vnd.proteus.magazine","mgz"],["application/vnd.publishare-delta-tree","qps"],["application/vnd.pvi.ptid1","ptid"],["application/vnd.quark.quarkxpress","qxd"],["application/vnd.realvnc.bed","bed"],["application/vnd.recordare.musicxml","mxl"],["application/vnd.recordare.musicxml+xml","musicxml"],["application/vnd.rig.cryptonote","cryptonote"],["application/vnd.rim.cod","cod"],["application/vnd.rn-realmedia","rm"],["application/vnd.rn-realplayer","rnx"],["application/vnd.route66.link66+xml","link66"],["application/vnd.sailingtracker.track","st"],["application/vnd.seemail","see"],["application/vnd.sema","sema"],["application/vnd.semd","semd"],["application/vnd.semf","semf"],["application/vnd.shana.informed.formdata","ifm"],["application/vnd.shana.informed.formtemplate","itp"],["application/vnd.shana.informed.interchange","iif"],["application/vnd.shana.informed.package","ipk"],["application/vnd.simtech-mindmapper","twd"],["application/vnd.smaf","mmf"],["application/vnd.smart.teacher","teacher"],["application/vnd.solent.sdkm+xml","sdkm"],["application/vnd.spotfire.dxp","dxp"],["application/vnd.spotfire.sfs","sfs"],["application/vnd.stardivision.calc","sdc"],["application/vnd.stardivision.draw","sda"],["application/vnd.stardivision.impress","sdd"],["application/vnd.stardivision.math","smf"],["application/vnd.stardivision.writer","sdw"],["application/vnd.stardivision.writer-global","sgl"],["application/vnd.stepmania.stepchart","sm"],["application/vnd.sun.xml.calc","sxc"],["application/vnd.sun.xml.calc.template","stc"],["application/vnd.sun.xml.draw","sxd"],["application/vnd.sun.xml.draw.template","std"],["application/vnd.sun.xml.impress","sxi"],["application/vnd.sun.xml.impress.template","sti"],["application/vnd.sun.xml.math","sxm"],["application/vnd.sun.xml.writer","sxw"],["application/vnd.sun.xml.writer.global","sxg"],["application/vnd.sun.xml.writer.template","stw"],["application/vnd.sus-calendar","sus"],["application/vnd.svd","svd"],["application/vnd.symbian.install","sis"],["application/vnd.syncml+xml","xsm"],["application/vnd.syncml.dm+wbxml","bdm"],["application/vnd.syncml.dm+xml","xdm"],["application/vnd.tao.intent-module-archive","tao"],["application/vnd.tmobile-livetv","tmo"],["application/vnd.trid.tpt","tpt"],["application/vnd.triscape.mxs","mxs"],["application/vnd.trueapp","tra"],["application/vnd.ufdl","ufd"],["application/vnd.uiq.theme","utz"],["application/vnd.umajin","umj"],["application/vnd.unity","unityweb"],["application/vnd.uoml+xml","uoml"],["application/vnd.vcx","vcx"],["application/vnd.visio","vsd"],["application/vnd.visionary","vis"],["application/vnd.vsf","vsf"],["application/vnd.wap.wbxml","wbxml"],["application/vnd.wap.wmlc","wmlc"],["application/vnd.wap.wmlscriptc","wmlsc"],["application/vnd.webturbo","wtb"],["application/vnd.wolfram.player","nbp"],["application/vnd.wordperfect","wpd"],["application/vnd.wqd","wqd"],["application/vnd.wt.stf","stf"],["application/vnd.xara",["web","xar"]],["application/vnd.xfdl","xfdl"],["application/vnd.yamaha.hv-dic","hvd"],["application/vnd.yamaha.hv-script","hvs"],["application/vnd.yamaha.hv-voice","hvp"],["application/vnd.yamaha.openscoreformat","osf"],["application/vnd.yamaha.openscoreformat.osfpvg+xml","osfpvg"],["application/vnd.yamaha.smaf-audio","saf"],["application/vnd.yamaha.smaf-phrase","spf"],["application/vnd.yellowriver-custom-menu","cmp"],["application/vnd.zul","zir"],["application/vnd.zzazz.deck+xml","zaz"],["application/vocaltec-media-desc","vmd"],["application/vocaltec-media-file","vmf"],["application/voicexml+xml","vxml"],["application/widget","wgt"],["application/winhlp","hlp"],["application/wordperfect",["wp","wp5","wp6","wpd"]],["application/wordperfect6.0",["w60","wp5"]],["application/wordperfect6.1","w61"],["application/wsdl+xml","wsdl"],["application/wspolicy+xml","wspolicy"],["application/x-123","wk1"],["application/x-7z-compressed","7z"],["application/x-abiword","abw"],["application/x-ace-compressed","ace"],["application/x-aim","aim"],["application/x-authorware-bin","aab"],["application/x-authorware-map","aam"],["application/x-authorware-seg","aas"],["application/x-bcpio","bcpio"],["application/x-binary","bin"],["application/x-binhex40","hqx"],["application/x-bittorrent","torrent"],["application/x-bsh",["bsh","sh","shar"]],["application/x-bytecode.elisp","elc"],["application/x-bytecode.python","pyc"],["application/x-bzip","bz"],["application/x-bzip2",["boz","bz2"]],["application/x-cdf","cdf"],["application/x-cdlink","vcd"],["application/x-chat",["cha","chat"]],["application/x-chess-pgn","pgn"],["application/x-cmu-raster","ras"],["application/x-cocoa","cco"],["application/x-compactpro","cpt"],["application/x-compress","z"],["application/x-compressed",["tgz","gz","z","zip"]],["application/x-conference","nsc"],["application/x-cpio","cpio"],["application/x-cpt","cpt"],["application/x-csh","csh"],["application/x-debian-package","deb"],["application/x-deepv","deepv"],["application/x-director",["dir","dcr","dxr"]],["application/x-doom","wad"],["application/x-dtbncx+xml","ncx"],["application/x-dtbook+xml","dtb"],["application/x-dtbresource+xml","res"],["application/x-dvi","dvi"],["application/x-elc","elc"],["application/x-envoy",["env","evy"]],["application/x-esrehber","es"],["application/x-excel",["xls","xla","xlb","xlc","xld","xlk","xll","xlm","xlt","xlv","xlw"]],["application/x-font-bdf","bdf"],["application/x-font-ghostscript","gsf"],["application/x-font-linux-psf","psf"],["application/x-font-otf","otf"],["application/x-font-pcf","pcf"],["application/x-font-snf","snf"],["application/x-font-ttf","ttf"],["application/x-font-type1","pfa"],["application/x-font-woff","woff"],["application/x-frame","mif"],["application/x-freelance","pre"],["application/x-futuresplash","spl"],["application/x-gnumeric","gnumeric"],["application/x-gsp","gsp"],["application/x-gss","gss"],["application/x-gtar","gtar"],["application/x-gzip",["gz","gzip"]],["application/x-hdf","hdf"],["application/x-helpfile",["help","hlp"]],["application/x-httpd-imap","imap"],["application/x-ima","ima"],["application/x-internet-signup",["ins","isp"]],["application/x-internett-signup","ins"],["application/x-inventor","iv"],["application/x-ip2","ip"],["application/x-iphone","iii"],["application/x-java-class","class"],["application/x-java-commerce","jcm"],["application/x-java-jnlp-file","jnlp"],["application/x-javascript","js"],["application/x-koan",["skd","skm","skp","skt"]],["application/x-ksh","ksh"],["application/x-latex",["latex","ltx"]],["application/x-lha","lha"],["application/x-lisp","lsp"],["application/x-livescreen","ivy"],["application/x-lotus","wq1"],["application/x-lotusscreencam","scm"],["application/x-lzh","lzh"],["application/x-lzx","lzx"],["application/x-mac-binhex40","hqx"],["application/x-macbinary","bin"],["application/x-magic-cap-package-1.0","mc$"],["application/x-mathcad","mcd"],["application/x-meme","mm"],["application/x-midi",["mid","midi"]],["application/x-mif","mif"],["application/x-mix-transfer","nix"],["application/x-mobipocket-ebook","prc"],["application/x-mplayer2","asx"],["application/x-ms-application","application"],["application/x-ms-wmd","wmd"],["application/x-ms-wmz","wmz"],["application/x-ms-xbap","xbap"],["application/x-msaccess","mdb"],["application/x-msbinder","obd"],["application/x-mscardfile","crd"],["application/x-msclip","clp"],["application/x-msdownload",["exe","dll"]],["application/x-msexcel",["xls","xla","xlw"]],["application/x-msmediaview",["mvb","m13","m14"]],["application/x-msmetafile","wmf"],["application/x-msmoney","mny"],["application/x-mspowerpoint","ppt"],["application/x-mspublisher","pub"],["application/x-msschedule","scd"],["application/x-msterminal","trm"],["application/x-mswrite","wri"],["application/x-navi-animation","ani"],["application/x-navidoc","nvd"],["application/x-navimap","map"],["application/x-navistyle","stl"],["application/x-netcdf",["cdf","nc"]],["application/x-newton-compatible-pkg","pkg"],["application/x-nokia-9000-communicator-add-on-software","aos"],["application/x-omc","omc"],["application/x-omcdatamaker","omcd"],["application/x-omcregerator","omcr"],["application/x-pagemaker",["pm4","pm5"]],["application/x-pcl","pcl"],["application/x-perfmon",["pma","pmc","pml","pmr","pmw"]],["application/x-pixclscript","plx"],["application/x-pkcs10","p10"],["application/x-pkcs12",["p12","pfx"]],["application/x-pkcs7-certificates",["p7b","spc"]],["application/x-pkcs7-certreqresp","p7r"],["application/x-pkcs7-mime",["p7m","p7c"]],["application/x-pkcs7-signature",["p7s","p7a"]],["application/x-pointplus","css"],["application/x-portable-anymap","pnm"],["application/x-project",["mpc","mpt","mpv","mpx"]],["application/x-qpro","wb1"],["application/x-rar-compressed","rar"],["application/x-rtf","rtf"],["application/x-sdp","sdp"],["application/x-sea","sea"],["application/x-seelogo","sl"],["application/x-sh","sh"],["application/x-shar",["shar","sh"]],["application/x-shockwave-flash","swf"],["application/x-silverlight-app","xap"],["application/x-sit","sit"],["application/x-sprite",["spr","sprite"]],["application/x-stuffit","sit"],["application/x-stuffitx","sitx"],["application/x-sv4cpio","sv4cpio"],["application/x-sv4crc","sv4crc"],["application/x-tar","tar"],["application/x-tbook",["sbk","tbk"]],["application/x-tcl","tcl"],["application/x-tex","tex"],["application/x-tex-tfm","tfm"],["application/x-texinfo",["texi","texinfo"]],["application/x-troff",["roff","t","tr"]],["application/x-troff-man","man"],["application/x-troff-me","me"],["application/x-troff-ms","ms"],["application/x-troff-msvideo","avi"],["application/x-ustar","ustar"],["application/x-visio",["vsd","vst","vsw"]],["application/x-vnd.audioexplosion.mzz","mzz"],["application/x-vnd.ls-xpix","xpix"],["application/x-vrml","vrml"],["application/x-wais-source",["src","wsrc"]],["application/x-winhelp","hlp"],["application/x-wintalk","wtk"],["application/x-world",["wrl","svr"]],["application/x-wpwin","wpd"],["application/x-wri","wri"],["application/x-x509-ca-cert",["cer","crt","der"]],["application/x-x509-user-cert","crt"],["application/x-xfig","fig"],["application/x-xpinstall","xpi"],["application/x-zip-compressed","zip"],["application/xcap-diff+xml","xdf"],["application/xenc+xml","xenc"],["application/xhtml+xml","xhtml"],["application/xml","xml"],["application/xml-dtd","dtd"],["application/xop+xml","xop"],["application/xslt+xml","xslt"],["application/xspf+xml","xspf"],["application/xv+xml","mxml"],["application/yang","yang"],["application/yin+xml","yin"],["application/ynd.ms-pkipko","pko"],["application/zip","zip"],["audio/adpcm","adp"],["audio/aiff",["aiff","aif","aifc"]],["audio/basic",["snd","au"]],["audio/it","it"],["audio/make",["funk","my","pfunk"]],["audio/make.my.funk","pfunk"],["audio/mid",["mid","rmi"]],["audio/midi",["midi","kar","mid"]],["audio/mod","mod"],["audio/mp4","mp4a"],["audio/mpeg",["mpga","mp3","m2a","mp2","mpa","mpg"]],["audio/mpeg3","mp3"],["audio/nspaudio",["la","lma"]],["audio/ogg","oga"],["audio/s3m","s3m"],["audio/tsp-audio","tsi"],["audio/tsplayer","tsp"],["audio/vnd.dece.audio","uva"],["audio/vnd.digital-winds","eol"],["audio/vnd.dra","dra"],["audio/vnd.dts","dts"],["audio/vnd.dts.hd","dtshd"],["audio/vnd.lucent.voice","lvp"],["audio/vnd.ms-playready.media.pya","pya"],["audio/vnd.nuera.ecelp4800","ecelp4800"],["audio/vnd.nuera.ecelp7470","ecelp7470"],["audio/vnd.nuera.ecelp9600","ecelp9600"],["audio/vnd.qcelp","qcp"],["audio/vnd.rip","rip"],["audio/voc","voc"],["audio/voxware","vox"],["audio/wav","wav"],["audio/webm","weba"],["audio/x-aac","aac"],["audio/x-adpcm","snd"],["audio/x-aiff",["aiff","aif","aifc"]],["audio/x-au","au"],["audio/x-gsm",["gsd","gsm"]],["audio/x-jam","jam"],["audio/x-liveaudio","lam"],["audio/x-mid",["mid","midi"]],["audio/x-midi",["midi","mid"]],["audio/x-mod","mod"],["audio/x-mpeg","mp2"],["audio/x-mpeg-3","mp3"],["audio/x-mpegurl","m3u"],["audio/x-mpequrl","m3u"],["audio/x-ms-wax","wax"],["audio/x-ms-wma","wma"],["audio/x-nspaudio",["la","lma"]],["audio/x-pn-realaudio",["ra","ram","rm","rmm","rmp"]],["audio/x-pn-realaudio-plugin",["ra","rmp","rpm"]],["audio/x-psid","sid"],["audio/x-realaudio","ra"],["audio/x-twinvq","vqf"],["audio/x-twinvq-plugin",["vqe","vql"]],["audio/x-vnd.audioexplosion.mjuicemediafile","mjf"],["audio/x-voc","voc"],["audio/x-wav","wav"],["audio/xm","xm"],["chemical/x-cdx","cdx"],["chemical/x-cif","cif"],["chemical/x-cmdf","cmdf"],["chemical/x-cml","cml"],["chemical/x-csml","csml"],["chemical/x-pdb",["pdb","xyz"]],["chemical/x-xyz","xyz"],["drawing/x-dwf","dwf"],["i-world/i-vrml","ivr"],["image/bmp",["bmp","bm"]],["image/cgm","cgm"],["image/cis-cod","cod"],["image/cmu-raster",["ras","rast"]],["image/fif","fif"],["image/florian",["flo","turbot"]],["image/g3fax","g3"],["image/gif","gif"],["image/ief",["ief","iefs"]],["image/jpeg",["jpeg","jpe","jpg","jfif","jfif-tbnl"]],["image/jutvision","jut"],["image/ktx","ktx"],["image/naplps",["nap","naplps"]],["image/pict",["pic","pict"]],["image/pipeg","jfif"],["image/pjpeg",["jfif","jpe","jpeg","jpg"]],["image/png",["png","x-png"]],["image/prs.btif","btif"],["image/svg+xml","svg"],["image/tiff",["tif","tiff"]],["image/vasa","mcf"],["image/vnd.adobe.photoshop","psd"],["image/vnd.dece.graphic","uvi"],["image/vnd.djvu","djvu"],["image/vnd.dvb.subtitle","sub"],["image/vnd.dwg",["dwg","dxf","svf"]],["image/vnd.dxf","dxf"],["image/vnd.fastbidsheet","fbs"],["image/vnd.fpx","fpx"],["image/vnd.fst","fst"],["image/vnd.fujixerox.edmics-mmr","mmr"],["image/vnd.fujixerox.edmics-rlc","rlc"],["image/vnd.ms-modi","mdi"],["image/vnd.net-fpx",["fpx","npx"]],["image/vnd.rn-realflash","rf"],["image/vnd.rn-realpix","rp"],["image/vnd.wap.wbmp","wbmp"],["image/vnd.xiff","xif"],["image/webp","webp"],["image/x-cmu-raster","ras"],["image/x-cmx","cmx"],["image/x-dwg",["dwg","dxf","svf"]],["image/x-freehand","fh"],["image/x-icon","ico"],["image/x-jg","art"],["image/x-jps","jps"],["image/x-niff",["niff","nif"]],["image/x-pcx","pcx"],["image/x-pict",["pct","pic"]],["image/x-portable-anymap","pnm"],["image/x-portable-bitmap","pbm"],["image/x-portable-graymap","pgm"],["image/x-portable-greymap","pgm"],["image/x-portable-pixmap","ppm"],["image/x-quicktime",["qif","qti","qtif"]],["image/x-rgb","rgb"],["image/x-tiff",["tif","tiff"]],["image/x-windows-bmp","bmp"],["image/x-xbitmap","xbm"],["image/x-xbm","xbm"],["image/x-xpixmap",["xpm","pm"]],["image/x-xwd","xwd"],["image/x-xwindowdump","xwd"],["image/xbm","xbm"],["image/xpm","xpm"],["message/rfc822",["eml","mht","mhtml","nws","mime"]],["model/iges",["iges","igs"]],["model/mesh","msh"],["model/vnd.collada+xml","dae"],["model/vnd.dwf","dwf"],["model/vnd.gdl","gdl"],["model/vnd.gtw","gtw"],["model/vnd.mts","mts"],["model/vnd.vtu","vtu"],["model/vrml",["vrml","wrl","wrz"]],["model/x-pov","pov"],["multipart/x-gzip","gzip"],["multipart/x-ustar","ustar"],["multipart/x-zip","zip"],["music/crescendo",["mid","midi"]],["music/x-karaoke","kar"],["paleovu/x-pv","pvu"],["text/asp","asp"],["text/calendar","ics"],["text/css","css"],["text/csv","csv"],["text/ecmascript","js"],["text/h323","323"],["text/html",["html","htm","stm","acgi","htmls","htx","shtml"]],["text/iuls","uls"],["text/javascript","js"],["text/mcf","mcf"],["text/n3","n3"],["text/pascal","pas"],["text/plain",["txt","bas","c","h","c++","cc","com","conf","cxx","def","f","f90","for","g","hh","idc","jav","java","list","log","lst","m","mar","pl","sdml","text"]],["text/plain-bas","par"],["text/prs.lines.tag","dsc"],["text/richtext",["rtx","rt","rtf"]],["text/scriplet","wsc"],["text/scriptlet","sct"],["text/sgml",["sgm","sgml"]],["text/tab-separated-values","tsv"],["text/troff","t"],["text/turtle","ttl"],["text/uri-list",["uni","unis","uri","uris"]],["text/vnd.abc","abc"],["text/vnd.curl","curl"],["text/vnd.curl.dcurl","dcurl"],["text/vnd.curl.mcurl","mcurl"],["text/vnd.curl.scurl","scurl"],["text/vnd.fly","fly"],["text/vnd.fmi.flexstor","flx"],["text/vnd.graphviz","gv"],["text/vnd.in3d.3dml","3dml"],["text/vnd.in3d.spot","spot"],["text/vnd.rn-realtext","rt"],["text/vnd.sun.j2me.app-descriptor","jad"],["text/vnd.wap.wml","wml"],["text/vnd.wap.wmlscript","wmls"],["text/webviewhtml","htt"],["text/x-asm",["asm","s"]],["text/x-audiosoft-intra","aip"],["text/x-c",["c","cc","cpp"]],["text/x-component","htc"],["text/x-fortran",["for","f","f77","f90"]],["text/x-h",["h","hh"]],["text/x-java-source",["java","jav"]],["text/x-java-source,java","java"],["text/x-la-asf","lsx"],["text/x-m","m"],["text/x-pascal","p"],["text/x-script","hlb"],["text/x-script.csh","csh"],["text/x-script.elisp","el"],["text/x-script.guile","scm"],["text/x-script.ksh","ksh"],["text/x-script.lisp","lsp"],["text/x-script.perl","pl"],["text/x-script.perl-module","pm"],["text/x-script.phyton","py"],["text/x-script.rexx","rexx"],["text/x-script.scheme","scm"],["text/x-script.sh","sh"],["text/x-script.tcl","tcl"],["text/x-script.tcsh","tcsh"],["text/x-script.zsh","zsh"],["text/x-server-parsed-html",["shtml","ssi"]],["text/x-setext","etx"],["text/x-sgml",["sgm","sgml"]],["text/x-speech",["spc","talk"]],["text/x-uil","uil"],["text/x-uuencode",["uu","uue"]],["text/x-vcalendar","vcs"],["text/x-vcard","vcf"],["text/xml","xml"],["video/3gpp","3gp"],["video/3gpp2","3g2"],["video/animaflex","afl"],["video/avi","avi"],["video/avs-video","avs"],["video/dl","dl"],["video/fli","fli"],["video/gl","gl"],["video/h261","h261"],["video/h263","h263"],["video/h264","h264"],["video/jpeg","jpgv"],["video/jpm","jpm"],["video/mj2","mj2"],["video/mp4","mp4"],["video/mpeg",["mpeg","mp2","mpa","mpe","mpg","mpv2","m1v","m2v","mp3"]],["video/msvideo","avi"],["video/ogg","ogv"],["video/quicktime",["mov","qt","moov"]],["video/vdo","vdo"],["video/vivo",["viv","vivo"]],["video/vnd.dece.hd","uvh"],["video/vnd.dece.mobile","uvm"],["video/vnd.dece.pd","uvp"],["video/vnd.dece.sd","uvs"],["video/vnd.dece.video","uvv"],["video/vnd.fvt","fvt"],["video/vnd.mpegurl","mxu"],["video/vnd.ms-playready.media.pyv","pyv"],["video/vnd.rn-realvideo","rv"],["video/vnd.uvvu.mp4","uvu"],["video/vnd.vivo",["viv","vivo"]],["video/vosaic","vos"],["video/webm","webm"],["video/x-amt-demorun","xdr"],["video/x-amt-showrun","xsr"],["video/x-atomic3d-feature","fmf"],["video/x-dl","dl"],["video/x-dv",["dif","dv"]],["video/x-f4v","f4v"],["video/x-fli","fli"],["video/x-flv","flv"],["video/x-gl","gl"],["video/x-isvideo","isu"],["video/x-la-asf",["lsf","lsx"]],["video/x-m4v","m4v"],["video/x-motion-jpeg","mjpg"],["video/x-mpeg",["mp3","mp2"]],["video/x-mpeq2a","mp2"],["video/x-ms-asf",["asf","asr","asx"]],["video/x-ms-asf-plugin","asx"],["video/x-ms-wm","wm"],["video/x-ms-wmv","wmv"],["video/x-ms-wmx","wmx"],["video/x-ms-wvx","wvx"],["video/x-msvideo","avi"],["video/x-qtc","qtc"],["video/x-scm","scm"],["video/x-sgi-movie",["movie","mv"]],["windows/metafile","wmf"],["www/mime","mime"],["x-conference/x-cooltalk","ice"],["x-music/x-midi",["mid","midi"]],["x-world/x-3dmf",["3dm","3dmf","qd3","qd3d"]],["x-world/x-svr","svr"],["x-world/x-vrml",["flr","vrml","wrl","wrz","xaf","xof"]],["x-world/x-vrt","vrt"],["xgl/drawing","xgz"],["xgl/movie","xmz"]]),V6=new Map([["123","application/vnd.lotus-1-2-3"],["323","text/h323"],["*","application/octet-stream"],["3dm","x-world/x-3dmf"],["3dmf","x-world/x-3dmf"],["3dml","text/vnd.in3d.3dml"],["3g2","video/3gpp2"],["3gp","video/3gpp"],["7z","application/x-7z-compressed"],["a","application/octet-stream"],["aab","application/x-authorware-bin"],["aac","audio/x-aac"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abc","text/vnd.abc"],["abw","application/x-abiword"],["ac","application/pkix-attr-cert"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acgi","text/html"],["acu","application/vnd.acucobol"],["acx","application/internet-property-stream"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afl","video/animaflex"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/postscript"],["aif",["audio/aiff","audio/x-aiff"]],["aifc",["audio/aiff","audio/x-aiff"]],["aiff",["audio/aiff","audio/x-aiff"]],["aim","application/x-aim"],["aip","text/x-audiosoft-intra"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["ani","application/x-navi-animation"],["aos","application/x-nokia-9000-communicator-add-on-software"],["apk","application/vnd.android.package-archive"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["aps","application/mime"],["arc","application/octet-stream"],["arj",["application/arj","application/octet-stream"]],["art","image/x-jg"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asp","text/asp"],["asr","video/x-ms-asf"],["asx",["video/x-ms-asf","application/x-mplayer2","video/x-ms-asf-plugin"]],["atc","application/vnd.acucorp"],["atomcat","application/atomcat+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au",["audio/basic","audio/x-au"]],["avi",["video/avi","video/msvideo","application/x-troff-msvideo","video/x-msvideo"]],["avs","video/avs-video"],["aw","application/applixware"],["axs","application/olescript"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azw","application/vnd.amazon.ebook"],["bas","text/plain"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin",["application/octet-stream","application/mac-binary","application/macbinary","application/x-macbinary","application/x-binary"]],["bm","image/bmp"],["bmi","application/vnd.bmi"],["bmp",["image/bmp","image/x-windows-bmp"]],["boo","application/book"],["book","application/book"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bsh","application/x-bsh"],["btif","image/prs.btif"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c",["text/plain","text/x-c"]],["c++","text/plain"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["c4g","application/vnd.clonk.c4group"],["cab","application/vnd.ms-cab-compressed"],["car","application/vnd.curl.car"],["cat",["application/vnd.ms-pkiseccat","application/vnd.ms-pki.seccat"]],["cc",["text/plain","text/x-c"]],["ccad","application/clariscad"],["cco","application/x-cocoa"],["ccxml","application/ccxml+xml,"],["cdbcmsg","application/vnd.contact.cmsg"],["cdf",["application/cdf","application/x-cdf","application/x-netcdf"]],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer",["application/pkix-cert","application/x-x509-ca-cert"]],["cgm","image/cgm"],["cha","application/x-chat"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cla","application/vnd.claymore"],["class",["application/octet-stream","application/java","application/java-byte-code","application/java-vm","application/x-java-class"]],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod",["image/cis-cod","application/vnd.rim.cod"]],["com",["application/octet-stream","text/plain"]],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt",["application/mac-compactpro","application/x-compactpro","application/x-cpt"]],["crd","application/x-mscardfile"],["crl",["application/pkix-crl","application/pkcs-crl"]],["crt",["application/pkix-cert","application/x-x509-user-cert","application/x-x509-ca-cert"]],["cryptonote","application/vnd.rig.cryptonote"],["csh",["text/x-script.csh","application/x-csh"]],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["css",["text/css","application/x-pointplus"]],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxx","text/plain"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["davmount","application/davmount+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["deb","application/x-debian-package"],["deepv","application/x-deepv"],["def","text/plain"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dif","video/x-dv"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["djvu","image/vnd.djvu"],["dl",["video/dl","video/x-dl"]],["dll","application/x-msdownload"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.document.macroenabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroenabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp",["application/commonground","application/vnd.osgi.dp"]],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drw","application/drafting"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dv","video/x-dv"],["dvi","application/x-dvi"],["dwf",["model/vnd.dwf","drawing/x-dwf"]],["dwg",["application/acad","image/vnd.dwg","image/x-dwg"]],["dxf",["application/dxf","image/vnd.dwg","image/vnd.dxf","image/x-dwg"]],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["el","text/x-script.elisp"],["elc",["application/x-elc","application/x-bytecode.elisp"]],["eml","message/rfc822"],["emma","application/emma+xml"],["env","application/x-envoy"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es",["application/ecmascript","application/x-esrehber"]],["es3","application/vnd.eszigno3+xml"],["esf","application/vnd.epson.esf"],["etx","text/x-setext"],["evy",["application/envoy","application/x-envoy"]],["exe",["application/octet-stream","application/x-msdownload"]],["exi","application/exi"],["ext","application/vnd.novadigm.ext"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f",["text/plain","text/x-fortran"]],["f4v","video/x-f4v"],["f77","text/x-fortran"],["f90",["text/plain","text/x-fortran"]],["fbs","image/vnd.fastbidsheet"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fh","image/x-freehand"],["fif",["application/fractals","image/fif"]],["fig","application/x-xfig"],["fli",["video/fli","video/x-fli"]],["flo",["image/florian","application/vnd.micrografx.flo"]],["flr","x-world/x-vrml"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fmf","video/x-atomic3d-feature"],["fnc","application/vnd.frogans.fnc"],["for",["text/plain","text/x-fortran"]],["fpx",["image/vnd.fpx","image/vnd.net-fpx"]],["frl","application/freeloader"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["funk","audio/make"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g","text/plain"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gdl","model/vnd.gdl"],["geo","application/vnd.dynageo"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["gl",["video/gl","video/x-gl"]],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gph","application/vnd.flographit"],["gqf","application/vnd.grafeq"],["gram","application/srgs"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsd","audio/x-gsm"],["gsf","application/x-font-ghostscript"],["gsm","audio/x-gsm"],["gsp","application/x-gsp"],["gss","application/x-gss"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxt","application/vnd.geonext"],["gz",["application/x-gzip","application/x-compressed"]],["gzip",["multipart/x-gzip","application/x-gzip"]],["h",["text/plain","text/x-h"]],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hdf","application/x-hdf"],["help","application/x-helpfile"],["hgl","application/vnd.hp-hpgl"],["hh",["text/plain","text/x-h"]],["hlb","text/x-script"],["hlp",["application/winhlp","application/hlp","application/x-helpfile","application/x-winhelp"]],["hpg","application/vnd.hp-hpgl"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx",["application/mac-binhex40","application/binhex","application/binhex4","application/mac-binhex","application/x-binhex40","application/x-mac-binhex40"]],["hta","application/hta"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["htmls","text/html"],["htt","text/webviewhtml"],["htx","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["ico","image/x-icon"],["ics","text/calendar"],["idc","text/plain"],["ief","image/ief"],["iefs","image/ief"],["ifm","application/vnd.shana.informed.formdata"],["iges",["application/iges","model/iges"]],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs",["application/iges","model/iges"]],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["iii","application/x-iphone"],["ima","application/x-ima"],["imap","application/x-httpd-imap"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["inf","application/inf"],["ins",["application/x-internet-signup","application/x-internett-signup"]],["ip","application/x-ip2"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["isp","application/x-internet-signup"],["isu","video/x-isvideo"],["it","audio/it"],["itp","application/vnd.shana.informed.formtemplate"],["iv","application/x-inventor"],["ivp","application/vnd.immervision-ivp"],["ivr","i-world/i-vrml"],["ivu","application/vnd.immervision-ivu"],["ivy","application/x-livescreen"],["jad","text/vnd.sun.j2me.app-descriptor"],["jam",["application/vnd.jam","audio/x-jam"]],["jar","application/java-archive"],["jav",["text/plain","text/x-java-source"]],["java",["text/plain","text/x-java-source,java","text/x-java-source"]],["jcm","application/x-java-commerce"],["jfif",["image/pipeg","image/jpeg","image/pjpeg"]],["jfif-tbnl","image/jpeg"],["jisp","application/vnd.jisp"],["jlt","application/vnd.hp-jlyt"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jpe",["image/jpeg","image/pjpeg"]],["jpeg",["image/jpeg","image/pjpeg"]],["jpg",["image/jpeg","image/pjpeg"]],["jpgv","video/jpeg"],["jpm","video/jpm"],["jps","image/x-jps"],["js",["application/javascript","application/ecmascript","text/javascript","text/ecmascript","application/x-javascript"]],["json","application/json"],["jut","image/jutvision"],["kar",["audio/midi","music/x-karaoke"]],["karbon","application/vnd.kde.karbon"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["ksh",["application/x-ksh","text/x-script.ksh"]],["ksp","application/vnd.kde.kspread"],["ktx","image/ktx"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["la",["audio/nspaudio","audio/x-nspaudio"]],["lam","audio/x-liveaudio"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["lha",["application/octet-stream","application/lha","application/x-lha"]],["lhx","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["lma",["audio/nspaudio","audio/x-nspaudio"]],["log","text/plain"],["lrm","application/vnd.ms-lrm"],["lsf","video/x-la-asf"],["lsp",["application/x-lisp","text/x-script.lisp"]],["lst","text/plain"],["lsx",["video/x-la-asf","text/x-la-asf"]],["ltf","application/vnd.frogans.ltf"],["ltx","application/x-latex"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh",["application/octet-stream","application/x-lzh"]],["lzx",["application/lzx","application/octet-stream","application/x-lzx"]],["m",["text/plain","text/x-m"]],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m1v","video/mpeg"],["m21","application/mp21"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3u",["audio/x-mpegurl","audio/x-mpequrl"]],["m3u8","application/vnd.apple.mpegurl"],["m4v","video/x-m4v"],["ma","application/mathematica"],["mads","application/mads+xml"],["mag","application/vnd.ecowin.chart"],["man","application/x-troff-man"],["map","application/x-navimap"],["mar","text/plain"],["mathml","application/mathml+xml"],["mbd","application/mbedlet"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc$","application/x-magic-cap-package-1.0"],["mc1","application/vnd.medcalcdata"],["mcd",["application/mcad","application/vnd.mcd","application/x-mathcad"]],["mcf",["image/vasa","text/mcf"]],["mcp","application/netmc"],["mcurl","text/vnd.curl.mcurl"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["me","application/x-troff-me"],["meta4","application/metalink4+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mht","message/rfc822"],["mhtml","message/rfc822"],["mid",["audio/mid","audio/midi","music/crescendo","x-music/x-midi","audio/x-midi","application/x-midi","audio/x-mid"]],["midi",["audio/midi","music/crescendo","x-music/x-midi","audio/x-midi","application/x-midi","audio/x-mid"]],["mif",["application/vnd.mif","application/x-mif","application/x-frame"]],["mime",["message/rfc822","www/mime"]],["mj2","video/mj2"],["mjf","audio/x-vnd.audioexplosion.mjuicemediafile"],["mjpg","video/x-motion-jpeg"],["mlp","application/vnd.dolby.mlp"],["mm",["application/base64","application/x-meme"]],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mme","application/base64"],["mmf","application/vnd.smaf"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mny","application/x-msmoney"],["mod",["audio/mod","audio/x-mod"]],["mods","application/mods+xml"],["moov","video/quicktime"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2",["video/mpeg","audio/mpeg","video/x-mpeg","audio/x-mpeg","video/x-mpeq2a"]],["mp3",["audio/mpeg","audio/mpeg3","video/mpeg","audio/x-mpeg-3","video/x-mpeg"]],["mp4",["video/mp4","application/mp4"]],["mp4a","audio/mp4"],["mpa",["video/mpeg","audio/mpeg"]],["mpc",["application/vnd.mophun.certificate","application/x-project"]],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg",["video/mpeg","audio/mpeg"]],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/x-project"],["mpv","application/x-project"],["mpv2","video/mpeg"],["mpx","application/x-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","application/x-troff-ms"],["mscml","application/mediaservercontrol+xml"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msl","application/vnd.mobius.msl"],["msty","application/vnd.muvee.style"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musicxml","application/vnd.recordare.musicxml+xml"],["mv","video/x-sgi-movie"],["mvb","application/x-msmediaview"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["my","audio/make"],["mzz","application/x-vnd.audioexplosion.mzz"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nap","image/naplps"],["naplps","image/naplps"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncm","application/vnd.nokia.configuration-message"],["ncx","application/x-dtbncx+xml"],["ngdat","application/vnd.nokia.n-gage.data"],["nif","image/x-niff"],["niff","image/x-niff"],["nix","application/x-mix-transfer"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nvd","application/x-navidoc"],["nws","message/rfc822"],["o","application/octet-stream"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omc","application/x-omc"],["omcd","application/x-omcdatamaker"],["omcr","application/x-omcregerator"],["onetoc","application/onenote"],["opf","application/oebps-package+xml"],["org","application/vnd.lotus-organizer"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","application/x-font-otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p10",["application/pkcs10","application/x-pkcs10"]],["p12",["application/pkcs-12","application/x-pkcs12"]],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c",["application/pkcs7-mime","application/x-pkcs7-mime"]],["p7m",["application/pkcs7-mime","application/x-pkcs7-mime"]],["p7r","application/x-pkcs7-certreqresp"],["p7s",["application/pkcs7-signature","application/x-pkcs7-signature"]],["p8","application/pkcs8"],["par","text/plain-bas"],["part","application/pro_eng"],["pas","text/pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcf","application/x-font-pcf"],["pcl",["application/vnd.hp-pcl","application/x-pcl"]],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb",["application/vnd.palm","chemical/x-pdb"]],["pdf","application/pdf"],["pfa","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfunk",["audio/make","audio/make.my.funk"]],["pfx","application/x-pkcs12"],["pgm",["image/x-portable-graymap","image/x-portable-greymap"]],["pgn","application/x-chess-pgn"],["pgp","application/pgp-signature"],["pic",["image/pict","image/x-pict"]],["pict","image/pict"],["pkg","application/x-newton-compatible-pkg"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pko",["application/ynd.ms-pkipko","application/vnd.ms-pki.pko"]],["pl",["text/plain","text/x-script.perl"]],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["plx","application/x-pixclscript"],["pm",["text/x-script.perl-module","image/x-xpixmap"]],["pm4","application/x-pagemaker"],["pm5","application/x-pagemaker"],["pma","application/x-perfmon"],["pmc","application/x-perfmon"],["pml",["application/vnd.ctc-posml","application/x-perfmon"]],["pmr","application/x-perfmon"],["pmw","application/x-perfmon"],["png","image/png"],["pnm",["application/x-portable-anymap","image/x-portable-anymap"]],["portpkg","application/vnd.macports.portpkg"],["pot",["application/vnd.ms-powerpoint","application/mspowerpoint"]],["potm","application/vnd.ms-powerpoint.template.macroenabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["pov","model/x-pov"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroenabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps",["application/vnd.ms-powerpoint","application/mspowerpoint"]],["ppsm","application/vnd.ms-powerpoint.slideshow.macroenabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt",["application/vnd.ms-powerpoint","application/mspowerpoint","application/powerpoint","application/x-mspowerpoint"]],["pptm","application/vnd.ms-powerpoint.presentation.macroenabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["ppz","application/mspowerpoint"],["prc","application/x-mobipocket-ebook"],["pre",["application/vnd.lotus-freelance","application/x-freelance"]],["prf","application/pics-rules"],["prt","application/pro_eng"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd",["application/octet-stream","image/vnd.adobe.photoshop"]],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pvu","paleovu/x-pv"],["pwn","application/vnd.3m.post-it-notes"],["pwz","application/vnd.ms-powerpoint"],["py","text/x-script.phyton"],["pya","audio/vnd.ms-playready.media.pya"],["pyc","application/x-bytecode.python"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qcp","audio/vnd.qcelp"],["qd3","x-world/x-3dmf"],["qd3d","x-world/x-3dmf"],["qfx","application/vnd.intu.qfx"],["qif","image/x-quicktime"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qtc","video/x-qtc"],["qti","image/x-quicktime"],["qtif","image/x-quicktime"],["qxd","application/vnd.quark.quarkxpress"],["ra",["audio/x-realaudio","audio/x-pn-realaudio","audio/x-pn-realaudio-plugin"]],["ram","audio/x-pn-realaudio"],["rar","application/x-rar-compressed"],["ras",["image/cmu-raster","application/x-cmu-raster","image/x-cmu-raster"]],["rast","image/cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rexx","text/x-script.rexx"],["rf","image/vnd.rn-realflash"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm",["application/vnd.rn-realmedia","audio/x-pn-realaudio"]],["rmi","audio/mid"],["rmm","audio/x-pn-realaudio"],["rmp",["audio/x-pn-realaudio-plugin","audio/x-pn-realaudio"]],["rms","application/vnd.jcp.javame.midlet-rms"],["rnc","application/relax-ng-compact-syntax"],["rng",["application/ringing-tones","application/vnd.nokia.ringing-tone"]],["rnx","application/vnd.rn-realplayer"],["roff","application/x-troff"],["rp","image/vnd.rn-realpix"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsd","application/rsd+xml"],["rt",["text/richtext","text/vnd.rn-realtext"]],["rtf",["application/rtf","text/richtext","application/x-rtf"]],["rtx",["text/richtext","application/rtf"]],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["saveme","application/octet-stream"],["sbk","application/x-tbook"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm",["application/vnd.lotus-screencam","video/x-scm","text/x-script.guile","application/x-lotusscreencam","text/x-script.scheme"]],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["sct","text/scriptlet"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkm","application/vnd.solent.sdkm+xml"],["sdml","text/plain"],["sdp",["application/sdp","application/x-sdp"]],["sdr","application/sounder"],["sdw","application/vnd.stardivision.writer"],["sea",["application/sea","application/x-sea"]],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["ser","application/java-serialized-object"],["set","application/set"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sgl","application/vnd.stardivision.writer-global"],["sgm",["text/sgml","text/x-sgml"]],["sgml",["text/sgml","text/x-sgml"]],["sh",["application/x-shar","application/x-bsh","application/x-sh","text/x-script.sh"]],["shar",["application/x-bsh","application/x-shar"]],["shf","application/shf+xml"],["shtml",["text/html","text/x-server-parsed-html"]],["sid","audio/x-psid"],["sis","application/vnd.symbian.install"],["sit",["application/x-stuffit","application/x-sit"]],["sitx","application/x-stuffitx"],["skd","application/x-koan"],["skm","application/x-koan"],["skp",["application/vnd.koan","application/x-koan"]],["skt","application/x-koan"],["sl","application/x-seelogo"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi",["application/smil","application/smil+xml"]],["smil","application/smil"],["snd",["audio/basic","audio/x-adpcm"]],["snf","application/x-font-snf"],["sol","application/solids"],["spc",["text/x-speech","application/x-pkcs7-certificates"]],["spf","application/vnd.yamaha.smaf-phrase"],["spl",["application/futuresplash","application/x-futuresplash"]],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spr","application/x-sprite"],["sprite","application/x-sprite"],["src","application/x-wais-source"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssi","text/x-server-parsed-html"],["ssm","application/streamingmedia"],["ssml","application/ssml+xml"],["sst",["application/vnd.ms-pkicertstore","application/vnd.ms-pki.certstore"]],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["step","application/step"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl",["application/vnd.ms-pkistl","application/sla","application/vnd.ms-pki.stl","application/x-navistyle"]],["stm","text/html"],["stp","application/step"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["sub","image/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svf",["image/vnd.dwg","image/x-dwg"]],["svg","image/svg+xml"],["svr",["x-world/x-svr","application/x-world"]],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t",["text/troff","application/x-troff"]],["talk","text/x-speech"],["tao","application/vnd.tao.intent-module-archive"],["tar","application/x-tar"],["tbk",["application/toolbook","application/x-tbook"]],["tcap","application/vnd.3gpp2.tcap"],["tcl",["text/x-script.tcl","application/x-tcl"]],["tcsh","text/x-script.tcsh"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text",["application/plain","text/plain"]],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tgz",["application/gnutar","application/x-compressed"]],["thmx","application/vnd.ms-officetheme"],["tif",["image/tiff","image/x-tiff"]],["tiff",["image/tiff","image/x-tiff"]],["tmo","application/vnd.tmobile-livetv"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","application/x-troff"],["tra","application/vnd.trueapp"],["trm","application/x-msterminal"],["tsd","application/timestamped-data"],["tsi","audio/tsp-audio"],["tsp",["application/dsptype","audio/tsplayer"]],["tsv","text/tab-separated-values"],["ttf","application/x-font-ttf"],["ttl","text/turtle"],["turbot","image/florian"],["twd","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["ufd","application/vnd.ufdl"],["uil","text/x-uil"],["uls","text/iuls"],["umj","application/vnd.umajin"],["uni","text/uri-list"],["unis","text/uri-list"],["unityweb","application/vnd.unity"],["unv","application/i-deas"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["ustar",["application/x-ustar","multipart/x-ustar"]],["utz","application/vnd.uiq.theme"],["uu",["application/octet-stream","text/x-uuencode"]],["uue","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vda","application/vda"],["vdo","video/vdo"],["vew","application/groupwise"],["vis","application/vnd.visionary"],["viv",["video/vivo","video/vnd.vivo"]],["vivo",["video/vivo","video/vnd.vivo"]],["vmd","application/vocaltec-media-desc"],["vmf","application/vocaltec-media-file"],["voc",["audio/voc","audio/x-voc"]],["vos","video/vosaic"],["vox","audio/voxware"],["vqe","audio/x-twinvq-plugin"],["vqf","audio/x-twinvq"],["vql","audio/x-twinvq-plugin"],["vrml",["model/vrml","x-world/x-vrml","application/x-vrml"]],["vrt","x-world/x-vrt"],["vsd",["application/vnd.visio","application/x-visio"]],["vsf","application/vnd.vsf"],["vst","application/x-visio"],["vsw","application/x-visio"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w60","application/wordperfect6.0"],["w61","application/wordperfect6.1"],["w6w","application/msword"],["wad","application/x-doom"],["wav",["audio/wav","audio/x-wav"]],["wax","audio/x-ms-wax"],["wb1","application/x-qpro"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/vnd.wap.wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["web","application/vnd.xara"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wiz","application/msword"],["wk1","application/x-123"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf",["windows/metafile","application/x-msmetafile"]],["wml","text/vnd.wap.wml"],["wmlc","application/vnd.wap.wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-ms-wmz"],["woff","application/x-font-woff"],["word","application/msword"],["wp","application/wordperfect"],["wp5",["application/wordperfect","application/wordperfect6.0"]],["wp6","application/wordperfect"],["wpd",["application/wordperfect","application/vnd.wordperfect","application/x-wpwin"]],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wq1","application/x-lotus"],["wqd","application/vnd.wqd"],["wri",["application/mswrite","application/x-wri","application/x-mswrite"]],["wrl",["model/vrml","x-world/x-vrml","application/x-world"]],["wrz",["model/vrml","x-world/x-vrml"]],["wsc","text/scriplet"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wsrc","application/x-wais-source"],["wtb","application/vnd.webturbo"],["wtk","application/x-wintalk"],["wvx","video/x-ms-wvx"],["x-png","image/png"],["x3d","application/vnd.hzn-3d-crossword"],["xaf","x-world/x-vrml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm",["image/xbm","image/x-xbm","image/x-xbitmap"]],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdr","video/x-amt-demorun"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xgz","xgl/drawing"],["xhtml","application/xhtml+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla",["application/vnd.ms-excel","application/excel","application/x-msexcel","application/x-excel"]],["xlam","application/vnd.ms-excel.addin.macroenabled.12"],["xlb",["application/excel","application/vnd.ms-excel","application/x-excel"]],["xlc",["application/vnd.ms-excel","application/excel","application/x-excel"]],["xld",["application/excel","application/x-excel"]],["xlk",["application/excel","application/x-excel"]],["xll",["application/excel","application/vnd.ms-excel","application/x-excel"]],["xlm",["application/vnd.ms-excel","application/excel","application/x-excel"]],["xls",["application/vnd.ms-excel","application/excel","application/x-msexcel","application/x-excel"]],["xlsb","application/vnd.ms-excel.sheet.binary.macroenabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroenabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt",["application/vnd.ms-excel","application/excel","application/x-excel"]],["xltm","application/vnd.ms-excel.template.macroenabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlv",["application/excel","application/x-excel"]],["xlw",["application/vnd.ms-excel","application/excel","application/x-msexcel","application/x-excel"]],["xm","audio/xm"],["xml",["application/xml","text/xml","application/atom+xml","application/rss+xml"]],["xmz","xgl/movie"],["xo","application/vnd.olpc-sugar"],["xof","x-world/x-vrml"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpix","application/x-vnd.ls-xpix"],["xpm",["image/xpm","image/x-xpixmap"]],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xsr","video/x-amt-showrun"],["xul","application/vnd.mozilla.xul+xml"],["xwd",["image/x-xwd","image/x-xwindowdump"]],["xyz",["chemical/x-xyz","chemical/x-pdb"]],["yang","application/yang"],["yin","application/yin+xml"],["z",["application/x-compressed","application/x-compress"]],["zaz","application/vnd.zzazz.deck+xml"],["zip",["application/zip","multipart/x-zip","application/x-zip-compressed","application/x-compressed"]],["zir","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zoo","application/octet-stream"],["zsh","text/x-script.zsh"]]);Y6.exports={detectMimeType(t){if(!t)return z6;let e=CPe.parse(t),r=(e.ext.substr(1)||e.name||"").split("?").shift().trim().toLowerCase(),i=z6;return V6.has(r)&&(i=V6.get(r)),Array.isArray(i)?i[0]:i},detectExtension(t){if(!t)return DPe;let e=(t||"").toLowerCase().trim().split("/"),r=e.shift().trim(),i=e.join("/").trim();if(W6.has(r+"/"+i)){let n=W6.get(r+"/"+i);return Array.isArray(n)?n[0]:n}switch(r){case"text":return"txt";default:return"bin"}}}});var ww=l((Wdt,rH)=>{"use strict";var Z6="-",RPe=/^xn--/,kPe=/[^\0-\x7F]/,LPe=/[\x2E\u3002\uFF0E\uFF61]/g,KPe={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},gw=35,ii=Math.floor,xw=String.fromCharCode;function tn(t){throw new RangeError(KPe[t])}function FPe(t,e){let r=[],i=t.length;for(;i--;)r[i]=e(t[i]);return r}function $6(t,e){let r=t.split("@"),i="";r.length>1&&(i=r[0]+"@",t=r[1]),t=t.replace(LPe,".");let n=t.split("."),a=FPe(n,e).join(".");return i+a}function Q6(t){let e=[],r=0,i=t.length;for(;r<i;){let n=t.charCodeAt(r++);if(n>=55296&&n<=56319&&r<i){let a=t.charCodeAt(r++);(a&64512)==56320?e.push(((n&1023)<<10)+(a&1023)+65536):(e.push(n),r--)}else e.push(n)}return e}var BPe=t=>String.fromCodePoint(...t),HPe=function(t){return t>=48&&t<58?26+(t-48):t>=65&&t<91?t-65:t>=97&&t<123?t-97:36},X6=function(t,e){return t+22+75*(t<26)-((e!=0)<<5)},J6=function(t,e,r){let i=0;for(t=r?ii(t/700):t>>1,t+=ii(t/e);t>gw*26>>1;i+=36)t=ii(t/gw);return ii(i+(gw+1)*t/(t+38))},eH=function(t){let e=[],r=t.length,i=0,n=128,a=72,o=t.lastIndexOf(Z6);o<0&&(o=0);for(let u=0;u<o;++u)t.charCodeAt(u)>=128&&tn("not-basic"),e.push(t.charCodeAt(u));for(let u=o>0?o+1:0;u<r;){let p=i;for(let b=1,A=36;;A+=36){u>=r&&tn("invalid-input");let S=HPe(t.charCodeAt(u++));S>=36&&tn("invalid-input"),S>ii((2147483647-i)/b)&&tn("overflow"),i+=S*b;let C=A<=a?1:A>=a+26?26:A-a;if(S<C)break;let N=36-C;b>ii(2147483647/N)&&tn("overflow"),b*=N}let _=e.length+1;a=J6(i-p,_,p==0),ii(i/_)>2147483647-n&&tn("overflow"),n+=ii(i/_),i%=_,e.splice(i++,0,n)}return String.fromCodePoint(...e)},tH=function(t){let e=[];t=Q6(t);let r=t.length,i=128,n=0,a=72;for(let p of t)p<128&&e.push(xw(p));let o=e.length,u=o;for(o&&e.push(Z6);u<r;){let p=2147483647;for(let b of t)b>=i&&b<p&&(p=b);let _=u+1;p-i>ii((2147483647-n)/_)&&tn("overflow"),n+=(p-i)*_,i=p;for(let b of t)if(b<i&&++n>2147483647&&tn("overflow"),b===i){let A=n;for(let S=36;;S+=36){let C=S<=a?1:S>=a+26?26:S-a;if(A<C)break;let N=A-C,L=36-C;e.push(xw(X6(C+N%L,0))),A=ii(N/L)}e.push(xw(X6(A,0))),a=J6(n,_,u===o),n=0,++u}++n,++i}return e.join("")},UPe=function(t){return $6(t,function(e){return RPe.test(e)?eH(e.slice(4).toLowerCase()):e})},GPe=function(t){return $6(t,function(e){return kPe.test(e)?"xn--"+tH(e):e})},jPe={version:"2.3.1",ucs2:{decode:Q6,encode:BPe},decode:eH,encode:tH,toASCII:GPe,toUnicode:UPe};rH.exports=jPe});var Aw=l((Vdt,iH)=>{"use strict";var zPe=require("stream").Transform;function qw(t){return typeof t=="string"&&(t=Buffer.from(t,"utf-8")),t.toString("base64")}function bw(t,e){if(t=(t||"").toString(),e=e||76,t.length<=e)return t;let r=[],i=0,n=e*1024;for(;i<t.length;){let a=t.substr(i,n).replace(new RegExp(".{"+e+"}","g"),`$&\r
`).trim();r.push(a),i+=n}return r.join(`\r
`).trim()}var Ew=class extends zPe{constructor(e){super(),this.options=e||{},this.options.lineLength!==!1&&(this.options.lineLength=this.options.lineLength||76),this._curLine="",this._remainingBytes=!1,this.inputBytes=0,this.outputBytes=0}_transform(e,r,i){if(r!=="buffer"&&(e=Buffer.from(e,r)),!e||!e.length)return setImmediate(i);this.inputBytes+=e.length,this._remainingBytes&&this._remainingBytes.length&&(e=Buffer.concat([this._remainingBytes,e],this._remainingBytes.length+e.length),this._remainingBytes=!1),e.length%3?(this._remainingBytes=e.slice(e.length-e.length%3),e=e.slice(0,e.length-e.length%3)):this._remainingBytes=!1;let n=this._curLine+qw(e);if(this.options.lineLength){n=bw(n,this.options.lineLength);let a=n.lastIndexOf(`
`);a<0?(this._curLine=n,n=""):a===n.length-1?this._curLine="":(this._curLine=n.substr(a+1),n=n.substr(0,a+1))}n&&(this.outputBytes+=n.length,this.push(Buffer.from(n,"ascii"))),setImmediate(i)}_flush(e){this._remainingBytes&&this._remainingBytes.length&&(this._curLine+=qw(this._remainingBytes)),this._curLine&&(this._curLine=bw(this._curLine,this.options.lineLength),this.outputBytes+=this._curLine.length,this.push(this._curLine,"ascii"),this._curLine=""),e()}};iH.exports={encode:qw,wrap:bw,Encoder:Ew}});var Iw=l((Ydt,aH)=>{"use strict";var WPe=require("stream").Transform;function Mw(t){typeof t=="string"&&(t=Buffer.from(t,"utf-8"));let e=[[9],[10],[13],[32,60],[62,126]],r="",i;for(let n=0,a=t.length;n<a;n++){if(i=t[n],VPe(i,e)&&!((i===32||i===9)&&(n===a-1||t[n+1]===10||t[n+1]===13))){r+=String.fromCharCode(i);continue}r+="="+(i<16?"0":"")+i.toString(16).toUpperCase()}return r}function nH(t,e){if(t=(t||"").toString(),e=e||76,t.length<=e)return t;let r=0,i=t.length,n,a,o,u=Math.floor(e/3),p="";for(;r<i;){if(o=t.substr(r,e),n=o.match(/\r\n/)){o=o.substr(0,n.index+n[0].length),p+=o,r+=o.length;continue}if(o.substr(-1)===`
`){p+=o,r+=o.length;continue}else if(n=o.substr(-u).match(/\n.*?$/)){o=o.substr(0,o.length-(n[0].length-1)),p+=o,r+=o.length;continue}else if(o.length>e-u&&(n=o.substr(-u).match(/[ \t.,!?][^ \t.,!?]*$/)))o=o.substr(0,o.length-(n[0].length-1));else if(o.match(/[=][\da-f]{0,2}$/i))for((n=o.match(/[=][\da-f]{0,1}$/i))&&(o=o.substr(0,o.length-n[0].length));o.length>3&&o.length<i-r&&!o.match(/^(?:=[\da-f]{2}){1,4}$/i)&&(n=o.match(/[=][\da-f]{2}$/gi))&&(a=parseInt(n[0].substr(1,2),16),!(a<128||(o=o.substr(0,o.length-3),a>=192))););r+o.length<i&&o.substr(-1)!==`
`?(o.length===e&&o.match(/[=][\da-f]{2}$/i)?o=o.substr(0,o.length-3):o.length===e&&(o=o.substr(0,o.length-1)),r+=o.length,o+=`=\r
`):r+=o.length,p+=o}return p}function VPe(t,e){for(let r=e.length-1;r>=0;r--)if(e[r].length&&(e[r].length===1&&t===e[r][0]||e[r].length===2&&t>=e[r][0]&&t<=e[r][1]))return!0;return!1}var Sw=class extends WPe{constructor(e){super(),this.options=e||{},this.options.lineLength!==!1&&(this.options.lineLength=this.options.lineLength||76),this._curLine="",this.inputBytes=0,this.outputBytes=0}_transform(e,r,i){let n;if(r!=="buffer"&&(e=Buffer.from(e,r)),!e||!e.length)return i();this.inputBytes+=e.length,this.options.lineLength?(n=this._curLine+Mw(e),n=nH(n,this.options.lineLength),n=n.replace(/(^|\n)([^\n]*)$/,(a,o,u)=>(this._curLine=u,o)),n&&(this.outputBytes+=n.length,this.push(n))):(n=Mw(e),this.outputBytes+=n.length,this.push(n,"ascii")),i()}_flush(e){this._curLine&&(this.outputBytes+=this._curLine.length,this.push(this._curLine,"ascii")),e()}};aH.exports={encode:Mw,wrap:nH,Encoder:Sw}});var Ou=l((Xdt,sH)=>{"use strict";var Iu=Aw(),YPe=Iw(),oH=_w();sH.exports={isPlainText(t,e){return!(typeof t!="string"||(e?/[\x00-\x08\x0b\x0c\x0e-\x1f"\u0080-\uFFFF]/:/[\x00-\x08\x0b\x0c\x0e-\x1f\u0080-\uFFFF]/).test(t))},hasLongerLines(t,e){return t.length>128*1024?!0:new RegExp("^.{"+(e+1)+",}","m").test(t)},encodeWord(t,e,r){e=(e||"Q").toString().toUpperCase().trim().charAt(0),r=r||0;let i,n="UTF-8";if(r&&r>7+n.length&&(r-=7+n.length),e==="Q"?i=YPe.encode(t).replace(/[^a-z0-9!*+\-/=]/gi,a=>{let o=a.charCodeAt(0).toString(16).toUpperCase();return a===" "?"_":"="+(o.length===1?"0"+o:o)}):e==="B"&&(i=typeof t=="string"?t:Iu.encode(t),r=r?Math.max(3,(r-r%4)/4*3):0),r&&(e!=="B"?i:Iu.encode(t)).length>r)if(e==="Q")i=this.splitMimeEncodedString(i,r).join("?= =?"+n+"?"+e+"?");else{let a=[],o="";for(let u=0,p=i.length;u<p;u++){let _=i.charAt(u);/[\ud83c\ud83d\ud83e]/.test(_)&&u<p-1&&(_+=i.charAt(++u)),Buffer.byteLength(o+_)<=r||u===0?o+=_:(a.push(Iu.encode(o)),o=_)}o&&a.push(Iu.encode(o)),a.length>1?i=a.join("?= =?"+n+"?"+e+"?"):i=a.join("")}else e==="B"&&(i=Iu.encode(t));return"=?"+n+"?"+e+"?"+i+(i.substr(-2)==="?="?"":"?=")},encodeWords(t,e,r,i){r=r||0;let n,a=t.match(/(?:^|\s)([^\s]*["\u0080-\uFFFF])/);if(!a)return t;if(i)return this.encodeWord(t,e,r);let o=t.match(/(["\u0080-\uFFFF][^\s]*)[^"\u0080-\uFFFF]*$/);if(!o)return t;let u=a.index+(a[0].match(/[^\s]/)||{index:0}).index,p=o.index+(o[1]||"").length;return n=(u?t.substr(0,u):"")+this.encodeWord(t.substring(u,p),e||"Q",r)+(p<t.length?t.substr(p):""),n},buildHeaderValue(t){let e=[];return Object.keys(t.params||{}).forEach(r=>{let i=t.params[r];!this.isPlainText(i,!0)||i.length>=75?this.buildHeaderParam(r,i,50).forEach(n=>{!/[\s"\\;:/=(),<>@[\]?]|^[-']|'$/.test(n.value)||n.key.substr(-1)==="*"?e.push(n.key+"="+n.value):e.push(n.key+"="+JSON.stringify(n.value))}):/[\s'"\\;:/=(),<>@[\]?]|^-/.test(i)?e.push(r+"="+JSON.stringify(i)):e.push(r+"="+i)}),t.value+(e.length?"; "+e.join("; "):"")},buildHeaderParam(t,e,r){let i=[],n=typeof e=="string"?e:(e||"").toString(),a,o,u,p,_=0,b,A;if(r=r||50,this.isPlainText(e,!0)){if(n.length<=r)return[{key:t,value:n}];n=n.replace(new RegExp(".{"+r+"}","g"),S=>(i.push({line:S}),"")),n&&i.push({line:n})}else{if(/[\uD800-\uDBFF]/.test(n)){for(a=[],b=0,A=n.length;b<A;b++)o=n.charAt(b),u=o.charCodeAt(0),u>=55296&&u<=56319&&b<A-1?(o+=n.charAt(b+1),a.push(o),b++):a.push(o);n=a}p="utf-8''";let S=!0;for(_=0,b=0,A=n.length;b<A;b++){if(o=n[b],S)o=this.safeEncodeURIComponent(o);else if(o=o===" "?o:this.safeEncodeURIComponent(o),o!==n[b])if((this.safeEncodeURIComponent(p)+o).length>=r)i.push({line:p,encoded:S}),p="",_=b-1;else{S=!0,b=_,p="";continue}(p+o).length>=r?(i.push({line:p,encoded:S}),p=o=n[b]===" "?" ":this.safeEncodeURIComponent(n[b]),o===n[b]?(S=!1,_=b-1):S=!0):p+=o}p&&i.push({line:p,encoded:S})}return i.map((S,C)=>({key:t+"*"+C+(S.encoded?"*":""),value:S.line}))},parseHeaderValue(t){let e={value:!1,params:{}},r=!1,i="",n="value",a=!1,o=!1,u;for(let p=0,_=t.length;p<_;p++)if(u=t.charAt(p),n==="key"){if(u==="="){r=i.trim().toLowerCase(),n="value",i="";continue}i+=u}else{if(o)i+=u;else if(u==="\\"){o=!0;continue}else a&&u===a?a=!1:!a&&u==='"'?a=u:!a&&u===";"?(r===!1?e.value=i.trim():e.params[r]=i.trim(),n="key",i=""):i+=u;o=!1}return n==="value"?r===!1?e.value=i.trim():e.params[r]=i.trim():i.trim()&&(e.params[i.trim().toLowerCase()]=""),Object.keys(e.params).forEach(p=>{let _,b,A,S;(A=p.match(/(\*(\d+)|\*(\d+)\*|\*)$/))&&(_=p.substr(0,A.index),b=Number(A[2]||A[3])||0,(!e.params[_]||typeof e.params[_]!="object")&&(e.params[_]={charset:!1,values:[]}),S=e.params[p],b===0&&A[0].substr(-1)==="*"&&(A=S.match(/^([^']*)'[^']*'(.*)$/))&&(e.params[_].charset=A[1]||"iso-8859-1",S=A[2]),e.params[_].values[b]=S,delete e.params[p])}),Object.keys(e.params).forEach(p=>{let _;e.params[p]&&Array.isArray(e.params[p].values)&&(_=e.params[p].values.map(b=>b||"").join(""),e.params[p].charset?e.params[p]="=?"+e.params[p].charset+"?Q?"+_.replace(/[=?_\s]/g,b=>{let A=b.charCodeAt(0).toString(16);return b===" "?"_":"%"+(A.length<2?"0":"")+A}).replace(/%/g,"=")+"?=":e.params[p]=_)}),e},detectExtension:t=>oH.detectExtension(t),detectMimeType:t=>oH.detectMimeType(t),foldLines(t,e,r){t=(t||"").toString(),e=e||76;let i=0,n=t.length,a="",o,u;for(;i<n;){if(o=t.substr(i,e),o.length<e){a+=o;break}if(u=o.match(/^[^\n\r]*(\r?\n|\r)/)){o=u[0],a+=o,i+=o.length;continue}else(u=o.match(/(\s+)[^\s]*$/))&&u[0].length-(r?(u[1]||"").length:0)<o.length?o=o.substr(0,o.length-(u[0].length-(r?(u[1]||"").length:0))):(u=t.substr(i+o.length).match(/^[^\s]+(\s*)/))&&(o=o+u[0].substr(0,u[0].length-(r?0:(u[1]||"").length)));a+=o,i+=o.length,i<n&&(a+=`\r
`)}return a},splitMimeEncodedString:(t,e)=>{let r,i,n,a,o=[];for(e=Math.max(e||0,12);t.length;){for(r=t.substr(0,e),(i=r.match(/[=][0-9A-F]?$/i))&&(r=r.substr(0,i.index)),a=!1;!a;)a=!0,(i=t.substr(r.length).match(/^[=]([0-9A-F]{2})/i))&&(n=parseInt(i[1],16),n<194&&n>127&&(r=r.substr(0,r.length-3),a=!1));r.length&&o.push(r),t=t.substr(r.length)}return o},encodeURICharComponent:t=>{let e="",r=t.charCodeAt(0).toString(16).toUpperCase();if(r.length%2&&(r="0"+r),r.length>2)for(let i=0,n=r.length/2;i<n;i++)e+="%"+r.substr(i,2);else e+="%"+r;return e},safeEncodeURIComponent(t){t=(t||"").toString();try{t=encodeURIComponent(t)}catch{return t.replace(/[^\x00-\x1F *'()<>@,;:\\"[\]?=\u007F-\uFFFF]+/g,"")}return t.replace(/[\x00-\x1F *'()<>@,;:\\"[\]?=\u007F-\uFFFF]/g,e=>this.encodeURICharComponent(e))}}});var cH=l((Zdt,lH)=>{"use strict";function XPe(t){let e,r=!1,i="text",n,a=[],o={address:[],comment:[],group:[],text:[]},u,p;for(u=0,p=t.length;u<p;u++)if(e=t[u],e.type==="operator")switch(e.value){case"<":i="address";break;case"(":i="comment";break;case":":i="group",r=!0;break;default:i="text"}else e.value&&(i==="address"&&(e.value=e.value.replace(/^[^<]*<\s*/,"")),o[i].push(e.value));if(!o.text.length&&o.comment.length&&(o.text=o.comment,o.comment=[]),r)o.text=o.text.join(" "),a.push({name:o.text||n&&n.name,group:o.group.length?uH(o.group.join(",")):[]});else{if(!o.address.length&&o.text.length){for(u=o.text.length-1;u>=0;u--)if(o.text[u].match(/^[^@\s]+@[^@\s]+$/)){o.address=o.text.splice(u,1);break}let _=function(b){return o.address.length?b:(o.address=[b.trim()]," ")};if(!o.address.length)for(u=o.text.length-1;u>=0&&(o.text[u]=o.text[u].replace(/\s*\b[^@\s]+@[^\s]+\b\s*/,_).trim(),!o.address.length);u--);}if(!o.text.length&&o.comment.length&&(o.text=o.comment,o.comment=[]),o.address.length>1&&(o.text=o.text.concat(o.address.splice(1))),o.text=o.text.join(" "),o.address=o.address.join(" "),!o.address&&r)return[];n={address:o.address||o.text||"",name:o.text||o.address||""},n.address===n.name&&((n.address||"").match(/@/)?n.name="":n.address=""),a.push(n)}return a}var Ow=class{constructor(e){this.str=(e||"").toString(),this.operatorCurrent="",this.operatorExpecting="",this.node=null,this.escaped=!1,this.list=[],this.operators={'"':'"',"(":")","<":">",",":"",":":";",";":""}}tokenize(){let e,r=[];for(let i=0,n=this.str.length;i<n;i++)e=this.str.charAt(i),this.checkChar(e);return this.list.forEach(i=>{i.value=(i.value||"").toString().trim(),i.value&&r.push(i)}),r}checkChar(e){if(!this.escaped){if(e===this.operatorExpecting){this.node={type:"operator",value:e},this.list.push(this.node),this.node=null,this.operatorExpecting="",this.escaped=!1;return}else if(!this.operatorExpecting&&e in this.operators){this.node={type:"operator",value:e},this.list.push(this.node),this.node=null,this.operatorExpecting=this.operators[e],this.escaped=!1;return}else if(['"',"'"].includes(this.operatorExpecting)&&e==="\\"){this.escaped=!0;return}}this.node||(this.node={type:"text",value:""},this.list.push(this.node)),e===`
`&&(e=" "),(e.charCodeAt(0)>=33||[" ","	"].includes(e))&&(this.node.value+=e),this.escaped=!1}};function uH(t,e){e=e||{};let i=new Ow(t).tokenize(),n=[],a=[],o=[];if(i.forEach(u=>{u.type==="operator"&&(u.value===","||u.value===";")?(a.length&&n.push(a),a=[]):a.push(u)}),a.length&&n.push(a),n.forEach(u=>{u=XPe(u),u.length&&(o=o.concat(u))}),e.flatten){let u=[],p=_=>{_.forEach(b=>{if(b.group)return p(b.group);u.push(b)})};return p(o),u}return o}lH.exports=uH});var pH=l(($dt,fH)=>{"use strict";var ZPe=require("stream").Transform,Pw=class extends ZPe{constructor(){super(),this.lastByte=!1}_transform(e,r,i){e.length&&(this.lastByte=e[e.length-1]),this.push(e),i()}_flush(e){return this.lastByte===10?e():this.lastByte===13?(this.push(Buffer.from(`
`)),e()):(this.push(Buffer.from(`\r
`)),e())}};fH.exports=Pw});var Nw=l((Qdt,dH)=>{"use strict";var $Pe=require("stream"),QPe=$Pe.Transform,Tw=class extends QPe{constructor(e){super(e),this.options=e||{},this.lastByte=!1}_transform(e,r,i){let n,a=0;for(let o=0,u=e.length;o<u;o++)e[o]===10&&(o&&e[o-1]!==13||!o&&this.lastByte!==13)&&(o>a&&(n=e.slice(a,o),this.push(n)),this.push(Buffer.from(`\r
`)),a=o+1);a&&a<e.length?(n=e.slice(a),this.push(n)):a||this.push(e),this.lastByte=e[e.length-1],i()}};dH.exports=Tw});var mH=l((Jdt,hH)=>{"use strict";var JPe=require("stream"),eTe=JPe.Transform,Cw=class extends eTe{constructor(e){super(e),this.options=e||{}}_transform(e,r,i){let n,a=0;for(let o=0,u=e.length;o<u;o++)e[o]===13&&(n=e.slice(a,o),a=o+1,this.push(n));a&&a<e.length?(n=e.slice(a),this.push(n)):a||this.push(e),i()}};hH.exports=Cw});var kw=l((eht,vH)=>{"use strict";var Dw=require("crypto"),tTe=require("fs"),rTe=ww(),Pu=require("stream").PassThrough,iTe=Ht(),Rr=Ou(),nTe=Iw(),aTe=Aw(),oTe=cH(),sTe=Mu(),uTe=pH(),lTe=Nw(),cTe=mH(),Rw=class t{constructor(e,r){this.nodeCounter=0,r=r||{},this.baseBoundary=r.baseBoundary||Dw.randomBytes(8).toString("hex"),this.boundaryPrefix=r.boundaryPrefix||"--_NmP",this.disableFileAccess=!!r.disableFileAccess,this.disableUrlAccess=!!r.disableUrlAccess,this.normalizeHeaderKey=r.normalizeHeaderKey,this.date=new Date,this.rootNode=r.rootNode||this,this.keepBcc=!!r.keepBcc,r.filename&&(this.filename=r.filename,e||(e=Rr.detectMimeType(this.filename.split(".").pop()))),this.textEncoding=(r.textEncoding||"").toString().trim().charAt(0).toUpperCase(),this.parentNode=r.parentNode,this.hostname=r.hostname,this.newline=r.newline,this.childNodes=[],this._nodeId=++this.rootNode.nodeCounter,this._headers=[],this._isPlainText=!1,this._hasLongLines=!1,this._envelope=!1,this._raw=!1,this._transforms=[],this._processFuncs=[],e&&this.setHeader("Content-Type",e)}createChild(e,r){!r&&typeof e=="object"&&(r=e,e=void 0);let i=new t(e,r);return this.appendChild(i),i}appendChild(e){return e.rootNode!==this.rootNode&&(e.rootNode=this.rootNode,e._nodeId=++this.rootNode.nodeCounter),e.parentNode=this,this.childNodes.push(e),e}replace(e){return e===this?this:(this.parentNode.childNodes.forEach((r,i)=>{r===this&&(e.rootNode=this.rootNode,e.parentNode=this.parentNode,e._nodeId=this._nodeId,this.rootNode=this,this.parentNode=void 0,e.parentNode.childNodes[i]=e)}),e)}remove(){if(!this.parentNode)return this;for(let e=this.parentNode.childNodes.length-1;e>=0;e--)if(this.parentNode.childNodes[e]===this)return this.parentNode.childNodes.splice(e,1),this.parentNode=void 0,this.rootNode=this,this}setHeader(e,r){let i=!1,n;if(!r&&e&&typeof e=="object")return e.key&&"value"in e?this.setHeader(e.key,e.value):Array.isArray(e)?e.forEach(a=>{this.setHeader(a.key,a.value)}):Object.keys(e).forEach(a=>{this.setHeader(a,e[a])}),this;e=this._normalizeHeaderKey(e),n={key:e,value:r};for(let a=0,o=this._headers.length;a<o;a++)this._headers[a].key===e&&(i?(this._headers.splice(a,1),a--,o--):(this._headers[a]=n,i=!0));return i||this._headers.push(n),this}addHeader(e,r){return!r&&e&&typeof e=="object"?(e.key&&e.value?this.addHeader(e.key,e.value):Array.isArray(e)?e.forEach(i=>{this.addHeader(i.key,i.value)}):Object.keys(e).forEach(i=>{this.addHeader(i,e[i])}),this):Array.isArray(r)?(r.forEach(i=>{this.addHeader(e,i)}),this):(this._headers.push({key:this._normalizeHeaderKey(e),value:r}),this)}getHeader(e){e=this._normalizeHeaderKey(e);for(let r=0,i=this._headers.length;r<i;r++)if(this._headers[r].key===e)return this._headers[r].value}setContent(e){return this.content=e,typeof this.content.pipe=="function"?(this._contentErrorHandler=r=>{this.content.removeListener("error",this._contentErrorHandler),this.content=r},this.content.once("error",this._contentErrorHandler)):typeof this.content=="string"&&(this._isPlainText=Rr.isPlainText(this.content),this._isPlainText&&Rr.hasLongerLines(this.content,76)&&(this._hasLongLines=!0)),this}build(e){let r;e||(r=new Promise((u,p)=>{e=iTe.callbackPromise(u,p)}));let i=this.createReadStream(),n=[],a=0,o=!1;return i.on("readable",()=>{let u;for(;(u=i.read())!==null;)n.push(u),a+=u.length}),i.once("error",u=>{if(!o)return o=!0,e(u)}),i.once("end",u=>{if(!o)return o=!0,u&&u.length&&(n.push(u),a+=u.length),e(null,Buffer.concat(n,a))}),r}getTransferEncoding(){let e=!1,r=(this.getHeader("Content-Type")||"").toString().toLowerCase().trim();return this.content&&(e=(this.getHeader("Content-Transfer-Encoding")||"").toString().toLowerCase().trim(),(!e||!["base64","quoted-printable"].includes(e))&&(/^text\//i.test(r)?this._isPlainText&&!this._hasLongLines?e="7bit":typeof this.content=="string"||this.content instanceof Buffer?e=this._getTextEncoding(this.content)==="Q"?"quoted-printable":"base64":e=this.textEncoding==="B"?"base64":"quoted-printable":/^(multipart|message)\//i.test(r)||(e=e||"base64"))),e}buildHeaders(){let e=this.getTransferEncoding(),r=[];return e&&this.setHeader("Content-Transfer-Encoding",e),this.filename&&!this.getHeader("Content-Disposition")&&this.setHeader("Content-Disposition","attachment"),this.rootNode===this&&(this.getHeader("Date")||this.setHeader("Date",this.date.toUTCString().replace(/GMT/,"+0000")),this.messageId(),this.getHeader("MIME-Version")||this.setHeader("MIME-Version","1.0")),this._headers.forEach(i=>{let n=i.key,a=i.value,o,u,p={};if(!(a&&typeof a=="object"&&!["From","Sender","To","Cc","Bcc","Reply-To","Date","References"].includes(n)&&(Object.keys(a).forEach(b=>{b!=="value"&&(p[b]=a[b])}),a=(a.value||"").toString(),!a.trim()))){if(p.prepared){p.foldLines?r.push(Rr.foldLines(n+": "+a)):r.push(n+": "+a);return}switch(i.key){case"Content-Disposition":o=Rr.parseHeaderValue(a),this.filename&&(o.params.filename=this.filename),a=Rr.buildHeaderValue(o);break;case"Content-Type":o=Rr.parseHeaderValue(a),this._handleContentType(o),o.value.match(/^text\/plain\b/)&&typeof this.content=="string"&&/[\u0080-\uFFFF]/.test(this.content)&&(o.params.charset="utf-8"),a=Rr.buildHeaderValue(o),this.filename&&(u=this._encodeWords(this.filename),(u!==this.filename||/[\s'"\\;:/=(),<>@[\]?]|^-/.test(u))&&(u='"'+u+'"'),a+="; name="+u);break;case"Bcc":if(!this.keepBcc)return;break}if(a=this._encodeHeaderValue(n,a),!!(a||"").toString().trim()){if(typeof this.normalizeHeaderKey=="function"){let b=this.normalizeHeaderKey(n,a);b&&typeof b=="string"&&b.length&&(n=b)}r.push(Rr.foldLines(n+": "+a,76))}}}),r.join(`\r
`)}createReadStream(e){e=e||{};let r=new Pu(e),i=r,n;this.stream(r,e,a=>{if(a){i.emit("error",a);return}r.end()});for(let a=0,o=this._transforms.length;a<o;a++)n=typeof this._transforms[a]=="function"?this._transforms[a]():this._transforms[a],i.once("error",u=>{n.emit("error",u)}),i=i.pipe(n);n=new uTe,i.once("error",a=>{n.emit("error",a)}),i=i.pipe(n);for(let a=0,o=this._processFuncs.length;a<o;a++)n=this._processFuncs[a],i=n(i);if(this.newline){let o=["win","windows","dos",`\r
`].includes(this.newline.toString().toLowerCase())?new lTe:new cTe,u=i.pipe(o);return i.on("error",p=>u.emit("error",p)),u}return i}transform(e){this._transforms.push(e)}processFunc(e){this._processFuncs.push(e)}stream(e,r,i){let n=this.getTransferEncoding(),a,o,u=!1,p=A=>{u||(u=!0,i(A))},_=()=>{let A=0,S=()=>{if(A>=this.childNodes.length)return e.write(`\r
--`+this.boundary+`--\r
`),p();let C=this.childNodes[A++];e.write((A>1?`\r
`:"")+"--"+this.boundary+`\r
`),C.stream(e,r,N=>{if(N)return p(N);setImmediate(S)})};if(this.multipart)setImmediate(S);else return p()},b=()=>{if(this.content){if(Object.prototype.toString.call(this.content)==="[object Error]")return p(this.content);typeof this.content.pipe=="function"&&(this.content.removeListener("error",this._contentErrorHandler),this._contentErrorHandler=S=>p(S),this.content.once("error",this._contentErrorHandler));let A=()=>{["quoted-printable","base64"].includes(n)?(a=new(n==="base64"?aTe:nTe).Encoder(r),a.pipe(e,{end:!1}),a.once("end",_),a.once("error",S=>p(S)),o=this._getStream(this.content),o.pipe(a)):(o=this._getStream(this.content),o.pipe(e,{end:!1}),o.once("end",_)),o.once("error",S=>p(S))};if(this.content._resolve){let S=[],C=0,N=!1,L=this._getStream(this.content);L.on("error",B=>{N||(N=!0,p(B))}),L.on("readable",()=>{let B;for(;(B=L.read())!==null;)S.push(B),C+=B.length}),L.on("end",()=>{N||(N=!0,this.content._resolve=!1,this.content._resolvedValue=Buffer.concat(S,C),setImmediate(A))})}else setImmediate(A);return}else return setImmediate(_)};this._raw?setImmediate(()=>{if(Object.prototype.toString.call(this._raw)==="[object Error]")return p(this._raw);typeof this._raw.pipe=="function"&&this._raw.removeListener("error",this._contentErrorHandler);let A=this._getStream(this._raw);A.pipe(e,{end:!1}),A.on("error",S=>e.emit("error",S)),A.on("end",_)}):(e.write(this.buildHeaders()+`\r
\r
`),setImmediate(b))}setEnvelope(e){let r;this._envelope={from:!1,to:[]},e.from&&(r=[],this._convertAddresses(this._parseAddresses(e.from),r),r=r.filter(n=>n&&n.address),r.length&&r[0]&&(this._envelope.from=r[0].address)),["to","cc","bcc"].forEach(n=>{e[n]&&this._convertAddresses(this._parseAddresses(e[n]),this._envelope.to)}),this._envelope.to=this._envelope.to.map(n=>n.address).filter(n=>n);let i=["to","cc","bcc","from"];return Object.keys(e).forEach(n=>{i.includes(n)||(this._envelope[n]=e[n])}),this}getAddresses(){let e={};return this._headers.forEach(r=>{let i=r.key.toLowerCase();["from","sender","reply-to","to","cc","bcc"].includes(i)&&(Array.isArray(e[i])||(e[i]=[]),this._convertAddresses(this._parseAddresses(r.value),e[i]))}),e}getEnvelope(){if(this._envelope)return this._envelope;let e={from:!1,to:[]};return this._headers.forEach(r=>{let i=[];r.key==="From"||!e.from&&["Reply-To","Sender"].includes(r.key)?(this._convertAddresses(this._parseAddresses(r.value),i),i.length&&i[0]&&(e.from=i[0].address)):["To","Cc","Bcc"].includes(r.key)&&this._convertAddresses(this._parseAddresses(r.value),e.to)}),e.to=e.to.map(r=>r.address),e}messageId(){let e=this.getHeader("Message-ID");return e||(e=this._generateMessageId(),this.setHeader("Message-ID",e)),e}setRaw(e){return this._raw=e,this._raw&&typeof this._raw.pipe=="function"&&(this._contentErrorHandler=r=>{this._raw.removeListener("error",this._contentErrorHandler),this._raw=r},this._raw.once("error",this._contentErrorHandler)),this}_getStream(e){let r;return e._resolvedValue?(r=new Pu,setImmediate(()=>{try{r.end(e._resolvedValue)}catch(i){r.emit("error",i)}}),r):typeof e.pipe=="function"?e:e&&typeof e.path=="string"&&!e.href?this.disableFileAccess?(r=new Pu,setImmediate(()=>r.emit("error",new Error("File access rejected for "+e.path))),r):tTe.createReadStream(e.path):e&&typeof e.href=="string"?this.disableUrlAccess?(r=new Pu,setImmediate(()=>r.emit("error",new Error("Url access rejected for "+e.href))),r):sTe(e.href,{headers:e.httpHeaders}):(r=new Pu,setImmediate(()=>{try{r.end(e||"")}catch(i){r.emit("error",i)}}),r)}_parseAddresses(e){return[].concat.apply([],[].concat(e).map(r=>r&&r.address?(r.address=this._normalizeAddress(r.address),r.name=r.name||"",[r]):oTe(r)))}_normalizeHeaderKey(e){return e=(e||"").toString().replace(/\r?\n|\r/g," ").trim().toLowerCase().replace(/^X-SMTPAPI$|^(MIME|DKIM|ARC|BIMI)\b|^[a-z]|-(SPF|FBL|ID|MD5)$|-[a-z]/gi,r=>r.toUpperCase()).replace(/^Content-Features$/i,"Content-features"),e}_handleContentType(e){this.contentType=e.value.trim().toLowerCase(),this.multipart=/^multipart\//i.test(this.contentType)?this.contentType.substr(this.contentType.indexOf("/")+1):!1,this.multipart?this.boundary=e.params.boundary=e.params.boundary||this.boundary||this._generateBoundary():this.boundary=!1}_generateBoundary(){return this.rootNode.boundaryPrefix+"-"+this.rootNode.baseBoundary+"-Part_"+this._nodeId}_encodeHeaderValue(e,r){switch(e=this._normalizeHeaderKey(e),e){case"From":case"Sender":case"To":case"Cc":case"Bcc":case"Reply-To":return this._convertAddresses(this._parseAddresses(r));case"Message-ID":case"In-Reply-To":case"Content-Id":return r=(r||"").toString().replace(/\r?\n|\r/g," "),r.charAt(0)!=="<"&&(r="<"+r),r.charAt(r.length-1)!==">"&&(r=r+">"),r;case"References":return r=[].concat.apply([],[].concat(r||"").map(i=>(i=(i||"").toString().replace(/\r?\n|\r/g," ").trim(),i.replace(/<[^>]*>/g,n=>n.replace(/\s/g,"")).split(/\s+/)))).map(i=>(i.charAt(0)!=="<"&&(i="<"+i),i.charAt(i.length-1)!==">"&&(i=i+">"),i)),r.join(" ").trim();case"Date":return Object.prototype.toString.call(r)==="[object Date]"?r.toUTCString().replace(/GMT/,"+0000"):(r=(r||"").toString().replace(/\r?\n|\r/g," "),this._encodeWords(r));case"Content-Type":case"Content-Disposition":return(r||"").toString().replace(/\r?\n|\r/g," ");default:return r=(r||"").toString().replace(/\r?\n|\r/g," "),this._encodeWords(r)}}_convertAddresses(e,r){let i=[];return r=r||[],[].concat(e||[]).forEach(n=>{if(n.address)n.address=this._normalizeAddress(n.address),n.name?n.name&&i.push(`${this._encodeAddressName(n.name)} <${n.address}>`):i.push(n.address.indexOf(" ")>=0?`<${n.address}>`:`${n.address}`),n.address&&(r.filter(a=>a.address===n.address).length||r.push(n));else if(n.group){let a=(n.group.length?this._convertAddresses(n.group,r):"").trim();i.push(`${this._encodeAddressName(n.name)}:${a};`)}}),i.join(", ")}_normalizeAddress(e){e=(e||"").toString().replace(/[\x00-\x1F<>]+/g," ").trim();let r=e.lastIndexOf("@");if(r<0)return e;let i=e.substr(0,r),n=e.substr(r+1),a;try{a=rTe.toASCII(n.toLowerCase())}catch{}return i.indexOf(" ")>=0&&(i.charAt(0)!=='"'&&(i='"'+i),i.substr(-1)!=='"'&&(i=i+'"')),`${i}@${a}`}_encodeAddressName(e){return/^[\w ']*$/.test(e)?e:/^[\x20-\x7e]*$/.test(e)?'"'+e.replace(/([\\"])/g,"\\$1")+'"':Rr.encodeWord(e,this._getTextEncoding(e),52)}_encodeWords(e){return Rr.encodeWords(e,this._getTextEncoding(e),52,!0)}_getTextEncoding(e){e=(e||"").toString();let r=this.textEncoding,i,n;return r||(n=(e.match(/[\x00-\x08\x0B\x0C\x0E-\x1F\u0080-\uFFFF]/g)||[]).length,i=(e.match(/[a-z]/gi)||[]).length,r=n<i?"Q":"B"),r}_generateMessageId(){return"<"+[2,2,2,6].reduce((e,r)=>e+"-"+Dw.randomBytes(r).toString("hex"),Dw.randomBytes(4).toString("hex"))+"@"+(this.getEnvelope().from||this.hostname||"localhost").split("@").pop()+">"}};vH.exports=Rw});var _H=l((tht,yH)=>{"use strict";var Tu=kw(),Lw=Ou(),Kw=class{constructor(e){this.mail=e||{},this.message=!1}compile(){return this._alternatives=this.getAlternatives(),this._htmlNode=this._alternatives.filter(e=>/^text\/html\b/i.test(e.contentType)).pop(),this._attachments=this.getAttachments(!!this._htmlNode),this._useRelated=!!(this._htmlNode&&this._attachments.related.length),this._useAlternative=this._alternatives.length>1,this._useMixed=this._attachments.attached.length>1||this._alternatives.length&&this._attachments.attached.length===1,this.mail.raw?this.message=new Tu("message/rfc822",{newline:this.mail.newline}).setRaw(this.mail.raw):this._useMixed?this.message=this._createMixed():this._useAlternative?this.message=this._createAlternative():this._useRelated?this.message=this._createRelated():this.message=this._createContentNode(!1,[].concat(this._alternatives||[]).concat(this._attachments.attached||[]).shift()||{contentType:"text/plain",content:""}),this.mail.headers&&this.message.addHeader(this.mail.headers),["from","sender","to","cc","bcc","reply-to","in-reply-to","references","subject","message-id","date"].forEach(e=>{let r=e.replace(/-(\w)/g,(i,n)=>n.toUpperCase());this.mail[r]&&this.message.setHeader(e,this.mail[r])}),this.mail.envelope&&this.message.setEnvelope(this.mail.envelope),this.message.messageId(),this.message}getAttachments(e){let r,i,n=[].concat(this.mail.attachments||[]).map((a,o)=>{let u,p=/^message\//i.test(a.contentType);/^data:/i.test(a.path||a.href)&&(a=this._processDataUrl(a));let _=a.contentType||Lw.detectMimeType(a.filename||a.path||a.href||"bin"),b=/^image\//i.test(_),A=a.contentDisposition||(p||b&&a.cid?"inline":"attachment");return u={contentType:_,contentDisposition:A,contentTransferEncoding:"contentTransferEncoding"in a?a.contentTransferEncoding:"base64"},a.filename?u.filename=a.filename:!p&&a.filename!==!1&&(u.filename=(a.path||a.href||"").split("/").pop().split("?").shift()||"attachment-"+(o+1),u.filename.indexOf(".")<0&&(u.filename+="."+Lw.detectExtension(u.contentType))),/^https?:\/\//i.test(a.path)&&(a.href=a.path,a.path=void 0),a.cid&&(u.cid=a.cid),a.raw?u.raw=a.raw:a.path?u.content={path:a.path}:a.href?u.content={href:a.href,httpHeaders:a.httpHeaders}:u.content=a.content||"",a.encoding&&(u.encoding=a.encoding),a.headers&&(u.headers=a.headers),u});return this.mail.icalEvent&&(typeof this.mail.icalEvent=="object"&&(this.mail.icalEvent.content||this.mail.icalEvent.path||this.mail.icalEvent.href||this.mail.icalEvent.raw)?r=this.mail.icalEvent:r={content:this.mail.icalEvent},i={},Object.keys(r).forEach(a=>{i[a]=r[a]}),i.contentType="application/ics",i.headers||(i.headers={}),i.filename=i.filename||"invite.ics",i.headers["Content-Disposition"]="attachment",i.headers["Content-Transfer-Encoding"]="base64"),e?{attached:n.filter(a=>!a.cid).concat(i||[]),related:n.filter(a=>!!a.cid)}:{attached:n.concat(i||[]),related:[]}}getAlternatives(){let e=[],r,i,n,a,o,u;return this.mail.text&&(typeof this.mail.text=="object"&&(this.mail.text.content||this.mail.text.path||this.mail.text.href||this.mail.text.raw)?r=this.mail.text:r={content:this.mail.text},r.contentType="text/plain; charset=utf-8"),this.mail.watchHtml&&(typeof this.mail.watchHtml=="object"&&(this.mail.watchHtml.content||this.mail.watchHtml.path||this.mail.watchHtml.href||this.mail.watchHtml.raw)?n=this.mail.watchHtml:n={content:this.mail.watchHtml},n.contentType="text/watch-html; charset=utf-8"),this.mail.amp&&(typeof this.mail.amp=="object"&&(this.mail.amp.content||this.mail.amp.path||this.mail.amp.href||this.mail.amp.raw)?a=this.mail.amp:a={content:this.mail.amp},a.contentType="text/x-amp-html; charset=utf-8"),this.mail.icalEvent&&(typeof this.mail.icalEvent=="object"&&(this.mail.icalEvent.content||this.mail.icalEvent.path||this.mail.icalEvent.href||this.mail.icalEvent.raw)?o=this.mail.icalEvent:o={content:this.mail.icalEvent},u={},Object.keys(o).forEach(p=>{u[p]=o[p]}),u.content&&typeof u.content=="object"&&(u.content._resolve=!0),u.filename=!1,u.contentType="text/calendar; charset=utf-8; method="+(u.method||"PUBLISH").toString().trim().toUpperCase(),u.headers||(u.headers={})),this.mail.html&&(typeof this.mail.html=="object"&&(this.mail.html.content||this.mail.html.path||this.mail.html.href||this.mail.html.raw)?i=this.mail.html:i={content:this.mail.html},i.contentType="text/html; charset=utf-8"),[].concat(r||[]).concat(n||[]).concat(a||[]).concat(i||[]).concat(u||[]).concat(this.mail.alternatives||[]).forEach(p=>{let _;/^data:/i.test(p.path||p.href)&&(p=this._processDataUrl(p)),_={contentType:p.contentType||Lw.detectMimeType(p.filename||p.path||p.href||"txt"),contentTransferEncoding:p.contentTransferEncoding},p.filename&&(_.filename=p.filename),/^https?:\/\//i.test(p.path)&&(p.href=p.path,p.path=void 0),p.raw?_.raw=p.raw:p.path?_.content={path:p.path}:p.href?_.content={href:p.href}:_.content=p.content||"",p.encoding&&(_.encoding=p.encoding),p.headers&&(_.headers=p.headers),e.push(_)}),e}_createMixed(e){let r;return e?r=e.createChild("multipart/mixed",{disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}):r=new Tu("multipart/mixed",{baseBoundary:this.mail.baseBoundary,textEncoding:this.mail.textEncoding,boundaryPrefix:this.mail.boundaryPrefix,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}),this._useAlternative?this._createAlternative(r):this._useRelated&&this._createRelated(r),[].concat(!this._useAlternative&&this._alternatives||[]).concat(this._attachments.attached||[]).forEach(i=>{(!this._useRelated||i!==this._htmlNode)&&this._createContentNode(r,i)}),r}_createAlternative(e){let r;return e?r=e.createChild("multipart/alternative",{disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}):r=new Tu("multipart/alternative",{baseBoundary:this.mail.baseBoundary,textEncoding:this.mail.textEncoding,boundaryPrefix:this.mail.boundaryPrefix,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}),this._alternatives.forEach(i=>{this._useRelated&&this._htmlNode===i?this._createRelated(r):this._createContentNode(r,i)}),r}_createRelated(e){let r;return e?r=e.createChild('multipart/related; type="text/html"',{disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}):r=new Tu('multipart/related; type="text/html"',{baseBoundary:this.mail.baseBoundary,textEncoding:this.mail.textEncoding,boundaryPrefix:this.mail.boundaryPrefix,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}),this._createContentNode(r,this._htmlNode),this._attachments.related.forEach(i=>this._createContentNode(r,i)),r}_createContentNode(e,r){r=r||{},r.content=r.content||"";let i,n=(r.encoding||"utf8").toString().toLowerCase().replace(/[-_\s]/g,"");return e?i=e.createChild(r.contentType,{filename:r.filename,textEncoding:this.mail.textEncoding,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}):i=new Tu(r.contentType,{filename:r.filename,baseBoundary:this.mail.baseBoundary,textEncoding:this.mail.textEncoding,boundaryPrefix:this.mail.boundaryPrefix,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}),r.headers&&i.addHeader(r.headers),r.cid&&i.setHeader("Content-Id","<"+r.cid.replace(/[<>]/g,"")+">"),r.contentTransferEncoding?i.setHeader("Content-Transfer-Encoding",r.contentTransferEncoding):this.mail.encoding&&/^text\//i.test(r.contentType)&&i.setHeader("Content-Transfer-Encoding",this.mail.encoding),(!/^text\//i.test(r.contentType)||r.contentDisposition)&&i.setHeader("Content-Disposition",r.contentDisposition||(r.cid&&/^image\//i.test(r.contentType)?"inline":"attachment")),typeof r.content=="string"&&!["utf8","usascii","ascii"].includes(n)&&(r.content=Buffer.from(r.content,n)),r.raw?i.setRaw(r.raw):i.setContent(r.content),i}_processDataUrl(e){let r=(e.path||e.href).match(/^data:((?:[^;]*;){0,20}(?:[^,]*)),(.*)$/i);return r&&(e.content=/\bbase64$/i.test(r[1])?Buffer.from(r[2],"base64"):Buffer.from(decodeURIComponent(r[2])),"path"in e&&(e.path=!1),"href"in e&&(e.href=!1),r[1].split(";").forEach(i=>{/^\w+\/[^/]+$/i.test(i)&&(e.contentType=e.contentType||i.toLowerCase())})),e}};yH.exports=Kw});var xH=l((rht,gH)=>{"use strict";var fTe=require("stream").Transform,Fw=class extends fTe{constructor(e){super(e),this.lastBytes=Buffer.alloc(4),this.headersParsed=!1,this.headerBytes=0,this.headerChunks=[],this.rawHeaders=!1,this.bodySize=0}updateLastBytes(e){let r=this.lastBytes.length,i=Math.min(e.length,r);for(let n=0,a=r-i;n<a;n++)this.lastBytes[n]=this.lastBytes[n+i];for(let n=1;n<=i;n++)this.lastBytes[r-n]=e[e.length-n]}checkHeaders(e){if(this.headersParsed)return!0;let r=this.lastBytes.length,i=0;this.curLinePos=0;for(let n=0,a=this.lastBytes.length+e.length;n<a;n++){let o;if(n<r?o=this.lastBytes[n]:o=e[n-r],o===10&&n){let u=n-1<r?this.lastBytes[n-1]:e[n-1-r],p=n>1?n-2<r?this.lastBytes[n-2]:e[n-2-r]:!1;if(u===10){this.headersParsed=!0,i=n-r+1,this.headerBytes+=i;break}else if(u===13&&p===10){this.headersParsed=!0,i=n-r+1,this.headerBytes+=i;break}}}if(this.headersParsed){if(this.headerChunks.push(e.slice(0,i)),this.rawHeaders=Buffer.concat(this.headerChunks,this.headerBytes),this.headerChunks=null,this.emit("headers",this.parseHeaders()),e.length-1>i){let n=e.slice(i);this.bodySize+=n.length,setImmediate(()=>this.push(n))}return!1}else this.headerBytes+=e.length,this.headerChunks.push(e);return this.updateLastBytes(e),!1}_transform(e,r,i){if(!e||!e.length)return i();typeof e=="string"&&(e=Buffer.from(e,r));let n;try{n=this.checkHeaders(e)}catch(a){return i(a)}n&&(this.bodySize+=e.length,this.push(e)),setImmediate(i)}_flush(e){if(this.headerChunks){let r=Buffer.concat(this.headerChunks,this.headerBytes);this.bodySize+=r.length,this.push(r),this.headerChunks=null}e()}parseHeaders(){let e=(this.rawHeaders||"").toString().split(/\r?\n/);for(let r=e.length-1;r>0;r--)/^\s/.test(e[r])&&(e[r-1]+=`
`+e[r],e.splice(r,1));return e.filter(r=>r.trim()).map(r=>({key:r.substr(0,r.indexOf(":")).trim().toLowerCase(),line:r}))}};gH.exports=Fw});var qH=l((iht,wH)=>{"use strict";var pTe=require("stream").Transform,dTe=require("crypto"),Bw=class extends pTe{constructor(e){super(),e=e||{},this.chunkBuffer=[],this.chunkBufferLen=0,this.bodyHash=dTe.createHash(e.hashAlgo||"sha1"),this.remainder="",this.byteLength=0,this.debug=e.debug,this._debugBody=e.debug?[]:!1}updateHash(e){let r,i="",n="file";for(let o=e.length-1;o>=0;o--){let u=e[o];if(!(n==="file"&&(u===10||u===13))){if(n==="file"&&(u===9||u===32))n="line";else if(!(n==="line"&&(u===9||u===32))){if((n==="file"||n==="line")&&(n="body",o===e.length-1))break}}if(o===0){if(n==="file"&&(!this.remainder||/[\r\n]$/.test(this.remainder))||n==="line"&&(!this.remainder||/[ \t]$/.test(this.remainder))){this.remainder+=e.toString("binary");return}else if(n==="line"||n==="file"){i=e.toString("binary"),e=!1;break}}if(n==="body"){i=e.slice(o+1).toString("binary"),e=e.slice(0,o+1);break}}let a=!!this.remainder;if(e&&!a){for(let o=0,u=e.length;o<u;o++)if(o&&e[o]===10&&e[o-1]!==13){a=!0;break}else if(o&&e[o]===13&&e[o-1]===32){a=!0;break}else if(o&&e[o]===32&&e[o-1]===32){a=!0;break}else if(e[o]===9){a=!0;break}}a?(r=this.remainder+(e?e.toString("binary"):""),this.remainder=i,r=r.replace(/\r?\n/g,`
`).replace(/[ \t]*$/gm,"").replace(/[ \t]+/gm," ").replace(/\n/g,`\r
`),e=Buffer.from(r,"binary")):i&&(this.remainder=i),this.debug&&this._debugBody.push(e),this.bodyHash.update(e)}_transform(e,r,i){if(!e||!e.length)return i();typeof e=="string"&&(e=Buffer.from(e,r)),this.updateHash(e),this.byteLength+=e.length,this.push(e),i()}_flush(e){/[\r\n]$/.test(this.remainder)&&this.byteLength>2&&this.bodyHash.update(Buffer.from(`\r
`)),this.byteLength||this.push(Buffer.from(`\r
`)),this.emit("hash",this.bodyHash.digest("base64"),this.debug?Buffer.concat(this._debugBody):!1),e()}};wH.exports=Bw});var AH=l((nht,Hw)=>{"use strict";var hTe=ww(),mTe=Ou(),vTe=require("crypto");Hw.exports=(t,e,r,i)=>{i=i||{};let a=i.headerFieldNames||"From:Sender:Reply-To:Subject:Date:Message-ID:To:Cc:MIME-Version:Content-Type:Content-Transfer-Encoding:Content-ID:Content-Description:Resent-Date:Resent-From:Resent-Sender:Resent-To:Resent-Cc:Resent-Message-ID:In-Reply-To:References:List-Id:List-Help:List-Unsubscribe:List-Subscribe:List-Post:List-Owner:List-Archive",o=bH(t,a,i.skipFields),u=yTe(i.domainName,i.keySelector,o.fieldNames,e,r),p,_;o.headers+="dkim-signature:"+EH(u),p=vTe.createSign(("rsa-"+e).toUpperCase()),p.update(o.headers);try{_=p.sign(i.privateKey,"base64")}catch{return!1}return u+_.replace(/(^.{73}|.{75}(?!\r?\n|\r))/g,`$&\r
 `).trim()};Hw.exports.relaxedHeaders=bH;function yTe(t,e,r,i,n){let a=["v=1","a=rsa-"+i,"c=relaxed/relaxed","d="+hTe.toASCII(t),"q=dns/txt","s="+e,"bh="+n,"h="+r].join("; ");return mTe.foldLines("DKIM-Signature: "+a,76)+`;\r
 b=`}function bH(t,e,r){let i=new Set,n=new Set,a=new Map;(r||"").toLowerCase().split(":").forEach(p=>{n.add(p.trim())}),(e||"").toLowerCase().split(":").filter(p=>!n.has(p.trim())).forEach(p=>{i.add(p.trim())});for(let p=t.length-1;p>=0;p--){let _=t[p];i.has(_.key)&&!a.has(_.key)&&a.set(_.key,EH(_.line))}let o=[],u=[];return i.forEach(p=>{a.has(p)&&(u.push(p),o.push(p+":"+a.get(p)))}),{headers:o.join(`\r
`)+`\r
`,fieldNames:u.join(":")}}function EH(t){return t.substr(t.indexOf(":")+1).replace(/\r?\n/g,"").replace(/\s+/g," ").trim()}});var SH=l((aht,MH)=>{"use strict";var _Te=xH(),gTe=qH(),xTe=AH(),Uw=require("stream").PassThrough,Gw=require("fs"),wTe=require("path"),qTe=require("crypto"),bTe="sha256",ETe=128*1024,jw=class{constructor(e,r,i,n){this.options=e||{},this.keys=r,this.cacheTreshold=Number(this.options.cacheTreshold)||ETe,this.hashAlgo=this.options.hashAlgo||bTe,this.cacheDir=this.options.cacheDir||!1,this.chunks=[],this.chunklen=0,this.readPos=0,this.cachePath=this.cacheDir?wTe.join(this.cacheDir,"message."+Date.now()+"-"+qTe.randomBytes(14).toString("hex")):!1,this.cache=!1,this.headers=!1,this.bodyHash=!1,this.parser=!1,this.relaxedBody=!1,this.input=i,this.output=n,this.output.usingCache=!1,this.hasErrored=!1,this.input.on("error",a=>{this.hasErrored=!0,this.cleanup(),n.emit("error",a)})}cleanup(){!this.cache||!this.cachePath||Gw.unlink(this.cachePath,()=>!1)}createReadCache(){this.cache=Gw.createReadStream(this.cachePath),this.cache.once("error",e=>{this.cleanup(),this.output.emit("error",e)}),this.cache.once("close",()=>{this.cleanup()}),this.cache.pipe(this.output)}sendNextChunk(){if(this.hasErrored)return;if(this.readPos>=this.chunks.length)return this.cache?this.createReadCache():this.output.end();let e=this.chunks[this.readPos++];if(this.output.write(e)===!1)return this.output.once("drain",()=>{this.sendNextChunk()});setImmediate(()=>this.sendNextChunk())}sendSignedOutput(){let e=0,r=()=>{if(e>=this.keys.length)return this.output.write(this.parser.rawHeaders),setImmediate(()=>this.sendNextChunk());let i=this.keys[e++],n=xTe(this.headers,this.hashAlgo,this.bodyHash,{domainName:i.domainName,keySelector:i.keySelector,privateKey:i.privateKey,headerFieldNames:this.options.headerFieldNames,skipFields:this.options.skipFields});return n&&this.output.write(Buffer.from(n+`\r
`)),setImmediate(r)};if(this.bodyHash&&this.headers)return r();this.output.write(this.parser.rawHeaders),this.sendNextChunk()}createWriteCache(){this.output.usingCache=!0,this.cache=Gw.createWriteStream(this.cachePath),this.cache.once("error",e=>{this.cleanup(),this.relaxedBody.unpipe(this.cache),this.relaxedBody.on("readable",()=>{for(;this.relaxedBody.read()!==null;);}),this.hasErrored=!0,this.output.emit("error",e)}),this.cache.once("close",()=>{this.sendSignedOutput()}),this.relaxedBody.removeAllListeners("readable"),this.relaxedBody.pipe(this.cache)}signStream(){this.parser=new _Te,this.relaxedBody=new gTe({hashAlgo:this.hashAlgo}),this.parser.on("headers",e=>{this.headers=e}),this.relaxedBody.on("hash",e=>{this.bodyHash=e}),this.relaxedBody.on("readable",()=>{let e;if(!this.cache){for(;(e=this.relaxedBody.read())!==null;)if(this.chunks.push(e),this.chunklen+=e.length,this.chunklen>=this.cacheTreshold&&this.cachePath)return this.createWriteCache()}}),this.relaxedBody.on("end",()=>{this.cache||this.sendSignedOutput()}),this.parser.pipe(this.relaxedBody),setImmediate(()=>this.input.pipe(this.parser))}},zw=class{constructor(e){this.options=e||{},this.keys=[].concat(this.options.keys||{domainName:e.domainName,keySelector:e.keySelector,privateKey:e.privateKey})}sign(e,r){let i=new Uw,n=e,a=!1;Buffer.isBuffer(e)?(a=e,n=new Uw):typeof e=="string"&&(a=Buffer.from(e),n=new Uw);let o=this.options;r&&Object.keys(r).length&&(o={},Object.keys(this.options||{}).forEach(p=>{o[p]=this.options[p]}),Object.keys(r||{}).forEach(p=>{p in o||(o[p]=r[p])}));let u=new jw(o,this.keys,n,i);return setImmediate(()=>{u.signStream(),a&&setImmediate(()=>{n.end(a)})}),i}};MH.exports=zw});var NH=l((oht,TH)=>{"use strict";var IH=require("net"),OH=require("tls"),ATe=require("url");function PH(t,e,r,i){let n=ATe.parse(t),a,o,u;a={host:n.hostname,port:Number(n.port)?Number(n.port):n.protocol==="https:"?443:80},n.protocol==="https:"?(a.rejectUnauthorized=!1,o=OH.connect.bind(OH)):o=IH.connect.bind(IH);let p=!1,_=A=>{if(!p){p=!0;try{u.destroy()}catch{}i(A)}},b=()=>{let A=new Error("Proxy socket timed out");A.code="ETIMEDOUT",_(A)};u=o(a,()=>{if(p)return;let A={Host:r+":"+e,Connection:"close"};n.auth&&(A["Proxy-Authorization"]="Basic "+Buffer.from(n.auth).toString("base64")),u.write("CONNECT "+r+":"+e+` HTTP/1.1\r
`+Object.keys(A).map(N=>N+": "+A[N]).join(`\r
`)+`\r
\r
`);let S="",C=N=>{let L,B;if(!p&&(S+=N.toString("binary"),L=S.match(/\r\n\r\n/))){if(u.removeListener("data",C),B=S.substr(L.index+L[0].length),S=S.substr(0,L.index),B&&u.unshift(Buffer.from(B,"binary")),p=!0,L=S.match(/^HTTP\/\d+\.\d+ (\d+)/i),!L||(L[1]||"").charAt(0)!=="2"){try{u.destroy()}catch{}return i(new Error("Invalid response from proxy"+(L&&": "+L[1]||"")))}return u.removeListener("error",_),u.removeListener("timeout",b),u.setTimeout(0),i(null,u)}};u.on("data",C)}),u.setTimeout(PH.timeout||30*1e3),u.on("timeout",b),u.once("error",_)}TH.exports=PH});var RH=l((sht,DH)=>{"use strict";var CH=Ht(),MTe=kw(),Ao=Ou(),Ww=class{constructor(e,r){this.mailer=e,this.data={},this.message=null,r=r||{};let i=e.options||{},n=e._defaults||{};Object.keys(r).forEach(a=>{this.data[a]=r[a]}),this.data.headers=this.data.headers||{},Object.keys(n).forEach(a=>{a in this.data?a==="headers"&&Object.keys(n.headers).forEach(o=>{o in this.data.headers||(this.data.headers[o]=n.headers[o])}):this.data[a]=n[a]}),["disableFileAccess","disableUrlAccess","normalizeHeaderKey"].forEach(a=>{a in i&&(this.data[a]=i[a])})}resolveContent(...e){return CH.resolveContent(...e)}resolveAll(e){let r=[[this.data,"html"],[this.data,"text"],[this.data,"watchHtml"],[this.data,"amp"],[this.data,"icalEvent"]];this.data.alternatives&&this.data.alternatives.length&&this.data.alternatives.forEach((p,_)=>{r.push([this.data.alternatives,_])}),this.data.attachments&&this.data.attachments.length&&this.data.attachments.forEach((p,_)=>{p.filename||(p.filename=(p.path||p.href||"").split("/").pop().split("?").shift()||"attachment-"+(_+1),p.filename.indexOf(".")<0&&(p.filename+="."+Ao.detectExtension(p.contentType))),p.contentType||(p.contentType=Ao.detectMimeType(p.filename||p.path||p.href||"bin")),r.push([this.data.attachments,_])});let i=new MTe;["from","to","cc","bcc","sender","replyTo"].forEach(p=>{let _;this.message?_=[].concat(i._parseAddresses(this.message.getHeader(p==="replyTo"?"reply-to":p))||[]):this.data[p]&&(_=[].concat(i._parseAddresses(this.data[p])||[])),_&&_.length?this.data[p]=_:p in this.data&&(this.data[p]=null)}),["from","sender"].forEach(p=>{this.data[p]&&(this.data[p]=this.data[p].shift())});let o=0,u=()=>{if(o>=r.length)return e(null,this.data);let p=r[o++];if(!p[0]||!p[0][p[1]])return u();CH.resolveContent(...p,(_,b)=>{if(_)return e(_);let A={content:b};p[0][p[1]]&&typeof p[0][p[1]]=="object"&&!Buffer.isBuffer(p[0][p[1]])&&Object.keys(p[0][p[1]]).forEach(S=>{!(S in A)&&!["content","path","href","raw"].includes(S)&&(A[S]=p[0][p[1]][S])}),p[0][p[1]]=A,u()})};setImmediate(()=>u())}normalize(e){let r=this.data.envelope||this.message.getEnvelope(),i=this.message.messageId();this.resolveAll((n,a)=>n?e(n):(a.envelope=r,a.messageId=i,["html","text","watchHtml","amp"].forEach(o=>{a[o]&&a[o].content&&(typeof a[o].content=="string"?a[o]=a[o].content:Buffer.isBuffer(a[o].content)&&(a[o]=a[o].content.toString()))}),a.icalEvent&&Buffer.isBuffer(a.icalEvent.content)&&(a.icalEvent.content=a.icalEvent.content.toString("base64"),a.icalEvent.encoding="base64"),a.alternatives&&a.alternatives.length&&a.alternatives.forEach(o=>{o&&o.content&&Buffer.isBuffer(o.content)&&(o.content=o.content.toString("base64"),o.encoding="base64")}),a.attachments&&a.attachments.length&&a.attachments.forEach(o=>{o&&o.content&&Buffer.isBuffer(o.content)&&(o.content=o.content.toString("base64"),o.encoding="base64")}),a.normalizedHeaders={},Object.keys(a.headers||{}).forEach(o=>{let u=[].concat(a.headers[o]||[]).shift();u=u&&u.value||u,u&&(["references","in-reply-to","message-id","content-id"].includes(o)&&(u=this.message._encodeHeaderValue(o,u)),a.normalizedHeaders[o]=u)}),a.list&&typeof a.list=="object"&&this._getListHeaders(a.list).forEach(u=>{a.normalizedHeaders[u.key]=u.value.map(p=>p&&p.value||p).join(", ")}),a.references&&(a.normalizedHeaders.references=this.message._encodeHeaderValue("references",a.references)),a.inReplyTo&&(a.normalizedHeaders["in-reply-to"]=this.message._encodeHeaderValue("in-reply-to",a.inReplyTo)),e(null,a)))}setMailerHeader(){!this.message||!this.data.xMailer||this.message.setHeader("X-Mailer",this.data.xMailer)}setPriorityHeaders(){if(!(!this.message||!this.data.priority))switch((this.data.priority||"").toString().toLowerCase()){case"high":this.message.setHeader("X-Priority","1 (Highest)"),this.message.setHeader("X-MSMail-Priority","High"),this.message.setHeader("Importance","High");break;case"low":this.message.setHeader("X-Priority","5 (Lowest)"),this.message.setHeader("X-MSMail-Priority","Low"),this.message.setHeader("Importance","Low");break;default:}}setListHeaders(){!this.message||!this.data.list||typeof this.data.list!="object"||this.data.list&&typeof this.data.list=="object"&&this._getListHeaders(this.data.list).forEach(e=>{e.value.forEach(r=>{this.message.addHeader(e.key,r)})})}_getListHeaders(e){return Object.keys(e).map(r=>({key:"list-"+r.toLowerCase().trim(),value:[].concat(e[r]||[]).map(i=>({prepared:!0,foldLines:!0,value:[].concat(i||[]).map(n=>{if(typeof n=="string"&&(n={url:n}),n&&n.url){if(r.toLowerCase().trim()==="id"){let o=n.comment||"";return Ao.isPlainText(o)?o='"'+o+'"':o=Ao.encodeWord(o),(n.comment?o+" ":"")+this._formatListUrl(n.url).replace(/^<[^:]+\/{,2}/,"")}let a=n.comment||"";return Ao.isPlainText(a)||(a=Ao.encodeWord(a)),this._formatListUrl(n.url)+(n.comment?" ("+a+")":"")}return""}).filter(n=>n).join(", ")}))}))}_formatListUrl(e){return e=e.replace(/[\s<]+|[\s>]+/g,""),/^(https?|mailto|ftp):/.test(e)?"<"+e+">":/^[^@]+@[^@]+$/.test(e)?"<mailto:"+e+">":"<http://"+e+">"}};DH.exports=Ww});var FH=l((uht,KH)=>{"use strict";var STe=require("events"),kH=Ht(),ITe=_w(),OTe=_H(),LH=SH(),PTe=NH(),TTe=require("util"),NTe=require("url"),Vw=Dr(),CTe=RH(),DTe=require("net"),RTe=require("dns"),kTe=require("crypto"),Yw=class extends STe{constructor(e,r,i){super(),this.options=r||{},this._defaults=i||{},this._defaultPlugins={compile:[(...n)=>this._convertDataImages(...n)],stream:[]},this._userPlugins={compile:[],stream:[]},this.meta=new Map,this.dkim=this.options.dkim?new LH(this.options.dkim):!1,this.transporter=e,this.transporter.mailer=this,this.logger=kH.getLogger(this.options,{component:this.options.component||"mail"}),this.logger.debug({tnx:"create"},"Creating transport: %s",this.getVersionString()),typeof this.transporter.on=="function"&&(this.transporter.on("log",n=>{this.logger.debug({tnx:"transport"},"%s: %s",n.type,n.message)}),this.transporter.on("error",n=>{this.logger.error({err:n,tnx:"transport"},"Transport Error: %s",n.message),this.emit("error",n)}),this.transporter.on("idle",(...n)=>{this.emit("idle",...n)})),["close","isIdle","verify"].forEach(n=>{this[n]=(...a)=>typeof this.transporter[n]=="function"?(n==="verify"&&typeof this.getSocket=="function"&&(this.transporter.getSocket=this.getSocket,this.getSocket=!1),this.transporter[n](...a)):(this.logger.warn({tnx:"transport",methodName:n},"Non existing method %s called for transport",n),!1)}),this.options.proxy&&typeof this.options.proxy=="string"&&this.setupProxy(this.options.proxy)}use(e,r){return e=(e||"").toString(),this._userPlugins.hasOwnProperty(e)?this._userPlugins[e].push(r):this._userPlugins[e]=[r],this}sendMail(e,r=null){let i;r||(i=new Promise((a,o)=>{r=kH.callbackPromise(a,o)})),typeof this.getSocket=="function"&&(this.transporter.getSocket=this.getSocket,this.getSocket=!1);let n=new CTe(this,e);return this.logger.debug({tnx:"transport",name:this.transporter.name,version:this.transporter.version,action:"send"},"Sending mail using %s/%s",this.transporter.name,this.transporter.version),this._processPlugins("compile",n,a=>{if(a)return this.logger.error({err:a,tnx:"plugin",action:"compile"},"PluginCompile Error: %s",a.message),r(a);n.message=new OTe(n.data).compile(),n.setMailerHeader(),n.setPriorityHeaders(),n.setListHeaders(),this._processPlugins("stream",n,o=>{if(o)return this.logger.error({err:o,tnx:"plugin",action:"stream"},"PluginStream Error: %s",o.message),r(o);(n.data.dkim||this.dkim)&&n.message.processFunc(u=>{let p=n.data.dkim?new LH(n.data.dkim):this.dkim;return this.logger.debug({tnx:"DKIM",messageId:n.message.messageId(),dkimDomains:p.keys.map(_=>_.keySelector+"."+_.domainName).join(", ")},"Signing outgoing message with %s keys",p.keys.length),p.sign(u,n.data._dkim)}),this.transporter.send(n,(...u)=>{u[0]&&this.logger.error({err:u[0],tnx:"transport",action:"send"},"Send Error: %s",u[0].message),r(...u)})})}),i}getVersionString(){return TTe.format("%s (%s; +%s; %s/%s)",Vw.name,Vw.version,Vw.homepage,this.transporter.name,this.transporter.version)}_processPlugins(e,r,i){if(e=(e||"").toString(),!this._userPlugins.hasOwnProperty(e))return i();let n=this._userPlugins[e]||[],a=this._defaultPlugins[e]||[];if(n.length&&this.logger.debug({tnx:"transaction",pluginCount:n.length,step:e},"Using %s plugins for %s",n.length,e),n.length+a.length===0)return i();let o=0,u="default",p=()=>{let _=u==="default"?a:n;if(o>=_.length)if(u==="default"&&n.length)u="user",o=0,_=n;else return i();let b=_[o++];b(r,A=>{if(A)return i(A);p()})};p()}setupProxy(e){let r=NTe.parse(e);this.getSocket=(i,n)=>{let a=r.protocol.replace(/:$/,"").toLowerCase();if(this.meta.has("proxy_handler_"+a))return this.meta.get("proxy_handler_"+a)(r,i,n);switch(a){case"http":case"https":PTe(r.href,i.port,i.host,(o,u)=>o?n(o):n(null,{connection:u}));return;case"socks":case"socks5":case"socks4":case"socks4a":{if(!this.meta.has("proxy_socks_module"))return n(new Error("Socks module not loaded"));let o=u=>{let p=!!this.meta.get("proxy_socks_module").SocksClient,_=p?this.meta.get("proxy_socks_module").SocksClient:this.meta.get("proxy_socks_module"),b=Number(r.protocol.replace(/\D/g,""))||5,A={proxy:{ipaddress:u,port:Number(r.port),type:b},[p?"destination":"target"]:{host:i.host,port:i.port},command:"connect"};if(r.auth){let S=decodeURIComponent(r.auth.split(":").shift()),C=decodeURIComponent(r.auth.split(":").pop());p?(A.proxy.userId=S,A.proxy.password=C):b===4?A.userid=S:A.authentication={username:S,password:C}}_.createConnection(A,(S,C)=>S?n(S):n(null,{connection:C.socket||C}))};return DTe.isIP(r.hostname)?o(r.hostname):RTe.resolve(r.hostname,(u,p)=>{if(u)return n(u);o(Array.isArray(p)?p[0]:p)})}}n(new Error("Unknown proxy configuration"))}}_convertDataImages(e,r){if(!this.options.attachDataUrls&&!e.data.attachDataUrls||!e.data.html)return r();e.resolveContent(e.data,"html",(i,n)=>{if(i)return r(i);let a=0;n=(n||"").toString().replace(/(<img\b[^<>]{0,1024} src\s{0,20}=[\s"']{0,20})(data:([^;]+);[^"'>\s]+)/gi,(o,u,p,_)=>{let b=kTe.randomBytes(10).toString("hex")+"@localhost";return e.data.attachments||(e.data.attachments=[]),Array.isArray(e.data.attachments)||(e.data.attachments=[].concat(e.data.attachments||[])),e.data.attachments.push({path:p,cid:b,filename:"image-"+ ++a+"."+ITe.detectExtension(_)}),u+"cid:"+b}),e.data.html=n,r()})}set(e,r){return this.meta.set(e,r)}get(e){return this.meta.get(e)}};KH.exports=Yw});var HH=l((lht,BH)=>{"use strict";var LTe=require("stream"),KTe=LTe.Transform,Xw=class extends KTe{constructor(e){super(e),this.options=e||{},this._curLine="",this.inByteCount=0,this.outByteCount=0,this.lastByte=!1}_transform(e,r,i){let n=[],a=0,o,u,p=0,_;if(!e||!e.length)return i();for(typeof e=="string"&&(e=Buffer.from(e)),this.inByteCount+=e.length,o=0,u=e.length;o<u;o++)e[o]===46?(o&&e[o-1]===10||!o&&(!this.lastByte||this.lastByte===10))&&(_=e.slice(p,o+1),n.push(_),n.push(Buffer.from(".")),a+=_.length+1,p=o+1):e[o]===10&&(o&&e[o-1]!==13||!o&&this.lastByte!==13)&&(o>p?(_=e.slice(p,o),n.push(_),a+=_.length+2):a+=2,n.push(Buffer.from(`\r
`)),p=o+1);a?(p<e.length&&(_=e.slice(p),n.push(_),a+=_.length),this.outByteCount+=a,this.push(Buffer.concat(n,a))):(this.outByteCount+=e.length,this.push(e)),this.lastByte=e[e.length-1],i()}_flush(e){let r;this.lastByte===10?r=Buffer.from(`.\r
`):this.lastByte===13?r=Buffer.from(`
.\r
`):r=Buffer.from(`\r
.\r
`),this.outByteCount+=r.length,this.push(r),e()}};BH.exports=Xw});var Av=l((cht,zH)=>{"use strict";var FTe=Dr(),BTe=require("events").EventEmitter,HTe=require("net"),UH=require("tls"),UTe=require("os"),GH=require("crypto"),GTe=HH(),jTe=require("stream").PassThrough,Ei=Ht(),zTe=2*60*1e3,jH=10*60*1e3,WTe=30*1e3,VTe=30*1e3,Zw=class extends BTe{constructor(e){super(e),this.id=GH.randomBytes(8).toString("base64").replace(/\W/g,""),this.stage="init",this.options=e||{},this.secureConnection=!!this.options.secure,this.alreadySecured=!!this.options.secured,this.port=Number(this.options.port)||(this.secureConnection?465:587),this.host=this.options.host||"localhost",this.allowInternalNetworkInterfaces=this.options.allowInternalNetworkInterfaces||!1,typeof this.options.secure>"u"&&this.port===465&&(this.secureConnection=!0),this.name=this.options.name||this._getHostname(),this.logger=Ei.getLogger(this.options,{component:this.options.component||"smtp-connection",sid:this.id}),this.customAuth=new Map,Object.keys(this.options.customAuth||{}).forEach(r=>{let i=(r||"").toString().trim().toUpperCase();i&&this.customAuth.set(i,this.options.customAuth[r])}),this.version=FTe.version,this.authenticated=!1,this.destroyed=!1,this.secure=!!this.secureConnection,this._remainder="",this._responseQueue=[],this.lastServerResponse=!1,this._socket=!1,this._supportedAuth=[],this.allowsAuth=!1,this._envelope=!1,this._supportedExtensions=[],this._maxAllowedSize=0,this._responseActions=[],this._recipientQueue=[],this._greetingTimeout=!1,this._connectionTimeout=!1,this._destroyed=!1,this._closing=!1,this._onSocketData=r=>this._onData(r),this._onSocketError=r=>this._onError(r,"ESOCKET",!1,"CONN"),this._onSocketClose=()=>this._onClose(),this._onSocketEnd=()=>this._onEnd(),this._onSocketTimeout=()=>this._onTimeout()}connect(e){if(typeof e=="function"){this.once("connect",()=>{this.logger.debug({tnx:"smtp"},"SMTP handshake finished"),e()});let n=this._isDestroyedMessage("connect");if(n)return e(this._formatError(n,"ECONNECTION",!1,"CONN"))}let r={port:this.port,host:this.host,allowInternalNetworkInterfaces:this.allowInternalNetworkInterfaces,timeout:this.options.dnsTimeout||VTe};this.options.localAddress&&(r.localAddress=this.options.localAddress);let i=()=>{this._connectionTimeout=setTimeout(()=>{this._onError("Connection timeout","ETIMEDOUT",!1,"CONN")},this.options.connectionTimeout||zTe),this._socket.on("error",this._onSocketError)};if(this.options.connection){this._socket=this.options.connection,this.secureConnection&&!this.alreadySecured?setImmediate(()=>this._upgradeConnection(n=>{if(n){this._onError(new Error("Error initiating TLS - "+(n.message||n)),"ETLS",!1,"CONN");return}this._onConnect()})):setImmediate(()=>this._onConnect());return}else return this.options.socket?(this._socket=this.options.socket,Ei.resolveHostname(r,(n,a)=>{if(n)return setImmediate(()=>this._onError(n,"EDNS",!1,"CONN"));this.logger.debug({tnx:"dns",source:r.host,resolved:a.host,cached:!!a.cached},"Resolved %s as %s [cache %s]",r.host,a.host,a.cached?"hit":"miss"),Object.keys(a).forEach(o=>{o.charAt(0)!=="_"&&a[o]&&(r[o]=a[o])});try{this._socket.connect(this.port,this.host,()=>{this._socket.setKeepAlive(!0),this._onConnect()}),i()}catch(o){return setImmediate(()=>this._onError(o,"ECONNECTION",!1,"CONN"))}})):this.secureConnection?(this.options.tls&&Object.keys(this.options.tls).forEach(n=>{r[n]=this.options.tls[n]}),Ei.resolveHostname(r,(n,a)=>{if(n)return setImmediate(()=>this._onError(n,"EDNS",!1,"CONN"));this.logger.debug({tnx:"dns",source:r.host,resolved:a.host,cached:!!a.cached},"Resolved %s as %s [cache %s]",r.host,a.host,a.cached?"hit":"miss"),Object.keys(a).forEach(o=>{o.charAt(0)!=="_"&&a[o]&&(r[o]=a[o])});try{this._socket=UH.connect(r,()=>{this._socket.setKeepAlive(!0),this._onConnect()}),i()}catch(o){return setImmediate(()=>this._onError(o,"ECONNECTION",!1,"CONN"))}})):Ei.resolveHostname(r,(n,a)=>{if(n)return setImmediate(()=>this._onError(n,"EDNS",!1,"CONN"));this.logger.debug({tnx:"dns",source:r.host,resolved:a.host,cached:!!a.cached},"Resolved %s as %s [cache %s]",r.host,a.host,a.cached?"hit":"miss"),Object.keys(a).forEach(o=>{o.charAt(0)!=="_"&&a[o]&&(r[o]=a[o])});try{this._socket=HTe.connect(r,()=>{this._socket.setKeepAlive(!0),this._onConnect()}),i()}catch(o){return setImmediate(()=>this._onError(o,"ECONNECTION",!1,"CONN"))}})}quit(){this._sendCommand("QUIT"),this._responseActions.push(this.close)}close(){if(clearTimeout(this._connectionTimeout),clearTimeout(this._greetingTimeout),this._responseActions=[],this._closing)return;this._closing=!0;let e="end";this.stage==="init"&&(e="destroy"),this.logger.debug({tnx:"smtp"},'Closing connection to the server using "%s"',e);let r=this._socket&&this._socket.socket||this._socket;if(r&&!r.destroyed)try{this._socket[e]()}catch{}this._destroy()}login(e,r){let i=this._isDestroyedMessage("login");if(i)return r(this._formatError(i,"ECONNECTION",!1,"API"));if(this._auth=e||{},this._authMethod=(this._auth.method||"").toString().trim().toUpperCase()||!1,!this._authMethod&&this._auth.oauth2&&!this._auth.credentials?this._authMethod="XOAUTH2":(!this._authMethod||this._authMethod==="XOAUTH2"&&!this._auth.oauth2)&&(this._authMethod=(this._supportedAuth[0]||"PLAIN").toUpperCase().trim()),this._authMethod!=="XOAUTH2"&&(!this._auth.credentials||!this._auth.credentials.user||!this._auth.credentials.pass))if(this._auth.user&&this._auth.pass||this.customAuth.has(this._authMethod))this._auth.credentials={user:this._auth.user,pass:this._auth.pass,options:this._auth.options};else return r(this._formatError('Missing credentials for "'+this._authMethod+'"',"EAUTH",!1,"API"));if(this.customAuth.has(this._authMethod)){let n=this.customAuth.get(this._authMethod),a,o=!1,u=()=>{o||(o=!0,this.logger.info({tnx:"smtp",username:this._auth.user,action:"authenticated",method:this._authMethod},"User %s authenticated",JSON.stringify(this._auth.user)),this.authenticated=!0,r(null,!0))},p=b=>{o||(o=!0,r(this._formatError(b,"EAUTH",a,"AUTH "+this._authMethod)))},_=n({auth:this._auth,method:this._authMethod,extensions:[].concat(this._supportedExtensions),authMethods:[].concat(this._supportedAuth),maxAllowedSize:this._maxAllowedSize||!1,sendCommand:(b,A)=>{let S;return A||(S=new Promise((C,N)=>{A=Ei.callbackPromise(C,N)})),this._responseActions.push(C=>{a=C;let N=C.match(/^(\d+)(?:\s(\d+\.\d+\.\d+))?\s/),L={command:b,response:C};N?(L.status=Number(N[1])||0,N[2]&&(L.code=N[2]),L.text=C.substr(N[0].length)):(L.text=C,L.status=0),A(null,L)}),setImmediate(()=>this._sendCommand(b)),S},resolve:u,reject:p});_&&typeof _.catch=="function"&&_.then(u).catch(p);return}switch(this._authMethod){case"XOAUTH2":this._handleXOauth2Token(!1,r);return;case"LOGIN":this._responseActions.push(n=>{this._actionAUTH_LOGIN_USER(n,r)}),this._sendCommand("AUTH LOGIN");return;case"PLAIN":this._responseActions.push(n=>{this._actionAUTHComplete(n,r)}),this._sendCommand("AUTH PLAIN "+Buffer.from("\0"+this._auth.credentials.user+"\0"+this._auth.credentials.pass,"utf-8").toString("base64"),"AUTH PLAIN "+Buffer.from("\0"+this._auth.credentials.user+"\0/* secret */","utf-8").toString("base64"));return;case"CRAM-MD5":this._responseActions.push(n=>{this._actionAUTH_CRAM_MD5(n,r)}),this._sendCommand("AUTH CRAM-MD5");return}return r(this._formatError('Unknown authentication method "'+this._authMethod+'"',"EAUTH",!1,"API"))}send(e,r,i){if(!r)return i(this._formatError("Empty message","EMESSAGE",!1,"API"));let n=this._isDestroyedMessage("send message");if(n)return i(this._formatError(n,"ECONNECTION",!1,"API"));if(this._maxAllowedSize&&e.size>this._maxAllowedSize)return setImmediate(()=>{i(this._formatError("Message size larger than allowed "+this._maxAllowedSize,"EMESSAGE",!1,"MAIL FROM"))});let a=!1,o=function(){a||(a=!0,i(...arguments))};typeof r.on=="function"&&r.on("error",p=>o(this._formatError(p,"ESTREAM",!1,"API")));let u=Date.now();this._setEnvelope(e,(p,_)=>{if(p)return o(p);let b=Date.now(),A=this._createSendStream((S,C)=>S?o(S):(_.envelopeTime=b-u,_.messageTime=Date.now()-b,_.messageSize=A.outByteCount,_.response=C,o(null,_)));typeof r.pipe=="function"?r.pipe(A):(A.write(r),A.end())})}reset(e){this._sendCommand("RSET"),this._responseActions.push(r=>r.charAt(0)!=="2"?e(this._formatError("Could not reset session state. response="+r,"EPROTOCOL",r,"RSET")):(this._envelope=!1,e(null,!0)))}_onConnect(){if(clearTimeout(this._connectionTimeout),this.logger.info({tnx:"network",localAddress:this._socket.localAddress,localPort:this._socket.localPort,remoteAddress:this._socket.remoteAddress,remotePort:this._socket.remotePort},"%s established to %s:%s",this.secure?"Secure connection":"Connection",this._socket.remoteAddress,this._socket.remotePort),this._destroyed){this.close();return}this.stage="connected",this._socket.removeListener("data",this._onSocketData),this._socket.removeListener("timeout",this._onSocketTimeout),this._socket.removeListener("close",this._onSocketClose),this._socket.removeListener("end",this._onSocketEnd),this._socket.on("data",this._onSocketData),this._socket.once("close",this._onSocketClose),this._socket.once("end",this._onSocketEnd),this._socket.setTimeout(this.options.socketTimeout||jH),this._socket.on("timeout",this._onSocketTimeout),this._greetingTimeout=setTimeout(()=>{this._socket&&!this._destroyed&&this._responseActions[0]===this._actionGreeting&&this._onError("Greeting never received","ETIMEDOUT",!1,"CONN")},this.options.greetingTimeout||WTe),this._responseActions.push(this._actionGreeting),this._socket.resume()}_onData(e){if(this._destroyed||!e||!e.length)return;let r=(e||"").toString("binary"),i=(this._remainder+r).split(/\r?\n/),n;this._remainder=i.pop();for(let a=0,o=i.length;a<o;a++){if(this._responseQueue.length&&(n=this._responseQueue[this._responseQueue.length-1],/^\d+-/.test(n.split(`
`).pop()))){this._responseQueue[this._responseQueue.length-1]+=`
`+i[a];continue}this._responseQueue.push(i[a])}this._responseQueue.length&&(n=this._responseQueue[this._responseQueue.length-1],/^\d+-/.test(n.split(`
`).pop()))||this._processResponse()}_onError(e,r,i,n){clearTimeout(this._connectionTimeout),clearTimeout(this._greetingTimeout),!this._destroyed&&(e=this._formatError(e,r,i,n),this.logger.error(i,e.message),this.emit("error",e),this.close())}_formatError(e,r,i,n){let a;/Error\]$/i.test(Object.prototype.toString.call(e))?a=e:a=new Error(e),r&&r!=="Error"&&(a.code=r),i&&(a.response=i,a.message+=": "+i);let o=typeof i=="string"&&Number((i.match(/^\d+/)||[])[0])||!1;return o&&(a.responseCode=o),n&&(a.command=n),a}_onClose(){let e=!1;if(this._remainder&&this._remainder.trim()&&((this.options.debug||this.options.transactionLog)&&this.logger.debug({tnx:"server"},this._remainder.replace(/\r?\n$/,"")),this.lastServerResponse=e=this._remainder.trim()),this.logger.info({tnx:"network"},"Connection closed"),this.upgrading&&!this._destroyed)return this._onError(new Error("Connection closed unexpectedly"),"ETLS",e,"CONN");if(![this._actionGreeting,this.close].includes(this._responseActions[0])&&!this._destroyed)return this._onError(new Error("Connection closed unexpectedly"),"ECONNECTION",e,"CONN");if(/^[45]\d{2}\b/.test(e))return this._onError(new Error("Connection closed unexpectedly"),"ECONNECTION",e,"CONN");this._destroy()}_onEnd(){this._socket&&!this._socket.destroyed&&this._socket.destroy()}_onTimeout(){return this._onError(new Error("Timeout"),"ETIMEDOUT",!1,"CONN")}_destroy(){this._destroyed||(this._destroyed=!0,this.emit("end"))}_upgradeConnection(e){this._socket.removeListener("data",this._onSocketData),this._socket.removeListener("timeout",this._onSocketTimeout);let r=this._socket,i={socket:this._socket,host:this.host};Object.keys(this.options.tls||{}).forEach(n=>{i[n]=this.options.tls[n]}),this.upgrading=!0;try{this._socket=UH.connect(i,()=>(this.secure=!0,this.upgrading=!1,this._socket.on("data",this._onSocketData),r.removeListener("close",this._onSocketClose),r.removeListener("end",this._onSocketEnd),e(null,!0)))}catch(n){return e(n)}this._socket.on("error",this._onSocketError),this._socket.once("close",this._onSocketClose),this._socket.once("end",this._onSocketEnd),this._socket.setTimeout(this.options.socketTimeout||jH),this._socket.on("timeout",this._onSocketTimeout),r.resume()}_processResponse(){if(!this._responseQueue.length)return!1;let e=this.lastServerResponse=(this._responseQueue.shift()||"").toString();if(/^\d+-/.test(e.split(`
`).pop()))return;(this.options.debug||this.options.transactionLog)&&this.logger.debug({tnx:"server"},e.replace(/\r?\n$/,"")),e.trim()||setImmediate(()=>this._processResponse());let r=this._responseActions.shift();if(typeof r=="function")r.call(this,e),setImmediate(()=>this._processResponse());else return this._onError(new Error("Unexpected Response"),"EPROTOCOL",e,"CONN")}_sendCommand(e,r){if(!this._destroyed){if(this._socket.destroyed)return this.close();(this.options.debug||this.options.transactionLog)&&this.logger.debug({tnx:"client"},(r||e||"").toString().replace(/\r?\n$/,"")),this._socket.write(Buffer.from(e+`\r
`,"utf-8"))}}_setEnvelope(e,r){let i=[],n=!1;if(this._envelope=e||{},this._envelope.from=(this._envelope.from&&this._envelope.from.address||this._envelope.from||"").toString().trim(),this._envelope.to=[].concat(this._envelope.to||[]).map(a=>(a&&a.address||a||"").toString().trim()),!this._envelope.to.length)return r(this._formatError("No recipients defined","EENVELOPE",!1,"API"));if(this._envelope.from&&/[\r\n<>]/.test(this._envelope.from))return r(this._formatError("Invalid sender "+JSON.stringify(this._envelope.from),"EENVELOPE",!1,"API"));/[\x80-\uFFFF]/.test(this._envelope.from)&&(n=!0);for(let a=0,o=this._envelope.to.length;a<o;a++){if(!this._envelope.to[a]||/[\r\n<>]/.test(this._envelope.to[a]))return r(this._formatError("Invalid recipient "+JSON.stringify(this._envelope.to[a]),"EENVELOPE",!1,"API"));/[\x80-\uFFFF]/.test(this._envelope.to[a])&&(n=!0)}if(this._envelope.rcptQueue=JSON.parse(JSON.stringify(this._envelope.to||[])),this._envelope.rejected=[],this._envelope.rejectedErrors=[],this._envelope.accepted=[],this._envelope.dsn)try{this._envelope.dsn=this._setDsnEnvelope(this._envelope.dsn)}catch(a){return r(this._formatError("Invalid DSN "+a.message,"EENVELOPE",!1,"API"))}this._responseActions.push(a=>{this._actionMAIL(a,r)}),n&&this._supportedExtensions.includes("SMTPUTF8")&&(i.push("SMTPUTF8"),this._usingSmtpUtf8=!0),this._envelope.use8BitMime&&this._supportedExtensions.includes("8BITMIME")&&(i.push("BODY=8BITMIME"),this._using8BitMime=!0),this._envelope.size&&this._supportedExtensions.includes("SIZE")&&i.push("SIZE="+this._envelope.size),this._envelope.dsn&&this._supportedExtensions.includes("DSN")&&(this._envelope.dsn.ret&&i.push("RET="+Ei.encodeXText(this._envelope.dsn.ret)),this._envelope.dsn.envid&&i.push("ENVID="+Ei.encodeXText(this._envelope.dsn.envid))),this._sendCommand("MAIL FROM:<"+this._envelope.from+">"+(i.length?" "+i.join(" "):""))}_setDsnEnvelope(e){let r=(e.ret||e.return||"").toString().toUpperCase()||null;if(r)switch(r){case"HDRS":case"HEADERS":r="HDRS";break;case"FULL":case"BODY":r="FULL";break}if(r&&!["FULL","HDRS"].includes(r))throw new Error("ret: "+JSON.stringify(r));let i=(e.envid||e.id||"").toString()||null,n=e.notify||null;if(n){typeof n=="string"&&(n=n.split(",")),n=n.map(p=>p.trim().toUpperCase());let o=["NEVER","SUCCESS","FAILURE","DELAY"];if(n.filter(p=>!o.includes(p)).length||n.length>1&&n.includes("NEVER"))throw new Error("notify: "+JSON.stringify(n.join(",")));n=n.join(",")}let a=(e.recipient||e.orcpt||"").toString()||null;return a&&a.indexOf(";")<0&&(a="rfc822;"+a),{ret:r,envid:i,notify:n,orcpt:a}}_getDsnRcptToArgs(){let e=[];return this._envelope.dsn&&this._supportedExtensions.includes("DSN")&&(this._envelope.dsn.notify&&e.push("NOTIFY="+Ei.encodeXText(this._envelope.dsn.notify)),this._envelope.dsn.orcpt&&e.push("ORCPT="+Ei.encodeXText(this._envelope.dsn.orcpt))),e.length?" "+e.join(" "):""}_createSendStream(e){let r=new GTe,i;return this.options.lmtp?this._envelope.accepted.forEach((n,a)=>{let o=a===this._envelope.accepted.length-1;this._responseActions.push(u=>{this._actionLMTPStream(n,o,u,e)})}):this._responseActions.push(n=>{this._actionSMTPStream(n,e)}),r.pipe(this._socket,{end:!1}),this.options.debug&&(i=new jTe,i.on("readable",()=>{let n;for(;n=i.read();)this.logger.debug({tnx:"message"},n.toString("binary").replace(/\r?\n$/,""))}),r.pipe(i)),r.once("end",()=>{this.logger.info({tnx:"message",inByteCount:r.inByteCount,outByteCount:r.outByteCount},"<%s bytes encoded mime message (source size %s bytes)>",r.outByteCount,r.inByteCount)}),r}_actionGreeting(e){if(clearTimeout(this._greetingTimeout),e.substr(0,3)!=="220"){this._onError(new Error("Invalid greeting. response="+e),"EPROTOCOL",e,"CONN");return}this.options.lmtp?(this._responseActions.push(this._actionLHLO),this._sendCommand("LHLO "+this.name)):(this._responseActions.push(this._actionEHLO),this._sendCommand("EHLO "+this.name))}_actionLHLO(e){if(e.charAt(0)!=="2"){this._onError(new Error("Invalid LHLO. response="+e),"EPROTOCOL",e,"LHLO");return}this._actionEHLO(e)}_actionEHLO(e){let r;if(e.substr(0,3)==="421"){this._onError(new Error("Server terminates connection. response="+e),"ECONNECTION",e,"EHLO");return}if(e.charAt(0)!=="2"){if(this.options.requireTLS){this._onError(new Error("EHLO failed but HELO does not support required STARTTLS. response="+e),"ECONNECTION",e,"EHLO");return}this._responseActions.push(this._actionHELO),this._sendCommand("HELO "+this.name);return}if(this._ehloLines=e.split(/\r?\n/).map(i=>i.replace(/^\d+[ -]/,"").trim()).filter(i=>i).slice(1),!this.secure&&!this.options.ignoreTLS&&(/[ -]STARTTLS\b/im.test(e)||this.options.requireTLS)){this._sendCommand("STARTTLS"),this._responseActions.push(this._actionSTARTTLS);return}/[ -]SMTPUTF8\b/im.test(e)&&this._supportedExtensions.push("SMTPUTF8"),/[ -]DSN\b/im.test(e)&&this._supportedExtensions.push("DSN"),/[ -]8BITMIME\b/im.test(e)&&this._supportedExtensions.push("8BITMIME"),/[ -]PIPELINING\b/im.test(e)&&this._supportedExtensions.push("PIPELINING"),/[ -]AUTH\b/i.test(e)&&(this.allowsAuth=!0),/[ -]AUTH(?:(\s+|=)[^\n]*\s+|\s+|=)PLAIN/i.test(e)&&this._supportedAuth.push("PLAIN"),/[ -]AUTH(?:(\s+|=)[^\n]*\s+|\s+|=)LOGIN/i.test(e)&&this._supportedAuth.push("LOGIN"),/[ -]AUTH(?:(\s+|=)[^\n]*\s+|\s+|=)CRAM-MD5/i.test(e)&&this._supportedAuth.push("CRAM-MD5"),/[ -]AUTH(?:(\s+|=)[^\n]*\s+|\s+|=)XOAUTH2/i.test(e)&&this._supportedAuth.push("XOAUTH2"),(r=e.match(/[ -]SIZE(?:[ \t]+(\d+))?/im))&&(this._supportedExtensions.push("SIZE"),this._maxAllowedSize=Number(r[1])||0),this.emit("connect")}_actionHELO(e){if(e.charAt(0)!=="2"){this._onError(new Error("Invalid HELO. response="+e),"EPROTOCOL",e,"HELO");return}this.allowsAuth=!0,this.emit("connect")}_actionSTARTTLS(e){if(e.charAt(0)!=="2"){if(this.options.opportunisticTLS)return this.logger.info({tnx:"smtp"},"Failed STARTTLS upgrade, continuing unencrypted"),this.emit("connect");this._onError(new Error("Error upgrading connection with STARTTLS"),"ETLS",e,"STARTTLS");return}this._upgradeConnection((r,i)=>{if(r){this._onError(new Error("Error initiating TLS - "+(r.message||r)),"ETLS",!1,"STARTTLS");return}this.logger.info({tnx:"smtp"},"Connection upgraded with STARTTLS"),i?this.options.lmtp?(this._responseActions.push(this._actionLHLO),this._sendCommand("LHLO "+this.name)):(this._responseActions.push(this._actionEHLO),this._sendCommand("EHLO "+this.name)):this.emit("connect")})}_actionAUTH_LOGIN_USER(e,r){if(!/^334[ -]/.test(e)){r(this._formatError('Invalid login sequence while waiting for "334 VXNlcm5hbWU6"',"EAUTH",e,"AUTH LOGIN"));return}this._responseActions.push(i=>{this._actionAUTH_LOGIN_PASS(i,r)}),this._sendCommand(Buffer.from(this._auth.credentials.user+"","utf-8").toString("base64"))}_actionAUTH_CRAM_MD5(e,r){let i=e.match(/^334\s+(.+)$/),n="";if(i)n=i[1];else return r(this._formatError("Invalid login sequence while waiting for server challenge string","EAUTH",e,"AUTH CRAM-MD5"));let a=Buffer.from(n,"base64").toString("ascii"),o=GH.createHmac("md5",this._auth.credentials.pass);o.update(a);let u=this._auth.credentials.user+" "+o.digest("hex");this._responseActions.push(p=>{this._actionAUTH_CRAM_MD5_PASS(p,r)}),this._sendCommand(Buffer.from(u).toString("base64"),Buffer.from(this._auth.credentials.user+" /* secret */").toString("base64"))}_actionAUTH_CRAM_MD5_PASS(e,r){if(!e.match(/^235\s+/))return r(this._formatError('Invalid login sequence while waiting for "235"',"EAUTH",e,"AUTH CRAM-MD5"));this.logger.info({tnx:"smtp",username:this._auth.user,action:"authenticated",method:this._authMethod},"User %s authenticated",JSON.stringify(this._auth.user)),this.authenticated=!0,r(null,!0)}_actionAUTH_LOGIN_PASS(e,r){if(!/^334[ -]/.test(e))return r(this._formatError('Invalid login sequence while waiting for "334 UGFzc3dvcmQ6"',"EAUTH",e,"AUTH LOGIN"));this._responseActions.push(i=>{this._actionAUTHComplete(i,r)}),this._sendCommand(Buffer.from((this._auth.credentials.pass||"").toString(),"utf-8").toString("base64"),Buffer.from("/* secret */","utf-8").toString("base64"))}_actionAUTHComplete(e,r,i){if(!i&&typeof r=="function"&&(i=r,r=!1),e.substr(0,3)==="334"){this._responseActions.push(n=>{r||this._authMethod!=="XOAUTH2"?this._actionAUTHComplete(n,!0,i):setImmediate(()=>this._handleXOauth2Token(!0,i))}),this._sendCommand("");return}if(e.charAt(0)!=="2")return this.logger.info({tnx:"smtp",username:this._auth.user,action:"authfail",method:this._authMethod},"User %s failed to authenticate",JSON.stringify(this._auth.user)),i(this._formatError("Invalid login","EAUTH",e,"AUTH "+this._authMethod));this.logger.info({tnx:"smtp",username:this._auth.user,action:"authenticated",method:this._authMethod},"User %s authenticated",JSON.stringify(this._auth.user)),this.authenticated=!0,i(null,!0)}_actionMAIL(e,r){let i,n;if(Number(e.charAt(0))!==2)return this._usingSmtpUtf8&&/^550 /.test(e)&&/[\x80-\uFFFF]/.test(this._envelope.from)?i="Internationalized mailbox name not allowed":i="Mail command failed",r(this._formatError(i,"EENVELOPE",e,"MAIL FROM"));if(this._envelope.rcptQueue.length)if(this._recipientQueue=[],this._supportedExtensions.includes("PIPELINING"))for(;this._envelope.rcptQueue.length;)n=this._envelope.rcptQueue.shift(),this._recipientQueue.push(n),this._responseActions.push(a=>{this._actionRCPT(a,r)}),this._sendCommand("RCPT TO:<"+n+">"+this._getDsnRcptToArgs());else n=this._envelope.rcptQueue.shift(),this._recipientQueue.push(n),this._responseActions.push(a=>{this._actionRCPT(a,r)}),this._sendCommand("RCPT TO:<"+n+">"+this._getDsnRcptToArgs());else return r(this._formatError("Can't send mail - no recipients defined","EENVELOPE",!1,"API"))}_actionRCPT(e,r){let i,n,a=this._recipientQueue.shift();if(Number(e.charAt(0))!==2?(this._usingSmtpUtf8&&/^553 /.test(e)&&/[\x80-\uFFFF]/.test(a)?i="Internationalized mailbox name not allowed":i="Recipient command failed",this._envelope.rejected.push(a),n=this._formatError(i,"EENVELOPE",e,"RCPT TO"),n.recipient=a,this._envelope.rejectedErrors.push(n)):this._envelope.accepted.push(a),!this._envelope.rcptQueue.length&&!this._recipientQueue.length)if(this._envelope.rejected.length<this._envelope.to.length)this._responseActions.push(o=>{this._actionDATA(o,r)}),this._sendCommand("DATA");else return n=this._formatError("Can't send mail - all recipients were rejected","EENVELOPE",e,"RCPT TO"),n.rejected=this._envelope.rejected,n.rejectedErrors=this._envelope.rejectedErrors,r(n);else this._envelope.rcptQueue.length&&(a=this._envelope.rcptQueue.shift(),this._recipientQueue.push(a),this._responseActions.push(o=>{this._actionRCPT(o,r)}),this._sendCommand("RCPT TO:<"+a+">"+this._getDsnRcptToArgs()))}_actionDATA(e,r){if(!/^[23]/.test(e))return r(this._formatError("Data command failed","EENVELOPE",e,"DATA"));let i={accepted:this._envelope.accepted,rejected:this._envelope.rejected};this._ehloLines&&this._ehloLines.length&&(i.ehlo=this._ehloLines),this._envelope.rejectedErrors.length&&(i.rejectedErrors=this._envelope.rejectedErrors),r(null,i)}_actionSMTPStream(e,r){return Number(e.charAt(0))!==2?r(this._formatError("Message failed","EMESSAGE",e,"DATA")):r(null,e)}_actionLMTPStream(e,r,i,n){let a;if(Number(i.charAt(0))!==2){a=this._formatError("Message failed for recipient "+e,"EMESSAGE",i,"DATA"),a.recipient=e,this._envelope.rejected.push(e),this._envelope.rejectedErrors.push(a);for(let o=0,u=this._envelope.accepted.length;o<u;o++)this._envelope.accepted[o]===e&&this._envelope.accepted.splice(o,1)}if(r)return n(null,i)}_handleXOauth2Token(e,r){this._auth.oauth2.getToken(e,(i,n)=>{if(i)return this.logger.info({tnx:"smtp",username:this._auth.user,action:"authfail",method:this._authMethod},"User %s failed to authenticate",JSON.stringify(this._auth.user)),r(this._formatError(i,"EAUTH",!1,"AUTH XOAUTH2"));this._responseActions.push(a=>{this._actionAUTHComplete(a,e,r)}),this._sendCommand("AUTH XOAUTH2 "+this._auth.oauth2.buildXOAuth2Token(n),"AUTH XOAUTH2 "+this._auth.oauth2.buildXOAuth2Token("/* secret */"))})}_isDestroyedMessage(e){if(this._destroyed)return"Cannot "+e+" - smtp connection is already destroyed.";if(this._socket){if(this._socket.destroyed)return"Cannot "+e+" - smtp connection socket is already destroyed.";if(!this._socket.writable)return"Cannot "+e+" - smtp connection socket is already half-closed."}}_getHostname(){let e;try{e=UTe.hostname()||""}catch{e="localhost"}return(!e||e.indexOf(".")<0)&&(e="[127.0.0.1]"),e.match(/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/)&&(e="["+e+"]"),e}};zH.exports=Zw});var Qw=l((fht,WH)=>{"use strict";var YTe=require("stream").Stream,XTe=Mu(),ZTe=require("crypto"),$Te=Ht(),$w=class extends YTe{constructor(e,r){if(super(),this.options=e||{},e&&e.serviceClient){if(!e.privateKey||!e.user){setImmediate(()=>this.emit("error",new Error('Options "privateKey" and "user" are required for service account!')));return}let i=Math.min(Math.max(Number(this.options.serviceRequestTimeout)||0,0),3600);this.options.serviceRequestTimeout=i||5*60}if(this.logger=$Te.getLogger({logger:r},{component:this.options.component||"OAuth2"}),this.provisionCallback=typeof this.options.provisionCallback=="function"?this.options.provisionCallback:!1,this.options.accessUrl=this.options.accessUrl||"https://accounts.google.com/o/oauth2/token",this.options.customHeaders=this.options.customHeaders||{},this.options.customParams=this.options.customParams||{},this.accessToken=this.options.accessToken||!1,this.options.expires&&Number(this.options.expires))this.expires=this.options.expires;else{let i=Math.max(Number(this.options.timeout)||0,0);this.expires=i&&Date.now()+i*1e3||0}}getToken(e,r){if(!e&&this.accessToken&&(!this.expires||this.expires>Date.now()))return r(null,this.accessToken);let i=(...n)=>{n[0]?this.logger.error({err:n[0],tnx:"OAUTH2",user:this.options.user,action:"renew"},"Failed generating new Access Token for %s",this.options.user):this.logger.info({tnx:"OAUTH2",user:this.options.user,action:"renew"},"Generated new Access Token for %s",this.options.user),r(...n)};this.provisionCallback?this.provisionCallback(this.options.user,!!e,(n,a,o)=>{!n&&a&&(this.accessToken=a,this.expires=o||0),i(n,a)}):this.generateToken(i)}updateToken(e,r){this.accessToken=e,r=Math.max(Number(r)||0,0),this.expires=r&&Date.now()+r*1e3||0,this.emit("token",{user:this.options.user,accessToken:e||"",expires:this.expires})}generateToken(e){let r,i;if(this.options.serviceClient){let n=Math.floor(Date.now()/1e3),a={iss:this.options.serviceClient,scope:this.options.scope||"https://mail.google.com/",sub:this.options.user,aud:this.options.accessUrl,iat:n,exp:n+this.options.serviceRequestTimeout},o;try{o=this.jwtSignRS256(a)}catch{return e(new Error("Can't generate token. Check your auth options"))}r={grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",assertion:o},i={grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",assertion:a}}else{if(!this.options.refreshToken)return e(new Error("Can't create new access token for user"));r={client_id:this.options.clientId||"",client_secret:this.options.clientSecret||"",refresh_token:this.options.refreshToken,grant_type:"refresh_token"},i={client_id:this.options.clientId||"",client_secret:(this.options.clientSecret||"").substr(0,6)+"...",refresh_token:(this.options.refreshToken||"").substr(0,6)+"...",grant_type:"refresh_token"}}Object.keys(this.options.customParams).forEach(n=>{r[n]=this.options.customParams[n],i[n]=this.options.customParams[n]}),this.logger.debug({tnx:"OAUTH2",user:this.options.user,action:"generate"},"Requesting token using: %s",JSON.stringify(i)),this.postRequest(this.options.accessUrl,r,this.options,(n,a)=>{let o;if(n)return e(n);try{o=JSON.parse(a.toString())}catch(p){return e(p)}if(!o||typeof o!="object")return this.logger.debug({tnx:"OAUTH2",user:this.options.user,action:"post"},"Response: %s",(a||"").toString()),e(new Error("Invalid authentication response"));let u={};if(Object.keys(o).forEach(p=>{p!=="access_token"?u[p]=o[p]:u[p]=(o[p]||"").toString().substr(0,6)+"..."}),this.logger.debug({tnx:"OAUTH2",user:this.options.user,action:"post"},"Response: %s",JSON.stringify(u)),o.error){let p=o.error;return o.error_description&&(p+=": "+o.error_description),o.error_uri&&(p+=" ("+o.error_uri+")"),e(new Error(p))}return o.access_token?(this.updateToken(o.access_token,o.expires_in),e(null,this.accessToken)):e(new Error("No access token"))})}buildXOAuth2Token(e){let r=["user="+(this.options.user||""),"auth=Bearer "+(e||this.accessToken),"",""];return Buffer.from(r.join(""),"utf-8").toString("base64")}postRequest(e,r,i,n){let a=!1,o=[],u=0,p=XTe(e,{method:"post",headers:i.customHeaders,body:r,allowErrorResponse:!0});p.on("readable",()=>{let _;for(;(_=p.read())!==null;)o.push(_),u+=_.length}),p.once("error",_=>{if(!a)return a=!0,n(_)}),p.once("end",()=>{if(!a)return a=!0,n(null,Buffer.concat(o,u))})}toBase64URL(e){return typeof e=="string"&&(e=Buffer.from(e)),e.toString("base64").replace(/[=]+/g,"").replace(/\+/g,"-").replace(/\//g,"_")}jwtSignRS256(e){e=['{"alg":"RS256","typ":"JWT"}',JSON.stringify(e)].map(i=>this.toBase64URL(i)).join(".");let r=ZTe.createSign("RSA-SHA256").update(e).sign(this.options.privateKey);return e+"."+this.toBase64URL(r)}};WH.exports=$w});var YH=l((pht,VH)=>{"use strict";var QTe=Av(),JTe=Ht().assign,eNe=Qw(),tNe=require("events"),Jw=class extends tNe{constructor(e){if(super(),this.pool=e,this.options=e.options,this.logger=this.pool.logger,this.options.auth)switch((this.options.auth.type||"").toString().toUpperCase()){case"OAUTH2":{let r=new eNe(this.options.auth,this.logger);r.provisionCallback=this.pool.mailer&&this.pool.mailer.get("oauth2_provision_cb")||r.provisionCallback,this.auth={type:"OAUTH2",user:this.options.auth.user,oauth2:r,method:"XOAUTH2"},r.on("token",i=>this.pool.mailer.emit("token",i)),r.on("error",i=>this.emit("error",i));break}default:if(!this.options.auth.user&&!this.options.auth.pass)break;this.auth={type:(this.options.auth.type||"").toString().toUpperCase()||"LOGIN",user:this.options.auth.user,credentials:{user:this.options.auth.user||"",pass:this.options.auth.pass,options:this.options.auth.options},method:(this.options.auth.method||"").trim().toUpperCase()||this.options.authMethod||!1}}this._connection=!1,this._connected=!1,this.messages=0,this.available=!0}connect(e){this.pool.getSocket(this.options,(r,i)=>{if(r)return e(r);let n=!1,a=this.options;i&&i.connection&&(this.logger.info({tnx:"proxy",remoteAddress:i.connection.remoteAddress,remotePort:i.connection.remotePort,destHost:a.host||"",destPort:a.port||"",action:"connected"},"Using proxied socket from %s:%s to %s:%s",i.connection.remoteAddress,i.connection.remotePort,a.host||"",a.port||""),a=JTe(!1,a),Object.keys(i).forEach(o=>{a[o]=i[o]})),this.connection=new QTe(a),this.connection.once("error",o=>{if(this.emit("error",o),!n)return n=!0,e(o)}),this.connection.once("end",()=>{if(this.close(),n)return;n=!0;let o=setTimeout(()=>{if(n)return;let u=new Error("Unexpected socket close");this.connection&&this.connection._socket&&this.connection._socket.upgrading&&(u.code="ETLS"),e(u)},1e3);try{o.unref()}catch{}}),this.connection.connect(()=>{if(!n)if(this.auth&&(this.connection.allowsAuth||a.forceAuth))this.connection.login(this.auth,o=>{if(!n){if(n=!0,o)return this.connection.close(),this.emit("error",o),e(o);this._connected=!0,e(null,!0)}});else return n=!0,this._connected=!0,e(null,!0)})})}send(e,r){if(!this._connected)return this.connect(o=>o?r(o):this.send(e,r));let i=e.message.getEnvelope(),n=e.message.messageId(),a=[].concat(i.to||[]);a.length>3&&a.push("...and "+a.splice(2).length+" more"),this.logger.info({tnx:"send",messageId:n,cid:this.id},"Sending message %s using #%s to <%s>",n,this.id,a.join(", ")),e.data.dsn&&(i.dsn=e.data.dsn),this.connection.send(i,e.message.createReadStream(),(o,u)=>{if(this.messages++,o)return this.connection.close(),this.emit("error",o),r(o);u.envelope={from:i.from,to:i.to},u.messageId=n,setImmediate(()=>{let p;this.messages>=this.options.maxMessages?(p=new Error("Resource exhausted"),p.code="EMAXLIMIT",this.connection.close(),this.emit("error",p)):this.pool._checkRateLimit(()=>{this.available=!0,this.emit("available")})}),r(null,u)})}close(){this._connected=!1,this.auth&&this.auth.oauth2&&this.auth.oauth2.removeAllListeners(),this.connection&&this.connection.close(),this.emit("close")}};VH.exports=Jw});var XH=l((dht,rNe)=>{rNe.exports={"1und1":{host:"smtp.1und1.de",port:465,secure:!0,authMethod:"LOGIN"},Aliyun:{domains:["aliyun.com"],host:"smtp.aliyun.com",port:465,secure:!0},AOL:{domains:["aol.com"],host:"smtp.aol.com",port:587},Bluewin:{host:"smtpauths.bluewin.ch",domains:["bluewin.ch"],port:465},DebugMail:{host:"debugmail.io",port:25},DynectEmail:{aliases:["Dynect"],host:"smtp.dynect.net",port:25},Ethereal:{aliases:["ethereal.email"],host:"smtp.ethereal.email",port:587},FastMail:{domains:["fastmail.fm"],host:"smtp.fastmail.com",port:465,secure:!0},"Forward Email":{aliases:["FE","ForwardEmail"],domains:["forwardemail.net"],host:"smtp.forwardemail.net",port:465,secure:!0},GandiMail:{aliases:["Gandi","Gandi Mail"],host:"mail.gandi.net",port:587},Gmail:{aliases:["Google Mail"],domains:["gmail.com","googlemail.com"],host:"smtp.gmail.com",port:465,secure:!0},Godaddy:{host:"smtpout.secureserver.net",port:25},GodaddyAsia:{host:"smtp.asia.secureserver.net",port:25},GodaddyEurope:{host:"smtp.europe.secureserver.net",port:25},"hot.ee":{host:"mail.hot.ee"},Hotmail:{aliases:["Outlook","Outlook.com","Hotmail.com"],domains:["hotmail.com","outlook.com"],host:"smtp-mail.outlook.com",port:587},iCloud:{aliases:["Me","Mac"],domains:["me.com","mac.com"],host:"smtp.mail.me.com",port:587},Infomaniak:{host:"mail.infomaniak.com",domains:["ik.me","ikmail.com","etik.com"],port:587},"mail.ee":{host:"smtp.mail.ee"},"Mail.ru":{host:"smtp.mail.ru",port:465,secure:!0},"Mailcatch.app":{host:"sandbox-smtp.mailcatch.app",port:2525},Maildev:{port:1025,ignoreTLS:!0},Mailgun:{host:"smtp.mailgun.org",port:465,secure:!0},Mailjet:{host:"in.mailjet.com",port:587},Mailosaur:{host:"mailosaur.io",port:25},Mailtrap:{host:"smtp.mailtrap.io",port:2525},Mandrill:{host:"smtp.mandrillapp.com",port:587},Naver:{host:"smtp.naver.com",port:587},One:{host:"send.one.com",port:465,secure:!0},OpenMailBox:{aliases:["OMB","openmailbox.org"],host:"smtp.openmailbox.org",port:465,secure:!0},Outlook365:{host:"smtp.office365.com",port:587,secure:!1},OhMySMTP:{host:"smtp.ohmysmtp.com",port:587,secure:!1},Postmark:{aliases:["PostmarkApp"],host:"smtp.postmarkapp.com",port:2525},"qiye.aliyun":{host:"smtp.mxhichina.com",port:"465",secure:!0},QQ:{domains:["qq.com"],host:"smtp.qq.com",port:465,secure:!0},QQex:{aliases:["QQ Enterprise"],domains:["exmail.qq.com"],host:"smtp.exmail.qq.com",port:465,secure:!0},SendCloud:{host:"smtp.sendcloud.net",port:2525},SendGrid:{host:"smtp.sendgrid.net",port:587},SendinBlue:{aliases:["Brevo"],host:"smtp-relay.brevo.com",port:587},SendPulse:{host:"smtp-pulse.com",port:465,secure:!0},SES:{host:"email-smtp.us-east-1.amazonaws.com",port:465,secure:!0},"SES-US-EAST-1":{host:"email-smtp.us-east-1.amazonaws.com",port:465,secure:!0},"SES-US-WEST-2":{host:"email-smtp.us-west-2.amazonaws.com",port:465,secure:!0},"SES-EU-WEST-1":{host:"email-smtp.eu-west-1.amazonaws.com",port:465,secure:!0},"SES-AP-SOUTH-1":{host:"email-smtp.ap-south-1.amazonaws.com",port:465,secure:!0},"SES-AP-NORTHEAST-1":{host:"email-smtp.ap-northeast-1.amazonaws.com",port:465,secure:!0},"SES-AP-NORTHEAST-2":{host:"email-smtp.ap-northeast-2.amazonaws.com",port:465,secure:!0},"SES-AP-NORTHEAST-3":{host:"email-smtp.ap-northeast-3.amazonaws.com",port:465,secure:!0},"SES-AP-SOUTHEAST-1":{host:"email-smtp.ap-southeast-1.amazonaws.com",port:465,secure:!0},"SES-AP-SOUTHEAST-2":{host:"email-smtp.ap-southeast-2.amazonaws.com",port:465,secure:!0},Sparkpost:{aliases:["SparkPost","SparkPost Mail"],domains:["sparkpost.com"],host:"smtp.sparkpostmail.com",port:587,secure:!1},Tipimail:{host:"smtp.tipimail.com",port:587},Yahoo:{domains:["yahoo.com"],host:"smtp.mail.yahoo.com",port:465,secure:!0},Yandex:{domains:["yandex.ru"],host:"smtp.yandex.ru",port:465,secure:!0},Zoho:{host:"smtp.zoho.com",port:465,secure:!0,authMethod:"LOGIN"},"126":{host:"smtp.126.com",port:465,secure:!0},"163":{host:"smtp.163.com",port:465,secure:!0}}});var tq=l((hht,$H)=>{"use strict";var ZH=XH(),Mv={};Object.keys(ZH).forEach(t=>{let e=ZH[t];Mv[Sv(t)]=eq(e),[].concat(e.aliases||[]).forEach(r=>{Mv[Sv(r)]=eq(e)}),[].concat(e.domains||[]).forEach(r=>{Mv[Sv(r)]=eq(e)})});function Sv(t){return t.replace(/[^a-zA-Z0-9.-]/g,"").toLowerCase()}function eq(t){let e=["domains","aliases"],r={};return Object.keys(t).forEach(i=>{e.indexOf(i)<0&&(r[i]=t[i])}),r}$H.exports=function(t){return t=Sv(t.split("@").pop()),Mv[t]||!1}});var tU=l((mht,eU)=>{"use strict";var iNe=require("events"),QH=YH(),JH=Av(),nNe=tq(),Nu=Ht(),aNe=Dr(),rq=class extends iNe{constructor(e){super(),e=e||{},typeof e=="string"&&(e={url:e});let r,i=e.service;typeof e.getSocket=="function"&&(this.getSocket=e.getSocket),e.url&&(r=Nu.parseConnectionUrl(e.url),i=i||r.service),this.options=Nu.assign(!1,e,r,i&&nNe(i)),this.options.maxConnections=this.options.maxConnections||5,this.options.maxMessages=this.options.maxMessages||100,this.logger=Nu.getLogger(this.options,{component:this.options.component||"smtp-pool"});let n=new JH(this.options);this.name="SMTP (pool)",this.version=aNe.version+"[client:"+n.version+"]",this._rateLimit={counter:0,timeout:null,waiting:[],checkpoint:!1,delta:Number(this.options.rateDelta)||1e3,limit:Number(this.options.rateLimit)||0},this._closed=!1,this._queue=[],this._connections=[],this._connectionCounter=0,this.idling=!0,setImmediate(()=>{this.idling&&this.emit("idle")})}getSocket(e,r){return setImmediate(()=>r(null,!1))}send(e,r){return this._closed?!1:(this._queue.push({mail:e,requeueAttempts:0,callback:r}),this.idling&&this._queue.length>=this.options.maxConnections&&(this.idling=!1),setImmediate(()=>this._processMessages()),!0)}close(){let e,r=this._connections.length;if(this._closed=!0,clearTimeout(this._rateLimit.timeout),!r&&!this._queue.length)return;for(let n=r-1;n>=0;n--)this._connections[n]&&this._connections[n].available&&(e=this._connections[n],e.close(),this.logger.info({tnx:"connection",cid:e.id,action:"removed"},"Connection #%s removed",e.id));if(r&&!this._connections.length&&this.logger.debug({tnx:"connection"},"All connections removed"),!this._queue.length)return;let i=()=>{if(!this._queue.length){this.logger.debug({tnx:"connection"},"Pending queue entries cleared");return}let n=this._queue.shift();if(n&&typeof n.callback=="function")try{n.callback(new Error("Connection pool was closed"))}catch(a){this.logger.error({err:a,tnx:"callback",cid:e.id},"Callback error for #%s: %s",e.id,a.message)}setImmediate(i)};setImmediate(i)}_processMessages(){let e,r,i;if(this._closed)return;if(!this._queue.length){this.idling||(this.idling=!0,this.emit("idle"));return}for(r=0,i=this._connections.length;r<i;r++)if(this._connections[r].available){e=this._connections[r];break}if(!e&&this._connections.length<this.options.maxConnections&&(e=this._createConnection()),!e){this.idling=!1;return}!this.idling&&this._queue.length<this.options.maxConnections&&(this.idling=!0,this.emit("idle"));let n=e.queueEntry=this._queue.shift();n.messageId=(e.queueEntry.mail.message.getHeader("message-id")||"").replace(/[<>\s]/g,""),e.available=!1,this.logger.debug({tnx:"pool",cid:e.id,messageId:n.messageId,action:"assign"},"Assigned message <%s> to #%s (%s)",n.messageId,e.id,e.messages+1),this._rateLimit.limit&&(this._rateLimit.counter++,this._rateLimit.checkpoint||(this._rateLimit.checkpoint=Date.now())),e.send(n.mail,(a,o)=>{if(n===e.queueEntry){try{n.callback(a,o)}catch(u){this.logger.error({err:u,tnx:"callback",cid:e.id},"Callback error for #%s: %s",e.id,u.message)}e.queueEntry=!1}})}_createConnection(){let e=new QH(this);return e.id=++this._connectionCounter,this.logger.info({tnx:"pool",cid:e.id,action:"conection"},"Created new pool resource #%s",e.id),e.on("available",()=>{this.logger.debug({tnx:"connection",cid:e.id,action:"available"},"Connection #%s became available",e.id),this._closed?this.close():this._processMessages()}),e.once("error",r=>{if(r.code!=="EMAXLIMIT"?this.logger.error({err:r,tnx:"pool",cid:e.id},"Pool Error for #%s: %s",e.id,r.message):this.logger.debug({tnx:"pool",cid:e.id,action:"maxlimit"},"Max messages limit exchausted for #%s",e.id),e.queueEntry){try{e.queueEntry.callback(r)}catch(i){this.logger.error({err:i,tnx:"callback",cid:e.id},"Callback error for #%s: %s",e.id,i.message)}e.queueEntry=!1}this._removeConnection(e),this._continueProcessing()}),e.once("close",()=>{this.logger.info({tnx:"connection",cid:e.id,action:"closed"},"Connection #%s was closed",e.id),this._removeConnection(e),e.queueEntry?setTimeout(()=>{e.queueEntry&&(this._shouldRequeuOnConnectionClose(e.queueEntry)?this._requeueEntryOnConnectionClose(e):this._failDeliveryOnConnectionClose(e)),this._continueProcessing()},50):this._continueProcessing()}),this._connections.push(e),e}_shouldRequeuOnConnectionClose(e){return this.options.maxRequeues===void 0||this.options.maxRequeues<0?!0:e.requeueAttempts<this.options.maxRequeues}_failDeliveryOnConnectionClose(e){if(e.queueEntry&&e.queueEntry.callback){try{e.queueEntry.callback(new Error("Reached maximum number of retries after connection was closed"))}catch(r){this.logger.error({err:r,tnx:"callback",messageId:e.queueEntry.messageId,cid:e.id},"Callback error for #%s: %s",e.id,r.message)}e.queueEntry=!1}}_requeueEntryOnConnectionClose(e){e.queueEntry.requeueAttempts=e.queueEntry.requeueAttempts+1,this.logger.debug({tnx:"pool",cid:e.id,messageId:e.queueEntry.messageId,action:"requeue"},"Re-queued message <%s> for #%s. Attempt: #%s",e.queueEntry.messageId,e.id,e.queueEntry.requeueAttempts),this._queue.unshift(e.queueEntry),e.queueEntry=!1}_continueProcessing(){this._closed?this.close():setTimeout(()=>this._processMessages(),100)}_removeConnection(e){let r=this._connections.indexOf(e);r!==-1&&this._connections.splice(r,1)}_checkRateLimit(e){if(!this._rateLimit.limit)return e();let r=Date.now();if(this._rateLimit.counter<this._rateLimit.limit)return e();if(this._rateLimit.waiting.push(e),this._rateLimit.checkpoint<=r-this._rateLimit.delta)return this._clearRateLimit();this._rateLimit.timeout||(this._rateLimit.timeout=setTimeout(()=>this._clearRateLimit(),this._rateLimit.delta-(r-this._rateLimit.checkpoint)),this._rateLimit.checkpoint=r)}_clearRateLimit(){for(clearTimeout(this._rateLimit.timeout),this._rateLimit.timeout=null,this._rateLimit.counter=0,this._rateLimit.checkpoint=!1;this._rateLimit.waiting.length;){let e=this._rateLimit.waiting.shift();setImmediate(e)}}isIdle(){return this.idling}verify(e){let r;e||(r=new Promise((n,a)=>{e=Nu.callbackPromise(n,a)}));let i=new QH(this).auth;return this.getSocket(this.options,(n,a)=>{if(n)return e(n);let o=this.options;a&&a.connection&&(this.logger.info({tnx:"proxy",remoteAddress:a.connection.remoteAddress,remotePort:a.connection.remotePort,destHost:o.host||"",destPort:o.port||"",action:"connected"},"Using proxied socket from %s:%s to %s:%s",a.connection.remoteAddress,a.connection.remotePort,o.host||"",o.port||""),o=Nu.assign(!1,o),Object.keys(a).forEach(b=>{o[b]=a[b]}));let u=new JH(o),p=!1;u.once("error",b=>{if(!p)return p=!0,u.close(),e(b)}),u.once("end",()=>{if(!p)return p=!0,e(new Error("Connection closed"))});let _=()=>{if(!p)return p=!0,u.quit(),e(null,!0)};u.connect(()=>{if(!p)if(i&&(u.allowsAuth||o.forceAuth))u.login(i,b=>{if(!p){if(b)return p=!0,u.close(),e(b);_()}});else if(!i&&u.allowsAuth&&o.forceAuth){let b=new Error("Authentication info was not provided");return b.code="NoAuth",p=!0,u.close(),e(b)}else _()})}),r}};eU.exports=rq});var iU=l((vht,rU)=>{"use strict";var oNe=require("events"),iq=Av(),sNe=tq(),Mo=Ht(),uNe=Qw(),lNe=Dr(),nq=class extends oNe{constructor(e){super(),e=e||{},typeof e=="string"&&(e={url:e});let r,i=e.service;typeof e.getSocket=="function"&&(this.getSocket=e.getSocket),e.url&&(r=Mo.parseConnectionUrl(e.url),i=i||r.service),this.options=Mo.assign(!1,e,r,i&&sNe(i)),this.logger=Mo.getLogger(this.options,{component:this.options.component||"smtp-transport"});let n=new iq(this.options);this.name="SMTP",this.version=lNe.version+"[client:"+n.version+"]",this.options.auth&&(this.auth=this.getAuth({}))}getSocket(e,r){return setImmediate(()=>r(null,!1))}getAuth(e){if(!e)return this.auth;let r=!1,i={};if(this.options.auth&&typeof this.options.auth=="object"&&Object.keys(this.options.auth).forEach(n=>{r=!0,i[n]=this.options.auth[n]}),e&&typeof e=="object"&&Object.keys(e).forEach(n=>{r=!0,i[n]=e[n]}),!r)return!1;switch((i.type||"").toString().toUpperCase()){case"OAUTH2":{if(!i.service&&!i.user)return!1;let n=new uNe(i,this.logger);return n.provisionCallback=this.mailer&&this.mailer.get("oauth2_provision_cb")||n.provisionCallback,n.on("token",a=>this.mailer.emit("token",a)),n.on("error",a=>this.emit("error",a)),{type:"OAUTH2",user:i.user,oauth2:n,method:"XOAUTH2"}}default:return{type:(i.type||"").toString().toUpperCase()||"LOGIN",user:i.user,credentials:{user:i.user||"",pass:i.pass,options:i.options},method:(i.method||"").trim().toUpperCase()||this.options.authMethod||!1}}}send(e,r){this.getSocket(this.options,(i,n)=>{if(i)return r(i);let a=!1,o=this.options;n&&n.connection&&(this.logger.info({tnx:"proxy",remoteAddress:n.connection.remoteAddress,remotePort:n.connection.remotePort,destHost:o.host||"",destPort:o.port||"",action:"connected"},"Using proxied socket from %s:%s to %s:%s",n.connection.remoteAddress,n.connection.remotePort,o.host||"",o.port||""),o=Mo.assign(!1,o),Object.keys(n).forEach(_=>{o[_]=n[_]}));let u=new iq(o);u.once("error",_=>{if(!a)return a=!0,u.close(),r(_)}),u.once("end",()=>{if(a)return;let _=setTimeout(()=>{if(a)return;a=!0;let b=new Error("Unexpected socket close");u&&u._socket&&u._socket.upgrading&&(b.code="ETLS"),r(b)},1e3);try{_.unref()}catch{}});let p=()=>{let _=e.message.getEnvelope(),b=e.message.messageId(),A=[].concat(_.to||[]);A.length>3&&A.push("...and "+A.splice(2).length+" more"),e.data.dsn&&(_.dsn=e.data.dsn),this.logger.info({tnx:"send",messageId:b},"Sending message %s to <%s>",b,A.join(", ")),u.send(_,e.message.createReadStream(),(S,C)=>{if(a=!0,u.close(),S)return this.logger.error({err:S,tnx:"send"},"Send error for %s: %s",b,S.message),r(S);C.envelope={from:_.from,to:_.to},C.messageId=b;try{return r(null,C)}catch(N){this.logger.error({err:N,tnx:"callback"},"Callback error for %s: %s",b,N.message)}})};u.connect(()=>{if(a)return;let _=this.getAuth(e.data.auth);_&&(u.allowsAuth||o.forceAuth)?u.login(_,b=>{if(_&&_!==this.auth&&_.oauth2&&_.oauth2.removeAllListeners(),!a){if(b)return a=!0,u.close(),r(b);p()}}):p()})})}verify(e){let r;return e||(r=new Promise((i,n)=>{e=Mo.callbackPromise(i,n)})),this.getSocket(this.options,(i,n)=>{if(i)return e(i);let a=this.options;n&&n.connection&&(this.logger.info({tnx:"proxy",remoteAddress:n.connection.remoteAddress,remotePort:n.connection.remotePort,destHost:a.host||"",destPort:a.port||"",action:"connected"},"Using proxied socket from %s:%s to %s:%s",n.connection.remoteAddress,n.connection.remotePort,a.host||"",a.port||""),a=Mo.assign(!1,a),Object.keys(n).forEach(_=>{a[_]=n[_]}));let o=new iq(a),u=!1;o.once("error",_=>{if(!u)return u=!0,o.close(),e(_)}),o.once("end",()=>{if(!u)return u=!0,e(new Error("Connection closed"))});let p=()=>{if(!u)return u=!0,o.quit(),e(null,!0)};o.connect(()=>{if(u)return;let _=this.getAuth({});if(_&&(o.allowsAuth||a.forceAuth))o.login(_,b=>{if(!u){if(b)return u=!0,o.close(),e(b);p()}});else if(!_&&o.allowsAuth&&a.forceAuth){let b=new Error("Authentication info was not provided");return b.code="NoAuth",u=!0,o.close(),e(b)}else p()})}),r}close(){this.auth&&this.auth.oauth2&&this.auth.oauth2.removeAllListeners(),this.emit("close")}};rU.exports=nq});var aU=l((yht,nU)=>{"use strict";var cNe=require("child_process").spawn,fNe=Dr(),pNe=Ht(),aq=class{constructor(e){e=e||{},this._spawn=cNe,this.options=e||{},this.name="Sendmail",this.version=fNe.version,this.path="sendmail",this.args=!1,this.winbreak=!1,this.logger=pNe.getLogger(this.options,{component:this.options.component||"sendmail"}),e&&(typeof e=="string"?this.path=e:typeof e=="object"&&(e.path&&(this.path=e.path),Array.isArray(e.args)&&(this.args=e.args),this.winbreak=["win","windows","dos",`\r
`].includes((e.newline||"").toString().toLowerCase())))}send(e,r){e.message.keepBcc=!0;let i=e.data.envelope||e.message.getEnvelope(),n=e.message.messageId(),a,o,u;if([].concat(i.from||[]).concat(i.to||[]).some(b=>/^-/.test(b)))return r(new Error("Can not send mail. Invalid envelope addresses."));this.args?a=["-i"].concat(this.args).concat(i.to):a=["-i"].concat(i.from?["-f",i.from]:[]).concat(i.to);let _=b=>{if(!u&&(u=!0,typeof r=="function"))return b?r(b):r(null,{envelope:e.data.envelope||e.message.getEnvelope(),messageId:n,response:"Messages queued for delivery"})};try{o=this._spawn(this.path,a)}catch(b){return this.logger.error({err:b,tnx:"spawn",messageId:n},"Error occurred while spawning sendmail. %s",b.message),_(b)}if(o){o.on("error",S=>{this.logger.error({err:S,tnx:"spawn",messageId:n},"Error occurred when sending message %s. %s",n,S.message),_(S)}),o.once("exit",S=>{if(!S)return _();let C;S===127?C=new Error("Sendmail command not found, process exited with code "+S):C=new Error("Sendmail exited with code "+S),this.logger.error({err:C,tnx:"stdin",messageId:n},"Error sending message %s to sendmail. %s",n,C.message),_(C)}),o.once("close",_),o.stdin.on("error",S=>{this.logger.error({err:S,tnx:"stdin",messageId:n},"Error occurred when piping message %s to sendmail. %s",n,S.message),_(S)});let b=[].concat(i.to||[]);b.length>3&&b.push("...and "+b.splice(2).length+" more"),this.logger.info({tnx:"send",messageId:n},"Sending message %s to <%s>",n,b.join(", "));let A=e.message.createReadStream();A.once("error",S=>{this.logger.error({err:S,tnx:"stdin",messageId:n},"Error occurred when generating message %s. %s",n,S.message),o.kill("SIGINT"),_(S)}),A.pipe(o.stdin)}else return _(new Error("sendmail was not found"))}};nU.exports=aq});var sU=l((_ht,oU)=>{"use strict";var dNe=Dr(),hNe=Ht(),oq=class{constructor(e){e=e||{},this.options=e||{},this.name="StreamTransport",this.version=dNe.version,this.logger=hNe.getLogger(this.options,{component:this.options.component||"stream-transport"}),this.winbreak=["win","windows","dos",`\r
`].includes((e.newline||"").toString().toLowerCase())}send(e,r){e.message.keepBcc=!0;let i=e.data.envelope||e.message.getEnvelope(),n=e.message.messageId(),a=[].concat(i.to||[]);a.length>3&&a.push("...and "+a.splice(2).length+" more"),this.logger.info({tnx:"send",messageId:n},"Sending message %s to <%s> using %s line breaks",n,a.join(", "),this.winbreak?"<CR><LF>":"<LF>"),setImmediate(()=>{let o;try{o=e.message.createReadStream()}catch(_){return this.logger.error({err:_,tnx:"send",messageId:n},"Creating send stream failed for %s. %s",n,_.message),r(_)}if(!this.options.buffer)return o.once("error",_=>{this.logger.error({err:_,tnx:"send",messageId:n},"Failed creating message for %s. %s",n,_.message)}),r(null,{envelope:e.data.envelope||e.message.getEnvelope(),messageId:n,message:o});let u=[],p=0;o.on("readable",()=>{let _;for(;(_=o.read())!==null;)u.push(_),p+=_.length}),o.once("error",_=>(this.logger.error({err:_,tnx:"send",messageId:n},"Failed creating message for %s. %s",n,_.message),r(_))),o.on("end",()=>r(null,{envelope:e.data.envelope||e.message.getEnvelope(),messageId:n,message:Buffer.concat(u,p)}))})}};oU.exports=oq});var lU=l((ght,uU)=>{"use strict";var mNe=Dr(),vNe=Ht(),sq=class{constructor(e){e=e||{},this.options=e||{},this.name="JSONTransport",this.version=mNe.version,this.logger=vNe.getLogger(this.options,{component:this.options.component||"json-transport"})}send(e,r){e.message.keepBcc=!0;let i=e.data.envelope||e.message.getEnvelope(),n=e.message.messageId(),a=[].concat(i.to||[]);a.length>3&&a.push("...and "+a.splice(2).length+" more"),this.logger.info({tnx:"send",messageId:n},"Composing JSON structure of %s to <%s>",n,a.join(", ")),setImmediate(()=>{e.normalize((o,u)=>o?(this.logger.error({err:o,tnx:"send",messageId:n},"Failed building JSON structure for %s. %s",n,o.message),r(o)):(delete u.envelope,delete u.normalizedHeaders,r(null,{envelope:i,messageId:n,message:this.options.skipEncoding?u:JSON.stringify(u)})))})}};uU.exports=sq});var pU=l((xht,fU)=>{"use strict";var yNe=require("events"),_Ne=Dr(),cU=Ht(),gNe=Nw(),uq=class extends yNe{constructor(e){super(),e=e||{},this.options=e||{},this.ses=this.options.SES,this.name="SESTransport",this.version=_Ne.version,this.logger=cU.getLogger(this.options,{component:this.options.component||"ses-transport"}),this.maxConnections=Number(this.options.maxConnections)||1/0,this.connections=0,this.sendingRate=Number(this.options.sendingRate)||1/0,this.sendingRateTTL=null,this.rateInterval=1e3,this.rateMessages=[],this.pending=[],this.idling=!0,setImmediate(()=>{this.idling&&this.emit("idle")})}send(e,r){if(this.connections>=this.maxConnections)return this.idling=!1,this.pending.push({mail:e,callback:r});if(!this._checkSendingRate())return this.idling=!1,this.pending.push({mail:e,callback:r});this._send(e,(...i)=>{setImmediate(()=>r(...i)),this._sent()})}_checkRatedQueue(){if(this.connections>=this.maxConnections||!this._checkSendingRate())return;if(!this.pending.length){this.idling||(this.idling=!0,this.emit("idle"));return}let e=this.pending.shift();this._send(e.mail,(...r)=>{setImmediate(()=>e.callback(...r)),this._sent()})}_checkSendingRate(){clearTimeout(this.sendingRateTTL);let e=Date.now(),r=!1;for(let n=this.rateMessages.length-1;n>=0;n--)this.rateMessages[n].ts>=e-this.rateInterval&&(!r||this.rateMessages[n].ts<r)&&(r=this.rateMessages[n].ts),this.rateMessages[n].ts<e-this.rateInterval&&!this.rateMessages[n].pending&&this.rateMessages.splice(n,1);if(this.rateMessages.length<this.sendingRate)return!0;let i=Math.max(r+1001,e+20);this.sendingRateTTL=setTimeout(()=>this._checkRatedQueue(),e-i);try{this.sendingRateTTL.unref()}catch{}return!1}_sent(){this.connections--,this._checkRatedQueue()}isIdle(){return this.idling}_send(e,r){let i={ts:Date.now(),pending:!0};this.connections++,this.rateMessages.push(i);let n=e.data.envelope||e.message.getEnvelope(),a=e.message.messageId(),o=[].concat(n.to||[]);o.length>3&&o.push("...and "+o.splice(2).length+" more"),this.logger.info({tnx:"send",messageId:a},"Sending message %s to <%s>",a,o.join(", "));let u=p=>{e.data._dkim||(e.data._dkim={}),e.data._dkim.skipFields&&typeof e.data._dkim.skipFields=="string"?e.data._dkim.skipFields+=":date:message-id":e.data._dkim.skipFields="date:message-id";let _=e.message.createReadStream(),b=_.pipe(new gNe),A=[],S=0;b.on("readable",()=>{let C;for(;(C=b.read())!==null;)A.push(C),S+=C.length}),_.once("error",C=>b.emit("error",C)),b.once("error",C=>{p(C)}),b.once("end",()=>p(null,Buffer.concat(A,S)))};setImmediate(()=>u((p,_)=>{if(p)return this.logger.error({err:p,tnx:"send",messageId:a},"Failed creating message for %s. %s",a,p.message),i.pending=!1,r(p);let b={RawMessage:{Data:_},Source:n.from,Destinations:n.to};Object.keys(e.data.ses||{}).forEach(N=>{b[N]=e.data.ses[N]});let A=(this.ses.aws?this.ses.ses:this.ses)||{},S=this.ses.aws||{};(N=>A.config&&typeof A.config.region=="function"?A.config.region().then(L=>N(null,L)).catch(L=>N(L)):N(null,A.config&&A.config.region||"us-east-1"))((N,L)=>{(N||!L)&&(L="us-east-1");let B;typeof A.send=="function"&&S.SendRawEmailCommand?B=A.send(new S.SendRawEmailCommand(b)):B=A.sendRawEmail(b).promise(),B.then(R=>{L==="us-east-1"&&(L="email"),i.pending=!1,r(null,{envelope:{from:n.from,to:n.to},messageId:"<"+R.MessageId+(/@/.test(R.MessageId)?"":"@"+L+".amazonses.com")+">",response:R.MessageId,raw:_})}).catch(R=>{this.logger.error({err:R,tnx:"send"},"Send error for %s: %s",a,R.message),i.pending=!1,r(R)})})}))}verify(e){let r,i=(this.ses.aws?this.ses.ses:this.ses)||{},n=this.ses.aws||{},a={RawMessage:{Data:`From: invalid@invalid\r
To: invalid@invalid\r
 Subject: Invalid\r
\r
Invalid`},Source:"invalid@invalid",Destinations:["invalid@invalid"]};e||(r=new Promise((u,p)=>{e=cU.callbackPromise(u,p)}));let o=u=>u&&(u.code||u.Code)!=="InvalidParameterValue"?e(u):e(null,!0);return typeof i.send=="function"&&n.SendRawEmailCommand?(a.RawMessage.Data=Buffer.from(a.RawMessage.Data),i.send(new n.SendRawEmailCommand(a),o)):i.sendRawEmail(a,o),r}};fU.exports=uq});var mU=l((wht,Iv)=>{"use strict";var xNe=FH(),hU=Ht(),wNe=tU(),qNe=iU(),bNe=aU(),ENe=sU(),ANe=lU(),MNe=pU(),SNe=Mu(),dU=Dr(),INe=(process.env.ETHEREAL_API||"https://api.nodemailer.com").replace(/\/+$/,""),ONe=(process.env.ETHEREAL_WEB||"https://ethereal.email").replace(/\/+$/,""),PNe=["true","yes","y","1"].includes((process.env.ETHEREAL_CACHE||"yes").toString().trim().toLowerCase()),Cu=!1;Iv.exports.createTransport=function(t,e){let r,i,n;return(typeof t=="object"&&typeof t.send!="function"||typeof t=="string"&&/^(smtps?|direct):/i.test(t))&&((r=typeof t=="string"?t:t.url)?i=hU.parseConnectionUrl(r):i=t,i.pool?t=new wNe(i):i.sendmail?t=new bNe(i):i.streamTransport?t=new ENe(i):i.jsonTransport?t=new ANe(i):i.SES?t=new MNe(i):t=new qNe(i)),n=new xNe(t,i,e),n};Iv.exports.createTestAccount=function(t,e){let r;if(!e&&typeof t=="function"&&(e=t,t=!1),e||(r=new Promise((o,u)=>{e=hU.callbackPromise(o,u)})),PNe&&Cu)return setImmediate(()=>e(null,Cu)),r;t=t||INe;let i=[],n=0,a=SNe(t+"/user",{contentType:"application/json",method:"POST",body:Buffer.from(JSON.stringify({requestor:dU.name,version:dU.version}))});return a.on("readable",()=>{let o;for(;(o=a.read())!==null;)i.push(o),n+=o.length}),a.once("error",o=>e(o)),a.once("end",()=>{let o=Buffer.concat(i,n),u,p;try{u=JSON.parse(o.toString())}catch(_){p=_}if(p)return e(p);if(u.status!=="success"||u.error)return e(new Error(u.error||"Request failed"));delete u.status,Cu=u,e(null,Cu)}),r};Iv.exports.getTestMessageUrl=function(t){if(!t||!t.response)return!1;let e=new Map;return t.response.replace(/\[([^\]]+)\]$/,(r,i)=>{i.replace(/\b([A-Z0-9]+)=([^\s]+)/g,(n,a,o)=>{e.set(a,o)})}),e.has("STATUS")&&e.has("MSGID")?(Cu.web||ONe)+"/message/"+e.get("MSGID"):!1}});var GNe={};IU(GNe,{handleInvoke:()=>qU});module.exports=OU(GNe);var PU=function(){return!0},Dv=PU;function Ye(t){return t!=null&&typeof t=="object"&&t["@@functional/placeholder"]===!0}function j(t){return function e(r){return arguments.length===0||Ye(r)?e:t.apply(this,arguments)}}function D(t){return function e(r,i){switch(arguments.length){case 0:return e;case 1:return Ye(r)?e:j(function(n){return t(r,n)});default:return Ye(r)&&Ye(i)?e:Ye(r)?j(function(n){return t(n,i)}):Ye(i)?j(function(n){return t(r,n)}):t(r,i)}}}function Ut(t,e){t=t||[],e=e||[];var r,i=t.length,n=e.length,a=[];for(r=0;r<i;)a[a.length]=t[r],r+=1;for(r=0;r<n;)a[a.length]=e[r],r+=1;return a}function Tt(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(r){return e.apply(this,arguments)};case 2:return function(r,i){return e.apply(this,arguments)};case 3:return function(r,i,n){return e.apply(this,arguments)};case 4:return function(r,i,n,a){return e.apply(this,arguments)};case 5:return function(r,i,n,a,o){return e.apply(this,arguments)};case 6:return function(r,i,n,a,o,u){return e.apply(this,arguments)};case 7:return function(r,i,n,a,o,u,p){return e.apply(this,arguments)};case 8:return function(r,i,n,a,o,u,p,_){return e.apply(this,arguments)};case 9:return function(r,i,n,a,o,u,p,_,b){return e.apply(this,arguments)};case 10:return function(r,i,n,a,o,u,p,_,b,A){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function ni(t,e,r){return function(){for(var i=[],n=0,a=t,o=0;o<e.length||n<arguments.length;){var u;o<e.length&&(!Ye(e[o])||n>=arguments.length)?u=e[o]:(u=arguments[n],n+=1),i[o]=u,Ye(u)||(a-=1),o+=1}return a<=0?r.apply(this,i):Tt(a,ni(t,i,r))}}var TU=D(function(e,r){return e===1?j(r):Tt(e,ni(e,[],r))}),pt=TU;function Y(t){return function e(r,i,n){switch(arguments.length){case 0:return e;case 1:return Ye(r)?e:D(function(a,o){return t(r,a,o)});case 2:return Ye(r)&&Ye(i)?e:Ye(r)?D(function(a,o){return t(a,i,o)}):Ye(i)?D(function(a,o){return t(r,a,o)}):j(function(a){return t(r,i,a)});default:return Ye(r)&&Ye(i)&&Ye(n)?e:Ye(r)&&Ye(i)?D(function(a,o){return t(a,o,n)}):Ye(r)&&Ye(n)?D(function(a,o){return t(a,i,o)}):Ye(i)&&Ye(n)?D(function(a,o){return t(r,a,o)}):Ye(r)?j(function(a){return t(a,i,n)}):Ye(i)?j(function(a){return t(r,a,n)}):Ye(n)?j(function(a){return t(r,i,a)}):t(r,i,n)}}}var NU=Y(function(e,r,i){var n=i.length;if(e>=n||e<-n)return i;var a=(n+e)%n,o=Ut(i);return o[a]=r(i[a]),o}),Rv=NU;var ht=Array.isArray||function(e){return e!=null&&e.length>=0&&Object.prototype.toString.call(e)==="[object Array]"};function jo(t){return t!=null&&typeof t["@@transducer/step"]=="function"}function $e(t,e,r){return function(){if(arguments.length===0)return r();var i=arguments[arguments.length-1];if(!ht(i)){for(var n=0;n<t.length;){if(typeof i[t[n]]=="function")return i[t[n]].apply(i,Array.prototype.slice.call(arguments,0,-1));n+=1}if(jo(i)){var a=e.apply(null,Array.prototype.slice.call(arguments,0,-1));return a(i)}}return r.apply(this,arguments)}}function er(t){return t&&t["@@transducer/reduced"]?t:{"@@transducer/value":t,"@@transducer/reduced":!0}}var Ve={init:function(){return this.xf["@@transducer/init"]()},result:function(t){return this.xf["@@transducer/result"](t)}};function kr(t,e){for(var r=0,i=e.length,n=Array(i);r<i;)n[r]=t(e[r]),r+=1;return n}function Lr(t){return Object.prototype.toString.call(t)==="[object String]"}var CU=j(function(e){return ht(e)?!0:!e||typeof e!="object"||Lr(e)?!1:e.length===0?!0:e.length>0?e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1):!1}),zo=CU;var DU=function(){function t(e){this.f=e}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(e){return e},t.prototype["@@transducer/step"]=function(e,r){return this.f(e,r)},t}();function Lu(t){return new DU(t)}var RU=D(function(e,r){return Tt(e.length,function(){return e.apply(r,arguments)})}),kv=RU;function kU(t,e,r){for(var i=0,n=r.length;i<n;){if(e=t["@@transducer/step"](e,r[i]),e&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}i+=1}return t["@@transducer/result"](e)}function cq(t,e,r){for(var i=r.next();!i.done;){if(e=t["@@transducer/step"](e,i.value),e&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}i=r.next()}return t["@@transducer/result"](e)}function fq(t,e,r,i){return t["@@transducer/result"](r[i](kv(t["@@transducer/step"],t),e))}var pq=typeof Symbol<"u"?Symbol.iterator:"@@iterator";function mt(t,e,r){if(typeof t=="function"&&(t=Lu(t)),zo(r))return kU(t,e,r);if(typeof r["fantasy-land/reduce"]=="function")return fq(t,e,r,"fantasy-land/reduce");if(r[pq]!=null)return cq(t,e,r[pq]());if(typeof r.next=="function")return cq(t,e,r);if(typeof r.reduce=="function")return fq(t,e,r,"reduce");throw new TypeError("reduce: list must be array or iterable")}var LU=function(){function t(e,r){this.xf=r,this.f=e}return t.prototype["@@transducer/init"]=Ve.init,t.prototype["@@transducer/result"]=Ve.result,t.prototype["@@transducer/step"]=function(e,r){return this.xf["@@transducer/step"](e,this.f(r))},t}(),KU=D(function(e,r){return new LU(e,r)}),dq=KU;function at(t,e){return Object.prototype.hasOwnProperty.call(e,t)}var hq=Object.prototype.toString,FU=function(){return hq.call(arguments)==="[object Arguments]"?function(e){return hq.call(e)==="[object Arguments]"}:function(e){return at("callee",e)}}(),Ku=FU;var BU=!{toString:null}.propertyIsEnumerable("toString"),mq=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],vq=function(){"use strict";return arguments.propertyIsEnumerable("length")}(),HU=function(e,r){for(var i=0;i<e.length;){if(e[i]===r)return!0;i+=1}return!1},UU=typeof Object.keys=="function"&&!vq?j(function(e){return Object(e)!==e?[]:Object.keys(e)}):j(function(e){if(Object(e)!==e)return[];var r,i,n=[],a=vq&&Ku(e);for(r in e)at(r,e)&&(!a||r!=="length")&&(n[n.length]=r);if(BU)for(i=mq.length-1;i>=0;)r=mq[i],at(r,e)&&!HU(n,r)&&(n[n.length]=r),i-=1;return n}),vt=UU;var GU=D($e(["fantasy-land/map","map"],dq,function(e,r){switch(Object.prototype.toString.call(r)){case"[object Function]":return pt(r.length,function(){return e.call(this,r.apply(this,arguments))});case"[object Object]":return mt(function(i,n){return i[n]=e(r[n]),i},{},vt(r));default:return kr(e,r)}})),Gt=GU;var Kr=Number.isInteger||function(e){return e<<0===e};var jU=D(function(e,r){var i=e<0?r.length+e:e;return Lr(r)?r.charAt(i):r[i]}),br=jU;var zU=D(function(e,r){if(r!=null)return Kr(e)?br(e,r):r[e]}),tr=zU;var WU=Y(mt),rr=WU;var VU=j(function(e){return function(){return e}}),Vo=VU;var YU=j(function(e){for(var r=vt(e),i=r.length,n=[],a=0;a<i;)n[a]=e[r[a]],a+=1;return n}),Bu=YU;function gn(t){var e=Object.prototype.toString.call(t);return e==="[object Function]"||e==="[object AsyncFunction]"||e==="[object GeneratorFunction]"||e==="[object AsyncGeneratorFunction]"}var JU=j(function(e){return e===null?"Null":e===void 0?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}),Yo=JU;function Hv(t,e){return function(){return e.call(this,t.apply(this,arguments))}}function Ai(t,e){return function(){var r=arguments.length;if(r===0)return e();var i=arguments[r-1];return ht(i)||typeof i[t]!="function"?e.apply(this,arguments):i[t].apply(i,Array.prototype.slice.call(arguments,0,r-1))}}var rG=Y(Ai("slice",function(e,r,i){return Array.prototype.slice.call(i,e,r)})),jt=rG;var iG=j(Ai("tail",jt(1,1/0))),Hu=iG;function ai(){if(arguments.length===0)throw new Error("pipe requires at least one argument");return Tt(arguments[0].length,rr(Hv,arguments[0],Hu(arguments)))}var nG=j(function(e){return Lr(e)?e.split("").reverse().join(""):Array.prototype.slice.call(e,0).reverse()}),Uu=nG;function _t(){if(arguments.length===0)throw new Error("compose requires at least one argument");return ai.apply(this,Uu(arguments))}var aG=br(0),Gu=aG;function zu(t){for(var e=[],r;!(r=t.next()).done;)e.push(r.value);return e}function Mi(t,e,r){for(var i=0,n=r.length;i<n;){if(t(e,r[i]))return!0;i+=1}return!1}function Uv(t){var e=String(t).match(/^function (\w*)/);return e==null?"":e[1]}function sG(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Xo=typeof Object.is=="function"?Object.is:sG;function wq(t,e,r,i){var n=zu(t),a=zu(e);function o(u,p){return Zo(u,p,r.slice(),i.slice())}return!Mi(function(u,p){return!Mi(o,p,u)},a,n)}function Zo(t,e,r,i){if(Xo(t,e))return!0;var n=Yo(t);if(n!==Yo(e))return!1;if(typeof t["fantasy-land/equals"]=="function"||typeof e["fantasy-land/equals"]=="function")return typeof t["fantasy-land/equals"]=="function"&&t["fantasy-land/equals"](e)&&typeof e["fantasy-land/equals"]=="function"&&e["fantasy-land/equals"](t);if(typeof t.equals=="function"||typeof e.equals=="function")return typeof t.equals=="function"&&t.equals(e)&&typeof e.equals=="function"&&e.equals(t);switch(n){case"Arguments":case"Array":case"Object":if(typeof t.constructor=="function"&&Uv(t.constructor)==="Promise")return t===e;break;case"Boolean":case"Number":case"String":if(!(typeof t==typeof e&&Xo(t.valueOf(),e.valueOf())))return!1;break;case"Date":if(!Xo(t.valueOf(),e.valueOf()))return!1;break;case"Error":return t.name===e.name&&t.message===e.message;case"RegExp":if(!(t.source===e.source&&t.global===e.global&&t.ignoreCase===e.ignoreCase&&t.multiline===e.multiline&&t.sticky===e.sticky&&t.unicode===e.unicode))return!1;break}for(var a=r.length-1;a>=0;){if(r[a]===t)return i[a]===e;a-=1}switch(n){case"Map":return t.size!==e.size?!1:wq(t.entries(),e.entries(),r.concat([t]),i.concat([e]));case"Set":return t.size!==e.size?!1:wq(t.values(),e.values(),r.concat([t]),i.concat([e]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var o=vt(t);if(o.length!==vt(e).length)return!1;var u=r.concat([t]),p=i.concat([e]);for(a=o.length-1;a>=0;){var _=o[a];if(!(at(_,e)&&Zo(e[_],t[_],u,p)))return!1;a-=1}return!0}var uG=D(function(e,r){return Zo(e,r,[],[])}),St=uG;function Wu(t,e,r){var i,n;if(typeof t.indexOf=="function")switch(typeof e){case"number":if(e===0){for(i=1/e;r<t.length;){if(n=t[r],n===0&&1/n===i)return r;r+=1}return-1}else if(e!==e){for(;r<t.length;){if(n=t[r],typeof n=="number"&&n!==n)return r;r+=1}return-1}return t.indexOf(e,r);case"string":case"boolean":case"function":case"undefined":return t.indexOf(e,r);case"object":if(e===null)return t.indexOf(e,r)}for(;r<t.length;){if(St(t[r],e))return r;r+=1}return-1}function xn(t,e){return Wu(e,t,0)>=0}function $o(t){var e=t.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0");return'"'+e.replace(/"/g,'\\"')+'"'}var Qo=function(e){return(e<10?"0":"")+e},lG=typeof Date.prototype.toISOString=="function"?function(e){return e.toISOString()}:function(e){return e.getUTCFullYear()+"-"+Qo(e.getUTCMonth()+1)+"-"+Qo(e.getUTCDate())+"T"+Qo(e.getUTCHours())+":"+Qo(e.getUTCMinutes())+":"+Qo(e.getUTCSeconds())+"."+(e.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"},qq=lG;function Vu(t){return function(){return!t.apply(this,arguments)}}function Jo(t,e){for(var r=0,i=e.length,n=[];r<i;)t(e[r])&&(n[n.length]=e[r]),r+=1;return n}function Fr(t){return Object.prototype.toString.call(t)==="[object Object]"}var cG=function(){function t(e,r){this.xf=r,this.f=e}return t.prototype["@@transducer/init"]=Ve.init,t.prototype["@@transducer/result"]=Ve.result,t.prototype["@@transducer/step"]=function(e,r){return this.f(r)?this.xf["@@transducer/step"](e,r):e},t}(),fG=D(function(e,r){return new cG(e,r)}),bq=fG;var pG=D($e(["fantasy-land/filter","filter"],bq,function(t,e){return Fr(e)?mt(function(r,i){return t(e[i])&&(r[i]=e[i]),r},{},vt(e)):Jo(t,e)})),Yu=pG;var dG=D(function(e,r){return Yu(Vu(e),r)}),es=dG;function ts(t,e){var r=function(o){var u=e.concat([t]);return xn(o,u)?"<Circular>":ts(o,u)},i=function(a,o){return kr(function(u){return $o(u)+": "+r(a[u])},o.slice().sort())};switch(Object.prototype.toString.call(t)){case"[object Arguments]":return"(function() { return arguments; }("+kr(r,t).join(", ")+"))";case"[object Array]":return"["+kr(r,t).concat(i(t,es(function(a){return/^\d+$/.test(a)},vt(t)))).join(", ")+"]";case"[object Boolean]":return typeof t=="object"?"new Boolean("+r(t.valueOf())+")":t.toString();case"[object Date]":return"new Date("+(isNaN(t.valueOf())?r(NaN):$o(qq(t)))+")";case"[object Null]":return"null";case"[object Number]":return typeof t=="object"?"new Number("+r(t.valueOf())+")":1/t===-1/0?"-0":t.toString(10);case"[object String]":return typeof t=="object"?"new String("+r(t.valueOf())+")":$o(t);case"[object Undefined]":return"undefined";default:if(typeof t.toString=="function"){var n=t.toString();if(n!=="[object Object]")return n}return"{"+i(t,vt(t)).join(", ")+"}"}}var hG=j(function(e){return ts(e,[])}),rs=hG;var mG=j(function(e){return pt(e.length,e)}),is=mG;var yG=D(function(e,r){return r==null||r!==r?e:r}),ns=yG;var xG=function(){function t(e,r){this.xf=r,this.n=e,this.i=0}return t.prototype["@@transducer/init"]=Ve.init,t.prototype["@@transducer/result"]=Ve.result,t.prototype["@@transducer/step"]=function(e,r){this.i+=1;var i=this.n===0?e:this.xf["@@transducer/step"](e,r);return this.n>=0&&this.i>=this.n?er(i):i},t}(),wG=D(function(e,r){return new xG(e,r)}),Mq=wG;var qG=D($e(["take"],Mq,function(e,r){return jt(0,e<0?1/0:e,r)})),Xn=qG;function zv(t){var e=Object.prototype.toString.call(t);return e==="[object Uint8ClampedArray]"||e==="[object Int8Array]"||e==="[object Uint8Array]"||e==="[object Int16Array]"||e==="[object Uint16Array]"||e==="[object Int32Array]"||e==="[object Uint32Array]"||e==="[object Float32Array]"||e==="[object Float64Array]"||e==="[object BigInt64Array]"||e==="[object BigUint64Array]"}var MG=j(function(e){return e!=null&&typeof e["fantasy-land/empty"]=="function"?e["fantasy-land/empty"]():e!=null&&e.constructor!=null&&typeof e.constructor["fantasy-land/empty"]=="function"?e.constructor["fantasy-land/empty"]():e!=null&&typeof e.empty=="function"?e.empty():e!=null&&e.constructor!=null&&typeof e.constructor.empty=="function"?e.constructor.empty():ht(e)?[]:Lr(e)?"":Fr(e)?{}:Ku(e)?function(){return arguments}():zv(e)?e.constructor.from(""):void 0}),Wv=MG;var OG=function(){function t(e,r){this.xf=r,this.f=e,this.found=!1}return t.prototype["@@transducer/init"]=Ve.init,t.prototype["@@transducer/result"]=function(e){return this.found||(e=this.xf["@@transducer/step"](e,void 0)),this.xf["@@transducer/result"](e)},t.prototype["@@transducer/step"]=function(e,r){return this.f(r)&&(this.found=!0,e=er(this.xf["@@transducer/step"](e,r))),e},t}(),PG=D(function(e,r){return new OG(e,r)}),Iq=PG;var TG=D($e(["find"],Iq,function(e,r){for(var i=0,n=r.length;i<n;){if(e(r[i]))return r[i];i+=1}})),Vv=TG;var DG=D(function(e,r){return pt(e+1,function(){var i=arguments[e];if(i!=null&&gn(i[r]))return i[r].apply(i,Array.prototype.slice.call(arguments,0,e));throw new TypeError(rs(i)+' does not have a method named "'+r+'"')})}),Zn=DG;var RG=D(function(e,r){return r instanceof e||r!=null&&(r.constructor===e||e.name==="Object"&&typeof r=="object")}),Xu=RG;var kG=j(function(e){return e!=null&&St(e,Wv(e))}),Zv=kG;var KG=D(function(e,r){return function(i){return function(n){return Gt(function(a){return r(a,n)},i(e(n)))}}}),as=KG;var FG=Y(function(e,r,i){return Rv(e,Vo(r),i)}),$v=FG;var BG=j(function(e){return as(br(e),$v(e))}),Qv=BG;var HG=D(function(e,r){return e.map(function(i){for(var n=r,a=0,o;a<i.length;){if(n==null)return;o=i[a],n=Kr(o)?br(o,n):n[o],a+=1}return n})}),Jv=HG;var UG=D(function(e,r){return Jv([e],r)[0]}),oi=UG;var zG=Y(function(e,r,i){var n={},a;for(a in r)at(a,r)&&(n[a]=at(a,i)?e(a,r[a],i[a]):r[a]);for(a in i)at(a,i)&&!at(a,n)&&(n[a]=i[a]);return n}),Zu=zG;var WG=Y(function t(e,r,i){return Zu(function(n,a,o){return Fr(a)&&Fr(o)?t(e,a,o):e(n,a,o)},r,i)}),os=WG;var VG=D(function(e,r){return os(function(i,n,a){return a},e,r)}),$u=VG;var QG=Y(function(e,r,i){return ns(e,oi(r,i))}),ey=QG;var i4=Y(function(e,r,i){return St(r,tr(e,i))}),ty=i4;var n4=Y(function(e,r,i){return ns(e,tr(r,i))}),si=n4;var l4=Zn(1,"split"),Er=l4;var d4=function(){function t(e,r){this.xf=r,this.f=e}return t.prototype["@@transducer/init"]=Ve.init,t.prototype["@@transducer/result"]=Ve.result,t.prototype["@@transducer/step"]=function(e,r){return this.f(r),this.xf["@@transducer/step"](e,r)},t}(),h4=D(function(e,r){return new d4(e,r)}),Dq=h4;var m4=D($e([],Dq,function(e,r){return e(r),r})),ry=m4;var O5e=typeof String.prototype.trim=="function";var g4=function(t){return{value:t,"fantasy-land/map":function(){return this}}},x4=D(function(e,r){return e(g4)(r).value}),iy=x4;var w4=Y(function(e,r,i){return e(i)?r(i):i}),ny=w4;var Du=ku(ML(),1),So=ku(g6(),1);var E6=ku(b6(),1),A6=t=>`${(0,E6.default)(t)}`,hPe=process.env.STAGE||"",Ev=process.env.AWS_REGION||"",mPe={dev:`https://${process.env.API_DOMAIN}/`,local:"http://localhost:4000/dev/"},ldt=mPe[hPe]||`https://${process.env.API_DOMAIN}/`,cdt=process.env.BUCKET_LOGS||"",fdt=process.env.BUCKET_EDGES||"",pdt=process.env.BUCKET_REVERSE_EDGES||"",ddt=process.env.BUCKET_NODES||"",hdt=process.env.BUCKET_OWNERS||"",mdt=process.env.BUCKET_RIGHTS_ADMIN||"",vdt=process.env.BUCKET_RIGHTS_READ||"",ydt=process.env.BUCKET_RIGHTS_WRITE||"",_dt=process.env.BUCKET_TEST_BEDS||"",gdt=process.env.BUCKET_MEDIA||"",xdt=process.env.CLOUDFRONT_ACCESS_KEY_ID||"",wdt=process.env.CLOUDFRONT_NEW_ACCESS_KEY_PARAMETER||"",qdt=process.env.INVITE_USER_VALIDATION_VIEW||"",M6=process.env.PULL_LAMBDA_NAME||"",S6=process.env.NOTIFICATIONS_EMAIL_ACCOUNT_PARAMETER_NAME||"",bdt=process.env.ADMIN_EMAILS||"",Edt=process.env.API_DOMAIN||"",Adt=process.env.MEDIA_DOMAIN||"",Mdt=process.env.USER_POOL_ID||"",Sdt=process.env.CLIENT_ID||"",I6=process.env.CUSTOM_MAIL_MESSAGE_KEY_ARN||"";var Idt=process.env.CACHE_CONTAINERS||0,Odt=process.env.ENABLE_TRAFFIC_SPLITTING==="false"?!1:process.env.ENABLE_TRAFFIC_SPLITTING||"";var O6=()=>new Date().toISOString(),Ndt=_t(Xn(10),O6),Cdt=_t(Xn(7),O6);var Ddt=ry(console.log),vPe=t=>Buffer.from(t,"base64").toString("utf-8"),Rdt=ai(Er("."),iy(Qv(1)),vPe,JSON.parse),P6=is((t,e)=>{try{return JSON.parse(e)}catch{return t}});var kdt=_t(Xu(Function),si(!1,"then"));var yPe={toEdge:t=>ai(Er("/"),e=>({fromType:e[0],from:e[1],toType:e[2],to:e[3]}))(t),reverseEdge:t=>({...t,fromType:t.toType,from:t.to,toType:t.fromType,to:t.from}),fromEdge:t=>`${t.from}/${t.fromType}/${t.toType}/${t.to}`,toEdgeTuple:t=>_t(([e,r,i,n])=>[r,e,i,n],Er("/"))(t),fromEdgeTuple:([t,e,r,i])=>`${e}/${t}/${r}/${i}`,toScope:t=>{let e=t.slice(0,-1).lastIndexOf(".");return e===-1?"":t.substring(0,e+1)},fromNodeIdWildcard:t=>t.slice(-1)!=="*"?"":t.slice(0,-1),toRight:t=>ai(Er("/"),e=>({nodeId:e[0],principalType:e[1],principal:e[2]}))(t),fromRight:t=>`${t.nodeId}/${t.principalType}/${t.principal}`,toOwnership:t=>ai(Er("/"),e=>({nodeId:e[0],principal:e[2]}))(t),fromOwnership:t=>`${t.nodeId}/user/${t.principal}`,filePrefix:(t,e)=>A6(`${t}/${e}`),toFileKey:({nodeId:t,prop:e,filename:r})=>`file/${yPe.filePrefix(t,e)}/${r}`,toFileRefKey:({nodeId:t,prop:e})=>`ref/${t}/${e}`,toFileMetadataKey:({fileKey:t})=>`metadata/${t}`,toLogKey:({type:t,userEmail:e,timestamp:r,requestId:i})=>`${t}/${e}/${r}/${i}`,fromLogKey:_t(([t,e,r,i])=>({type:t,userEmail:e,timestamp:r,requestId:i}),Er("/"))},Ldt=rr($u,{});var Kdt=ny(Zv,Dv);var T6="root",N6=(t,e)=>t&&e?{[t]:{edges:{[e]:{include:{node:!0}}}}}:{},C6={CustomEmailSender_SignUp:"root/template-signup",CustomEmailSender_ResendCode:"root/template-resendcode",CustomEmailSender_ForgotPassword:"root/template-forgotpassword",CustomEmailSender_UpdateUserAttribute:"root/template-updateuserattribute",CustomEmailSender_VerifyUserAttribute:"root/template-verifyuserattribute",CustomEmailSender_AccountTakeOverNotification:"root/template-accounttakeovernotification",CustomEmailSender_AdminCreateUser:"root/template-admincreateuser"},D6={CustomEmailSender_SignUp:{subject:"Your Verification Code",text:"Your verification code is {#activationCode}",html:"Your verification code is {#activationCode}"},CustomEmailSender_ResendCode:{subject:"Your Verification Code",text:"Your verification code is {#activationCode}",html:"Your verification code is {#activationCode}"},CustomEmailSender_ForgotPassword:{subject:"Your Verification Code",text:"Your verification code is {#activationCode}",html:"Your verification code is {#activationCode}"},CustomEmailSender_UpdateUserAttribute:null,CustomEmailSender_VerifyUserAttribute:null,CustomEmailSender_AccountTakeOverNotification:null,CustomEmailSender_AdminCreateUser:{subject:"You Have Been Invited",text:"You have been invited. Please log in with your temporary password: {#password}",html:"You have been invited. Please log in with your temporary password: {#password}"}};var yU=ku(mU(),1);var Ov=require("@aws-sdk/client-ssm");var TNe=new Ov.SSMClient({region:Ev,apiVersion:"latest"}),vU=async(t,e=!1)=>{let r=new Ov.GetParameterCommand({Name:t,WithDecryption:e});try{let i=await TNe.send(r);return i.Parameter?i.Parameter.Value:void 0}catch(i){console.log(i);return}};var NNe=_t(Er("|"),Gu,Er(`
`)),CNe=async()=>{let t=await vU(S6,!0);if(!t)throw new Error("Missing mail credentials");let e=Buffer.from(t,"base64").toString("utf-8");return NNe(e)},DNe=async(t,e,r,i,n)=>{let a=(0,yU.createTransport)({host:t,port:i||587,secure:!!n,auth:{user:e,pass:r}});return await a.verify(),a},_U=async(t,e)=>{let[r,i,n,a,o,u]=await CNe();await(await DNe(i,n,a,o,u)).sendMail({from:`${e.sender||r} <${n}>`,to:t,subject:e.subject,text:e.text,html:e.html,attachments:e.attachments||[]}).catch(console.log)};var Pv=require("@aws-sdk/client-lambda");var RNe=new Pv.LambdaClient({region:Ev,apiVersion:"latest"}),gU=new TextDecoder,xU=async(t,e)=>{let r=new Pv.InvokeCommand({FunctionName:t,Payload:JSON.stringify({body:e}),InvocationType:"RequestResponse"});try{let i=await RNe.send(r);return i.FunctionError?Promise.reject(JSON.parse(gU.decode(i.Payload))):JSON.parse(gU.decode(i.Payload))}catch(i){console.log(i);return}};var kNe=t=>{let e=_t(P6(!1),oi(["request","clientMetadata","skipMessage"]))(t);return e&&console.log("Email skipped"),e},{decrypt:LNe}=(0,So.buildClient)(So.CommitmentPolicy.REQUIRE_ENCRYPT_ALLOW_DECRYPT),KNe=async t=>{let e=[I6],r=new So.KmsKeyringNode({keyIds:e}),{plaintext:i}=t.request&&t.request.code?await LNe(r,Buffer.from(t.request.code,"base64")):{};return console.log("Decrypted code",i.toString()),i.toString()},wU=(t,e)=>_t(Vv(ty("templateId",t)),Bu,si({},"nodes"))(e),FNe=async(t,e)=>{let r=si(!1,t,C6),i=N6(T6,r),n=await xU(M6,{userEmail:"",body:i,asAdmin:!0}),a=n?.body?JSON.parse(n.body):{},o=wU(e,a);return o||wU("default",a)||tr(t,D6)},BNe=(t,e,r)=>_t(Du.replaceAll("{#encoded}",r),Du.replaceAll("{#activationCode}",e),Du.replaceAll("{#password}",e),Du.replaceAll("{#email}",t)),HNe=(t,e)=>{let{email:r="",plaintext:i=""}=t,n=`${r}/${i}`,a=BNe(r,i,n),o=_t(a,si("","subject"))(e),u=_t(a,si("","text"))(e),p=_t(a,si("","html"))(e);return{subject:o,text:u,html:p}},UNe=(t,e)=>async r=>{let i=await FNe(t,e);if(i)return HNe(r,i);throw new Error(`No template found for ${t} :: ${e}`)},qU=async t=>{try{if(kNe(t))return;let e=await KNe(t),{email:r}=t.request?t.request.userAttributes:{};console.log(`Sending ${t.triggerSource}} mail to ${r}`);let i=ey("default",["request","clientMetadata","templateId"],t),n=await UNe(t.triggerSource,i)({email:r,plaintext:e});await _U(r,n)}catch(e){throw console.error(e),e}};0&&(module.exports={handleInvoke});
