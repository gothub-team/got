var me=Object.create;var Rr=Object.defineProperty;var le=Object.getOwnPropertyDescriptor;var de=Object.getOwnPropertyNames;var he=Object.getPrototypeOf,ye=Object.prototype.hasOwnProperty;var ht=(t,r)=>()=>(r||t((r={exports:{}}).exports,r),r.exports),xe=(t,r)=>{for(var e in r)Rr(t,e,{get:r[e],enumerable:!0})},yt=(t,r,e,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of de(r))!ye.call(t,i)&&i!==e&&Rr(t,i,{get:()=>r[i],enumerable:!(n=le(r,i))||n.enumerable});return t};var ve=(t,r,e)=>(e=t!=null?me(he(t)):{},yt(r||!t||!t.__esModule?Rr(e,"default",{value:t,enumerable:!0}):e,t)),ge=t=>yt(Rr({},"__esModule",{value:!0}),t);var vt=ht((Sr,xt)=>{(function(t,r){typeof Sr=="object"?xt.exports=Sr=r():typeof define=="function"&&define.amd?define([],r):t.CryptoJS=r()})(Sr,function(){var t=t||function(r,e){var n;if(typeof window<"u"&&window.crypto&&(n=window.crypto),typeof self<"u"&&self.crypto&&(n=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(n=globalThis.crypto),!n&&typeof window<"u"&&window.msCrypto&&(n=window.msCrypto),!n&&typeof global<"u"&&global.crypto&&(n=global.crypto),!n&&typeof require=="function")try{n=require("crypto")}catch{}var i=function(){if(n){if(typeof n.getRandomValues=="function")try{return n.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof n.randomBytes=="function")try{return n.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function u(){}return function(p){var d;return u.prototype=p,d=new u,u.prototype=null,d}}(),c={},v=c.lib={},O=v.Base=function(){return{extend:function(u){var p=a(this);return u&&p.mixIn(u),(!p.hasOwnProperty("init")||this.init===p.init)&&(p.init=function(){p.$super.init.apply(this,arguments)}),p.init.prototype=p,p.$super=this,p},create:function(){var u=this.extend();return u.init.apply(u,arguments),u},init:function(){},mixIn:function(u){for(var p in u)u.hasOwnProperty(p)&&(this[p]=u[p]);u.hasOwnProperty("toString")&&(this.toString=u.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),b=v.WordArray=O.extend({init:function(u,p){u=this.words=u||[],p!=e?this.sigBytes=p:this.sigBytes=u.length*4},toString:function(u){return(u||N).stringify(this)},concat:function(u){var p=this.words,d=u.words,h=this.sigBytes,I=u.sigBytes;if(this.clamp(),h%4)for(var g=0;g<I;g++){var X=d[g>>>2]>>>24-g%4*8&255;p[h+g>>>2]|=X<<24-(h+g)%4*8}else for(var q=0;q<I;q+=4)p[h+q>>>2]=d[q>>>2];return this.sigBytes+=I,this},clamp:function(){var u=this.words,p=this.sigBytes;u[p>>>2]&=4294967295<<32-p%4*8,u.length=r.ceil(p/4)},clone:function(){var u=O.clone.call(this);return u.words=this.words.slice(0),u},random:function(u){for(var p=[],d=0;d<u;d+=4)p.push(i());return new b.init(p,u)}}),$=c.enc={},N=$.Hex={stringify:function(u){for(var p=u.words,d=u.sigBytes,h=[],I=0;I<d;I++){var g=p[I>>>2]>>>24-I%4*8&255;h.push((g>>>4).toString(16)),h.push((g&15).toString(16))}return h.join("")},parse:function(u){for(var p=u.length,d=[],h=0;h<p;h+=2)d[h>>>3]|=parseInt(u.substr(h,2),16)<<24-h%8*4;return new b.init(d,p/2)}},C=$.Latin1={stringify:function(u){for(var p=u.words,d=u.sigBytes,h=[],I=0;I<d;I++){var g=p[I>>>2]>>>24-I%4*8&255;h.push(String.fromCharCode(g))}return h.join("")},parse:function(u){for(var p=u.length,d=[],h=0;h<p;h++)d[h>>>2]|=(u.charCodeAt(h)&255)<<24-h%4*8;return new b.init(d,p)}},m=$.Utf8={stringify:function(u){try{return decodeURIComponent(escape(C.stringify(u)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(u){return C.parse(unescape(encodeURIComponent(u)))}},w=v.BufferedBlockAlgorithm=O.extend({reset:function(){this._data=new b.init,this._nDataBytes=0},_append:function(u){typeof u=="string"&&(u=m.parse(u)),this._data.concat(u),this._nDataBytes+=u.sigBytes},_process:function(u){var p,d=this._data,h=d.words,I=d.sigBytes,g=this.blockSize,X=g*4,q=I/X;u?q=r.ceil(q):q=r.max((q|0)-this._minBufferSize,0);var F=q*g,Er=r.min(F*4,I);if(F){for(var ur=0;ur<F;ur+=g)this._doProcessBlock(h,ur);p=h.splice(0,F),d.sigBytes-=Er}return new b.init(p,Er)},clone:function(){var u=O.clone.call(this);return u._data=this._data.clone(),u},_minBufferSize:0}),L=v.Hasher=w.extend({cfg:O.extend(),init:function(u){this.cfg=this.cfg.extend(u),this.reset()},reset:function(){w.reset.call(this),this._doReset()},update:function(u){return this._append(u),this._process(),this},finalize:function(u){u&&this._append(u);var p=this._doFinalize();return p},blockSize:512/32,_createHelper:function(u){return function(p,d){return new u.init(d).finalize(p)}},_createHmacHelper:function(u){return function(p,d){return new K.HMAC.init(u,d).finalize(p)}}}),K=c.algo={};return c}(Math);return t})});var _t=ht((Or,gt)=>{(function(t,r){typeof Or=="object"?gt.exports=Or=r(vt()):typeof define=="function"&&define.amd?define(["./core"],r):r(t.CryptoJS)})(Or,function(t){return function(r){var e=t,n=e.lib,i=n.WordArray,a=n.Hasher,c=e.algo,v=[],O=[];(function(){function N(L){for(var K=r.sqrt(L),u=2;u<=K;u++)if(!(L%u))return!1;return!0}function C(L){return(L-(L|0))*4294967296|0}for(var m=2,w=0;w<64;)N(m)&&(w<8&&(v[w]=C(r.pow(m,1/2))),O[w]=C(r.pow(m,1/3)),w++),m++})();var b=[],$=c.SHA256=a.extend({_doReset:function(){this._hash=new i.init(v.slice(0))},_doProcessBlock:function(N,C){for(var m=this._hash.words,w=m[0],L=m[1],K=m[2],u=m[3],p=m[4],d=m[5],h=m[6],I=m[7],g=0;g<64;g++){if(g<16)b[g]=N[C+g]|0;else{var X=b[g-15],q=(X<<25|X>>>7)^(X<<14|X>>>18)^X>>>3,F=b[g-2],Er=(F<<15|F>>>17)^(F<<13|F>>>19)^F>>>10;b[g]=q+b[g-7]+Er+b[g-16]}var ur=p&d^~p&h,se=w&L^w&K^L&K,pe=(w<<30|w>>>2)^(w<<19|w>>>13)^(w<<10|w>>>22),fe=(p<<26|p>>>6)^(p<<21|p>>>11)^(p<<7|p>>>25),dt=I+fe+ur+O[g]+b[g],ce=pe+se;I=h,h=d,d=p,p=u+dt|0,u=K,K=L,L=w,w=dt+ce|0}m[0]=m[0]+w|0,m[1]=m[1]+L|0,m[2]=m[2]+K|0,m[3]=m[3]+u|0,m[4]=m[4]+p|0,m[5]=m[5]+d|0,m[6]=m[6]+h|0,m[7]=m[7]+I|0},_doFinalize:function(){var N=this._data,C=N.words,m=this._nDataBytes*8,w=N.sigBytes*8;return C[w>>>5]|=128<<24-w%32,C[(w+64>>>9<<4)+14]=r.floor(m/4294967296),C[(w+64>>>9<<4)+15]=m,N.sigBytes=C.length*4,this._process(),this._hash},clone:function(){var N=a.clone.call(this);return N._hash=this._hash.clone(),N}});e.SHA256=a._createHelper($),e.HmacSHA256=a._createHmacHelper($)}(Math),t.SHA256})});var Nn={};xe(Nn,{handleHttp:()=>ue});module.exports=ge(Nn);var wt=ve(_t(),1),At=t=>`${(0,wt.default)(t)}`,_e=process.env.STAGE||"",Wn=process.env.AWS_REGION||"",we={dev:`https://${process.env.API_DOMAIN}/`,local:"http://localhost:4000/dev/"},zr=we[_e]||`https://${process.env.API_DOMAIN}/`,kn=process.env.BUCKET_LOGS||"",Cn=process.env.BUCKET_EDGES||"",Ln=process.env.BUCKET_REVERSE_EDGES||"",qn=process.env.BUCKET_NODES||"",Un=process.env.BUCKET_OWNERS||"",Dn=process.env.BUCKET_RIGHTS_ADMIN||"",Fn=process.env.BUCKET_RIGHTS_READ||"",Mn=process.env.BUCKET_RIGHTS_WRITE||"",zn=process.env.BUCKET_TEST_BEDS||"",Vn=process.env.BUCKET_MEDIA||"",Kn=process.env.CLOUDFRONT_ACCESS_KEY_ID||"",Xn=process.env.CLOUDFRONT_NEW_ACCESS_KEY_PARAMETER||"",Hn=process.env.INVITE_USER_VALIDATION_VIEW||"",Gn=process.env.PULL_LAMBDA_NAME||"",Jn=process.env.NOTIFICATIONS_EMAIL_ACCOUNT_PARAMETER_NAME||"",Yn=process.env.ADMIN_EMAILS||"",Qn=process.env.API_DOMAIN||"",Zn=process.env.MEDIA_DOMAIN||"",$n=process.env.USER_POOL_ID||"",ri=process.env.CLIENT_ID||"",ti=process.env.CUSTOM_MAIL_MESSAGE_KEY_ARN||"";var ei=process.env.CACHE_CONTAINERS||0,oi=process.env.ENABLE_TRAFFIC_SPLITTING==="false"?!1:process.env.ENABLE_TRAFFIC_SPLITTING||"";var Ae=function(){return!0},Vr=Ae;function y(t){return t!=null&&typeof t=="object"&&t["@@functional/placeholder"]===!0}function s(t){return function r(e){return arguments.length===0||y(e)?r:t.apply(this,arguments)}}function o(t){return function r(e,n){switch(arguments.length){case 0:return r;case 1:return y(e)?r:s(function(i){return t(e,i)});default:return y(e)&&y(n)?r:y(e)?s(function(i){return t(i,n)}):y(n)?s(function(i){return t(e,i)}):t(e,n)}}}function j(t,r){t=t||[],r=r||[];var e,n=t.length,i=r.length,a=[];for(e=0;e<n;)a[a.length]=t[e],e+=1;for(e=0;e<i;)a[a.length]=r[e],e+=1;return a}function B(t,r){switch(t){case 0:return function(){return r.apply(this,arguments)};case 1:return function(e){return r.apply(this,arguments)};case 2:return function(e,n){return r.apply(this,arguments)};case 3:return function(e,n,i){return r.apply(this,arguments)};case 4:return function(e,n,i,a){return r.apply(this,arguments)};case 5:return function(e,n,i,a,c){return r.apply(this,arguments)};case 6:return function(e,n,i,a,c,v){return r.apply(this,arguments)};case 7:return function(e,n,i,a,c,v,O){return r.apply(this,arguments)};case 8:return function(e,n,i,a,c,v,O,b){return r.apply(this,arguments)};case 9:return function(e,n,i,a,c,v,O,b,$){return r.apply(this,arguments)};case 10:return function(e,n,i,a,c,v,O,b,$,N){return r.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function H(t,r,e){return function(){for(var n=[],i=0,a=t,c=0;c<r.length||i<arguments.length;){var v;c<r.length&&(!y(r[c])||i>=arguments.length)?v=r[c]:(v=arguments[i],i+=1),n[c]=v,y(v)||(a-=1),c+=1}return a<=0?e.apply(this,n):B(a,H(t,n,e))}}var be=o(function(r,e){return r===1?s(e):B(r,H(r,[],e))}),E=be;function f(t){return function r(e,n,i){switch(arguments.length){case 0:return r;case 1:return y(e)?r:o(function(a,c){return t(e,a,c)});case 2:return y(e)&&y(n)?r:y(e)?o(function(a,c){return t(a,n,c)}):y(n)?o(function(a,c){return t(e,a,c)}):s(function(a){return t(e,n,a)});default:return y(e)&&y(n)&&y(i)?r:y(e)&&y(n)?o(function(a,c){return t(a,c,i)}):y(e)&&y(i)?o(function(a,c){return t(a,n,c)}):y(n)&&y(i)?o(function(a,c){return t(e,a,c)}):y(e)?s(function(a){return t(a,n,i)}):y(n)?s(function(a){return t(e,a,i)}):y(i)?s(function(a){return t(e,n,a)}):t(e,n,i)}}}var Ie=f(function(r,e,n){var i=n.length;if(r>=i||r<-i)return n;var a=(i+r)%i,c=j(n);return c[a]=e(n[a]),c}),Kr=Ie;var R=Array.isArray||function(r){return r!=null&&r.length>=0&&Object.prototype.toString.call(r)==="[object Array]"};function sr(t){return t!=null&&typeof t["@@transducer/step"]=="function"}function _(t,r,e){return function(){if(arguments.length===0)return e();var n=arguments[arguments.length-1];if(!R(n)){for(var i=0;i<t.length;){if(typeof n[t[i]]=="function")return n[t[i]].apply(n,Array.prototype.slice.call(arguments,0,-1));i+=1}if(sr(n)){var a=r.apply(null,Array.prototype.slice.call(arguments,0,-1));return a(n)}}return e.apply(this,arguments)}}function D(t){return t&&t["@@transducer/reduced"]?t:{"@@transducer/value":t,"@@transducer/reduced":!0}}var x={init:function(){return this.xf["@@transducer/init"]()},result:function(t){return this.xf["@@transducer/result"](t)}};function M(t,r){for(var e=0,n=r.length,i=Array(n);e<n;)i[e]=t(r[e]),e+=1;return i}function z(t){return Object.prototype.toString.call(t)==="[object String]"}var Ee=s(function(r){return R(r)?!0:!r||typeof r!="object"||z(r)?!1:r.length===0?!0:r.length>0?r.hasOwnProperty(0)&&r.hasOwnProperty(r.length-1):!1}),pr=Ee;var Re=function(){function t(r){this.f=r}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(r){return r},t.prototype["@@transducer/step"]=function(r,e){return this.f(r,e)},t}();function Tr(t){return new Re(t)}var Se=o(function(r,e){return B(r.length,function(){return r.apply(e,arguments)})}),Xr=Se;function Oe(t,r,e){for(var n=0,i=e.length;n<i;){if(r=t["@@transducer/step"](r,e[n]),r&&r["@@transducer/reduced"]){r=r["@@transducer/value"];break}n+=1}return t["@@transducer/result"](r)}function bt(t,r,e){for(var n=e.next();!n.done;){if(r=t["@@transducer/step"](r,n.value),r&&r["@@transducer/reduced"]){r=r["@@transducer/value"];break}n=e.next()}return t["@@transducer/result"](r)}function It(t,r,e,n){return t["@@transducer/result"](e[n](Xr(t["@@transducer/step"],t),r))}var Et=typeof Symbol<"u"?Symbol.iterator:"@@iterator";function S(t,r,e){if(typeof t=="function"&&(t=Tr(t)),pr(e))return Oe(t,r,e);if(typeof e["fantasy-land/reduce"]=="function")return It(t,r,e,"fantasy-land/reduce");if(e[Et]!=null)return bt(t,r,e[Et]());if(typeof e.next=="function")return bt(t,r,e);if(typeof e.reduce=="function")return It(t,r,e,"reduce");throw new TypeError("reduce: list must be array or iterable")}var Te=function(){function t(r,e){this.xf=e,this.f=r}return t.prototype["@@transducer/init"]=x.init,t.prototype["@@transducer/result"]=x.result,t.prototype["@@transducer/step"]=function(r,e){return this.xf["@@transducer/step"](r,this.f(e))},t}(),Be=o(function(r,e){return new Te(r,e)}),Rt=Be;function A(t,r){return Object.prototype.hasOwnProperty.call(r,t)}var St=Object.prototype.toString,Pe=function(){return St.call(arguments)==="[object Arguments]"?function(r){return St.call(r)==="[object Arguments]"}:function(r){return A("callee",r)}}(),Br=Pe;var Ne=!{toString:null}.propertyIsEnumerable("toString"),Ot=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Tt=function(){"use strict";return arguments.propertyIsEnumerable("length")}(),je=function(r,e){for(var n=0;n<r.length;){if(r[n]===e)return!0;n+=1}return!1},We=typeof Object.keys=="function"&&!Tt?s(function(r){return Object(r)!==r?[]:Object.keys(r)}):s(function(r){if(Object(r)!==r)return[];var e,n,i=[],a=Tt&&Br(r);for(e in r)A(e,r)&&(!a||e!=="length")&&(i[i.length]=e);if(Ne)for(n=Ot.length-1;n>=0;)e=Ot[n],A(e,r)&&!je(i,e)&&(i[i.length]=e),n-=1;return i}),T=We;var ke=o(_(["fantasy-land/map","map"],Rt,function(r,e){switch(Object.prototype.toString.call(e)){case"[object Function]":return E(e.length,function(){return r.call(this,e.apply(this,arguments))});case"[object Object]":return S(function(n,i){return n[i]=r(e[i]),n},{},T(e));default:return M(r,e)}})),W=ke;var G=Number.isInteger||function(r){return r<<0===r};var Ce=o(function(r,e){var n=r<0?e.length+r:r;return z(e)?e.charAt(n):e[n]}),J=Ce;var Le=o(function(r,e){if(e!=null)return G(r)?J(r,e):e[r]}),Y=Le;var qe=f(S),U=qe;var Ue=s(function(r){return function(){return r}}),cr=Ue;function or(t){var r=Object.prototype.toString.call(t);return r==="[object Function]"||r==="[object AsyncFunction]"||r==="[object GeneratorFunction]"||r==="[object AsyncGeneratorFunction]"}var Ke=s(function(r){return r===null?"Null":r===void 0?"Undefined":Object.prototype.toString.call(r).slice(8,-1)}),mr=Ke;function Qr(t,r){return function(){return r.call(this,t.apply(this,arguments))}}function rr(t,r){return function(){var e=arguments.length;if(e===0)return r();var n=arguments[e-1];return R(n)||typeof n[t]!="function"?r.apply(this,arguments):n[t].apply(n,Array.prototype.slice.call(arguments,0,e-1))}}var Ge=f(rr("slice",function(r,e,n){return Array.prototype.slice.call(n,r,e)})),k=Ge;var Je=s(rr("tail",k(1,1/0))),Nr=Je;function Q(){if(arguments.length===0)throw new Error("pipe requires at least one argument");return B(arguments[0].length,U(Qr,arguments[0],Nr(arguments)))}var Ye=s(function(r){return z(r)?r.split("").reverse().join(""):Array.prototype.slice.call(r,0).reverse()}),jr=Ye;function Z(){if(arguments.length===0)throw new Error("compose requires at least one argument");return Q.apply(this,jr(arguments))}function kr(t){for(var r=[],e;!(e=t.next()).done;)r.push(e.value);return r}function tr(t,r,e){for(var n=0,i=e.length;n<i;){if(t(r,e[n]))return!0;n+=1}return!1}function Zr(t){var r=String(t).match(/^function (\w*)/);return r==null?"":r[1]}function $e(t,r){return t===r?t!==0||1/t===1/r:t!==t&&r!==r}var lr=typeof Object.is=="function"?Object.is:$e;function Wt(t,r,e,n){var i=kr(t),a=kr(r);function c(v,O){return dr(v,O,e.slice(),n.slice())}return!tr(function(v,O){return!tr(c,O,v)},a,i)}function dr(t,r,e,n){if(lr(t,r))return!0;var i=mr(t);if(i!==mr(r))return!1;if(typeof t["fantasy-land/equals"]=="function"||typeof r["fantasy-land/equals"]=="function")return typeof t["fantasy-land/equals"]=="function"&&t["fantasy-land/equals"](r)&&typeof r["fantasy-land/equals"]=="function"&&r["fantasy-land/equals"](t);if(typeof t.equals=="function"||typeof r.equals=="function")return typeof t.equals=="function"&&t.equals(r)&&typeof r.equals=="function"&&r.equals(t);switch(i){case"Arguments":case"Array":case"Object":if(typeof t.constructor=="function"&&Zr(t.constructor)==="Promise")return t===r;break;case"Boolean":case"Number":case"String":if(!(typeof t==typeof r&&lr(t.valueOf(),r.valueOf())))return!1;break;case"Date":if(!lr(t.valueOf(),r.valueOf()))return!1;break;case"Error":return t.name===r.name&&t.message===r.message;case"RegExp":if(!(t.source===r.source&&t.global===r.global&&t.ignoreCase===r.ignoreCase&&t.multiline===r.multiline&&t.sticky===r.sticky&&t.unicode===r.unicode))return!1;break}for(var a=e.length-1;a>=0;){if(e[a]===t)return n[a]===r;a-=1}switch(i){case"Map":return t.size!==r.size?!1:Wt(t.entries(),r.entries(),e.concat([t]),n.concat([r]));case"Set":return t.size!==r.size?!1:Wt(t.values(),r.values(),e.concat([t]),n.concat([r]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var c=T(t);if(c.length!==T(r).length)return!1;var v=e.concat([t]),O=n.concat([r]);for(a=c.length-1;a>=0;){var b=c[a];if(!(A(b,r)&&dr(r[b],t[b],v,O)))return!1;a-=1}return!0}var ro=o(function(r,e){return dr(r,e,[],[])}),P=ro;function Cr(t,r,e){var n,i;if(typeof t.indexOf=="function")switch(typeof r){case"number":if(r===0){for(n=1/r;e<t.length;){if(i=t[e],i===0&&1/i===n)return e;e+=1}return-1}else if(r!==r){for(;e<t.length;){if(i=t[e],typeof i=="number"&&i!==i)return e;e+=1}return-1}return t.indexOf(r,e);case"string":case"boolean":case"function":case"undefined":return t.indexOf(r,e);case"object":if(r===null)return t.indexOf(r,e)}for(;e<t.length;){if(P(t[e],r))return e;e+=1}return-1}function nr(t,r){return Cr(r,t,0)>=0}function hr(t){var r=t.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0");return'"'+r.replace(/"/g,'\\"')+'"'}var yr=function(r){return(r<10?"0":"")+r},to=typeof Date.prototype.toISOString=="function"?function(r){return r.toISOString()}:function(r){return r.getUTCFullYear()+"-"+yr(r.getUTCMonth()+1)+"-"+yr(r.getUTCDate())+"T"+yr(r.getUTCHours())+":"+yr(r.getUTCMinutes())+":"+yr(r.getUTCSeconds())+"."+(r.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"},kt=to;function Lr(t){return function(){return!t.apply(this,arguments)}}function xr(t,r){for(var e=0,n=r.length,i=[];e<n;)t(r[e])&&(i[i.length]=r[e]),e+=1;return i}function V(t){return Object.prototype.toString.call(t)==="[object Object]"}var eo=function(){function t(r,e){this.xf=e,this.f=r}return t.prototype["@@transducer/init"]=x.init,t.prototype["@@transducer/result"]=x.result,t.prototype["@@transducer/step"]=function(r,e){return this.f(e)?this.xf["@@transducer/step"](r,e):r},t}(),oo=o(function(r,e){return new eo(r,e)}),Ct=oo;var no=o(_(["fantasy-land/filter","filter"],Ct,function(t,r){return V(r)?S(function(e,n){return t(r[n])&&(e[n]=r[n]),e},{},T(r)):xr(t,r)})),qr=no;var io=o(function(r,e){return qr(Lr(r),e)}),vr=io;function gr(t,r){var e=function(c){var v=r.concat([t]);return nr(c,v)?"<Circular>":gr(c,v)},n=function(a,c){return M(function(v){return hr(v)+": "+e(a[v])},c.slice().sort())};switch(Object.prototype.toString.call(t)){case"[object Arguments]":return"(function() { return arguments; }("+M(e,t).join(", ")+"))";case"[object Array]":return"["+M(e,t).concat(n(t,vr(function(a){return/^\d+$/.test(a)},T(t)))).join(", ")+"]";case"[object Boolean]":return typeof t=="object"?"new Boolean("+e(t.valueOf())+")":t.toString();case"[object Date]":return"new Date("+(isNaN(t.valueOf())?e(NaN):hr(kt(t)))+")";case"[object Null]":return"null";case"[object Number]":return typeof t=="object"?"new Number("+e(t.valueOf())+")":1/t===-1/0?"-0":t.toString(10);case"[object String]":return typeof t=="object"?"new String("+e(t.valueOf())+")":hr(t);case"[object Undefined]":return"undefined";default:if(typeof t.toString=="function"){var i=t.toString();if(i!=="[object Object]")return i}return"{"+n(t,T(t)).join(", ")+"}"}}var ao=s(function(r){return gr(r,[])}),_r=ao;var uo=s(function(r){return E(r.length,r)}),wr=uo;var po=o(function(r,e){return e==null||e!==e?r:e}),Ur=po;var mo=function(){function t(r,e){this.xf=e,this.n=r,this.i=0}return t.prototype["@@transducer/init"]=x.init,t.prototype["@@transducer/result"]=x.result,t.prototype["@@transducer/step"]=function(r,e){this.i+=1;var n=this.n===0?r:this.xf["@@transducer/step"](r,e);return this.n>=0&&this.i>=this.n?D(n):n},t}(),lo=o(function(r,e){return new mo(r,e)}),Ut=lo;var ho=o(_(["take"],Ut,function(r,e){return k(0,r<0?1/0:r,e)})),ir=ho;function tt(t){var r=Object.prototype.toString.call(t);return r==="[object Uint8ClampedArray]"||r==="[object Int8Array]"||r==="[object Uint8Array]"||r==="[object Int16Array]"||r==="[object Uint16Array]"||r==="[object Int32Array]"||r==="[object Uint32Array]"||r==="[object Float32Array]"||r==="[object Float64Array]"||r==="[object BigInt64Array]"||r==="[object BigUint64Array]"}var go=s(function(r){return r!=null&&typeof r["fantasy-land/empty"]=="function"?r["fantasy-land/empty"]():r!=null&&r.constructor!=null&&typeof r.constructor["fantasy-land/empty"]=="function"?r.constructor["fantasy-land/empty"]():r!=null&&typeof r.empty=="function"?r.empty():r!=null&&r.constructor!=null&&typeof r.constructor.empty=="function"?r.constructor.empty():R(r)?[]:z(r)?"":V(r)?{}:Br(r)?function(){return arguments}():tt(r)?r.constructor.from(""):void 0}),et=go;var Io=o(function(r,e){return E(r+1,function(){var n=arguments[r];if(n!=null&&or(n[e]))return n[e].apply(n,Array.prototype.slice.call(arguments,0,r));throw new TypeError(_r(n)+' does not have a method named "'+e+'"')})}),ar=Io;var Eo=o(function(r,e){return e instanceof r||e!=null&&(e.constructor===r||r.name==="Object"&&typeof e=="object")}),Dr=Eo;var Ro=s(function(r){return r!=null&&P(r,et(r))}),it=Ro;var Oo=o(function(r,e){return function(n){return function(i){return W(function(a){return e(a,i)},n(r(i)))}}}),Ar=Oo;var To=f(function(r,e,n){return Kr(r,cr(e),n)}),at=To;var Bo=s(function(r){return Ar(J(r),at(r))}),ut=Bo;var Wo=f(function(r,e,n){var i={},a;for(a in e)A(a,e)&&(i[a]=A(a,n)?r(a,e[a],n[a]):e[a]);for(a in n)A(a,n)&&!A(a,i)&&(i[a]=n[a]);return i}),Fr=Wo;var ko=f(function t(r,e,n){return Fr(function(i,a,c){return V(a)&&V(c)?t(r,a,c):r(i,a,c)},e,n)}),Ir=ko;var Co=o(function(r,e){return Ir(function(n,i,a){return a},r,e)}),Mr=Co;var Ko=f(function(r,e,n){return Ur(r,Y(e,n))}),st=Ko;var Yo=ar(1,"split"),er=Yo;var rn=function(){function t(r,e){this.xf=e,this.f=r}return t.prototype["@@transducer/init"]=x.init,t.prototype["@@transducer/result"]=x.result,t.prototype["@@transducer/step"]=function(r,e){return this.f(e),this.xf["@@transducer/step"](r,e)},t}(),tn=o(function(r,e){return new rn(r,e)}),Xt=tn;var en=o(_([],Xt,function(r,e){return r(e),e})),pt=en;var K1=typeof String.prototype.trim=="function";var un=function(t){return{value:t,"fantasy-land/map":function(){return this}}},sn=o(function(r,e){return r(un)(e).value}),ft=sn;var pn=f(function(r,e,n){return r(n)?e(n):n}),ct=pn;var Ht=()=>new Date().toISOString(),mB=Z(ir(10),Ht),lB=Z(ir(7),Ht),mt={"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"*","Access-Control-Allow-Credentials":!0};var dB=pt(console.log),vn=t=>Buffer.from(t,"base64").toString("utf-8"),hB=Q(er("."),ft(ut(1)),vn,JSON.parse),yB=wr((t,r)=>{try{return JSON.parse(r)}catch{return t}});var xB=Z(Dr(Function),st(!1,"then"));var gn={toEdge:t=>Q(er("/"),r=>({fromType:r[0],from:r[1],toType:r[2],to:r[3]}))(t),reverseEdge:t=>({...t,fromType:t.toType,from:t.to,toType:t.fromType,to:t.from}),fromEdge:t=>`${t.from}/${t.fromType}/${t.toType}/${t.to}`,toEdgeTuple:t=>Z(([r,e,n,i])=>[e,r,n,i],er("/"))(t),fromEdgeTuple:([t,r,e,n])=>`${r}/${t}/${e}/${n}`,toScope:t=>{let r=t.slice(0,-1).lastIndexOf(".");return r===-1?"":t.substring(0,r+1)},fromNodeIdWildcard:t=>t.slice(-1)!=="*"?"":t.slice(0,-1),toRight:t=>Q(er("/"),r=>({nodeId:r[0],principalType:r[1],principal:r[2]}))(t),fromRight:t=>`${t.nodeId}/${t.principalType}/${t.principal}`,toOwnership:t=>Q(er("/"),r=>({nodeId:r[0],principal:r[2]}))(t),fromOwnership:t=>`${t.nodeId}/user/${t.principal}`,filePrefix:(t,r)=>At(`${t}/${r}`),toFileKey:({nodeId:t,prop:r,filename:e})=>`file/${gn.filePrefix(t,r)}/${e}`,toFileRefKey:({nodeId:t,prop:r})=>`ref/${t}/${r}`,toFileMetadataKey:({fileKey:t})=>`metadata/${t}`,toLogKey:({type:t,userEmail:r,timestamp:e,requestId:n})=>`${t}/${r}/${e}/${n}`,fromLogKey:Z(([t,r,e,n])=>({type:t,userEmail:r,timestamp:e,requestId:n}),er("/"))},vB=U(Mr,{});var gB=ct(it,Vr);var l={InvalidEmailError:{name:"InvalidEmailError",message:"The email must be valid and must not contain upper case letters or spaces."},InvalidPasswordError:{name:"InvalidPasswordError",message:"The password must contain at least 8 characters and at least 1 number."},InvalidSrpAError:{name:"InvalidSrpAError",message:"The SRP A value must be a correctly calculated random hex hash based on big integers."},InvalidRefreshTokenError:{name:"InvalidRefreshTokenError",message:"Refresh token is invalid."},VerificationCodeMismatchError:{name:"VerificationCodeMismatchError",message:"The verification code does not match."},VerificationCodeExpiredError:{name:"VerificationCodeExpiredError",message:"The verification code has exipired. Please retry via Reset Password Init (in case of pasword reset) or Register Verify Resend (in case of register)."},UserNotFoundError:{name:"UserNotFoundError",message:"No user was found under the given email or user ID."},UserNotVerifiedError:{name:"UserNotVerifiedError",message:"The user must be verified with Register Verify operation."},UserExistsError:{name:"UserExistsError",message:"There is an existing user with the given email address."},UserMissingPasswordChallengeError:{name:"UserMissingPasswordChallengeError",message:"The user must have an active require password change challenge."},PasswordResetRequiredError:{name:"PasswordResetRequiredError",message:"The password must be reset."},PasswordResetMissingParamError:{name:"PasswordResetMissingParamError",message:"Either a verification code or the users old password are required."},LoginVerifyError:{name:"LoginVerifyError",message:"The password could not be verified. Please check password, userId, secretBlock, signature and timestamp."}};var _n={type:"object",properties:{email:{type:"string",description:"Email of the user to be logged in."},srpA:{type:"string",description:"Client SRP A value that will be used to initiate an SRP auth process."}},required:["email","srpA"]},Gt={summary:"Login Init",description:"This operation initiates a user login with a client generated SRP A value and returns challenge parameters needed to calculate the signature. The signature is then sent back to the server using the Login Verify operation.",operationId:"loginInit",tags:["Auth"],responses:{200:{description:"OK",content:{"application/json":{schema:{type:"object",properties:{poolname:{type:"string",description:"Name of server side pool that is used by the hash algorithm on the client side to calculate the signature."},userId:{type:"string",description:"Server side UUID identifying the user during the SRP process."},srpB:{type:"string",description:"Servers SRP B value that is used by the hash algorithm on the client side to calculate the signature."},secretBlock:{type:"string",description:"Secret block of the server. It must be sent along with the signature via the Login Verify operation in order for the server to remember the session. It is also used by the hash algorithm on the client side to calculate the signature."},salt:{type:"string",description:"Random salt that is used by the hash algorithm on the client side to calculate the signature."}}}}}},400:{description:"Bad Request",content:{"application/json":{schema:{type:"object",enum:[l.InvalidEmailError,l.InvalidSrpAError]}}}},403:{description:"Forbidden",content:{"application/json":{schema:{type:"object",enum:[l.UserNotVerifiedError,l.PasswordResetRequiredError]}}}},404:{description:"Not Found",content:{"application/json":{schema:{type:"object",enum:[l.UserNotFoundError]}}}},500:{description:"Internal Server Error"}},requestBody:{content:{"application/json":{schema:_n}}}},wn={type:"object",properties:{userId:{type:"string",description:"ID of the user to be logged in. It is returned by the Login Init operation."},secretBlock:{type:"string",description:"Server secret block which was returned by the Login Init operation. It needs to be sent along with the signature in order for the server to remember the session."},signature:{type:"string",description:"Client signature that is used by the server to verify that the client knows the password."},timestamp:{type:"string",description:"Timestamp of the moment when the signature was calculated. It is part of the signature and is also used to verify it."}},required:["userId","secretBlock","signature","timestamp"]},Jt={summary:"Login Verify",description:"This operation executes a user login using an SRP signature calculated by the client and returns all auth tokens in case of success.",operationId:"loginVerify",tags:["Auth"],responses:{200:{description:"OK",content:{"application/json":{schema:{type:"object",properties:{accessToken:{type:"string",description:"OAuth access token. It can be used as Authorization header along with all Got API calls."},expiresIn:{type:"number",description:"The expiration period of the authentication result in seconds."},idToken:{type:"string",description:"OAuth ID token. Never send it along with any API calls."},refreshToken:{type:"string",description:"The refresh token which can be stored in the session and be used to restore auth tokens via Login Refresh operation."}}}}}},403:{description:"Forbidden",content:{"application/json":{schema:{type:"object",enum:[l.LoginVerifyError,l.UserNotVerifiedError,l.PasswordResetRequiredError]}}}},404:{description:"Not Found",content:{"application/json":{schema:{type:"object",enum:[l.UserNotFoundError]}}}}},requestBody:{content:{"application/json":{schema:wn}}}},An={type:"object",properties:{refreshToken:{type:"string",description:"The refresh token can be used instead to retrieve new access tokens."}},required:["refreshToken"]},Yt={summary:"Login Refresh",description:"This operation executes a user login using a refresh token and returns all auth tokens in case of success.",operationId:"loginRefresh",tags:["Auth"],responses:{200:{description:"OK",content:{"application/json":{schema:{type:"object",properties:{accessToken:{type:"string",description:"OAuth access token. It can be used as Authorization header along with all Got API calls."},expiresIn:{type:"string",description:"The expiration period of the authentication result in seconds."},idToken:{type:"string",description:"OAuth ID token. Never send it along with any API calls."}}}}}},400:{description:"Bad Request",content:{"application/json":{schema:{type:"object",enum:[l.InvalidRefreshTokenError]}}}},403:{description:"Forbidden",content:{"application/json":{schema:{type:"object",enum:[l.UserNotVerifiedError,l.PasswordResetRequiredError]}}}},404:{description:"Not Found",content:{"application/json":{schema:{type:"object",enum:[l.UserNotFoundError]}}}}},requestBody:{content:{"application/json":{schema:An}}}},bn={type:"object",properties:{email:{type:"string",description:"Email of the user to be registered."},password:{type:"string",description:"Password of the user to be registered."}},required:["email","password"]},Qt={summary:"Register Init",description:"This operation registers a new user with the API in order for him to authenticate for all API operations.",operationId:"registerInit",tags:["Auth"],responses:{200:{description:"OK"},400:{description:"Bad Request",content:{"application/json":{schema:{type:"object",enum:[l.InvalidEmailError,l.InvalidPasswordError]}}}},403:{description:"Forbidden",content:{"application/json":{schema:{type:"object",enum:[l.UserExistsError]}}}},500:{description:"Internal Server Error"}},requestBody:{content:{"application/json":{schema:bn}}}},In={type:"object",properties:{email:{type:"string",description:"Email of the user to be registerVerifyd."},verificationCode:{type:"string",description:"Verification code that was sent to the given email."}},required:["email","verificationCode"]},Zt={summary:"Register Verify",description:"This operation verifies a previously registered user with an verification code that was sent to his email after the register operation.",operationId:"registerVerify",tags:["Auth"],responses:{200:{description:"OK"},400:{description:"Bad Request",content:{"application/json":{schema:{type:"object",enum:[l.InvalidEmailError,l.VerificationCodeMismatchError]}}}},403:{description:"Forbidden",content:{"application/json":{schema:{type:"object",enum:[l.VerificationCodeExpiredError]}}}},404:{description:"Not Found",content:{"application/json":{schema:{type:"object",enum:[l.UserNotFoundError]}}}},500:{description:"Internal Server Error"}},requestBody:{content:{"application/json":{schema:In}}}},En={type:"object",properties:{email:{type:"string",description:"Email of the user which the verification code should be resent for."}},required:["email"]},$t={summary:"Register Verify Resend",description:"This operation resends the verification code for a previously registered but not yet verified user.",operationId:"registerVerifyResend",tags:["Auth"],responses:{200:{description:"OK"},400:{description:"Bad Request",content:{"application/json":{schema:{type:"object",enum:[l.InvalidEmailError]}}}},404:{description:"Not Found",content:{"application/json":{schema:{type:"object",enum:[l.UserNotFoundError]}}}},500:{description:"Internal Server Error"}},requestBody:{content:{"application/json":{schema:En}}}},Rn={type:"object",properties:{email:{type:"string",description:"Email of the user which wants to reset the password."}},required:["email"]},re={summary:"Reset Password Init",description:"This operation initiates the forgot password procedure. An email with verification code is sent automatically to the users email.",operationId:"resetPasswordInit",tags:["Auth"],responses:{200:{description:"OK"},400:{description:"Bad Request",content:{"application/json":{schema:{type:"object",enum:[l.InvalidEmailError]}}}},403:{description:"Forbidden",content:{"application/json":{schema:{type:"object",enum:[l.UserNotVerifiedError]}}}},404:{description:"Not Found",content:{"application/json":{schema:{type:"object",enum:[l.UserNotFoundError]}}}},500:{description:"Internal Server Error"}},requestBody:{content:{"application/json":{schema:Rn}}}},Sn={type:"object",properties:{email:{type:"string",description:"E-mail of the user for whom the password is to be reset."},password:{type:"string",description:"New password to be set."},oldPassword:{type:"string",description:"Current password of the user."},verificationCode:{type:"string",description:"Verification code that was sent to the email after Reset Password Init operation."}},required:["email","password"]},te={summary:"Reset Password Verify",description:"This operation resets the password of the given user using the email address and verification code sent to this email address after calling the Reset Password Init operation.",operationId:"resetPasswordVerify",tags:["Auth"],responses:{200:{description:"OK"},400:{description:"Bad Request",content:{"application/json":{schema:{type:"object",enum:[l.InvalidEmailError,l.InvalidPasswordError,l.VerificationCodeMismatchError]}}}},403:{description:"Forbidden",content:{"application/json":{schema:{type:"object",enum:[l.VerificationCodeExpiredError,l.UserNotVerifiedError]}}}},404:{description:"Not Found",content:{"application/json":{schema:{type:"object",enum:[l.UserNotFoundError]}}}},500:{description:"Internal Server Error"}},requestBody:{content:{"application/json":{schema:Sn}}}},On={type:"object",properties:{email:{type:"string",description:"Email of the user to be invited."},id:{type:"string",description:"Id of the node the executing user wants to use for rights validation."},templateId:{type:"string",description:"Identifier of the email template that will be used to send credentials to the invited user."}},required:["email","id"]},ee={summary:"Invite User",security:[{BearerAuth:[]}],description:"This operation creates a user with the given email provided they do not exist yet.",operationId:"inviteUser",tags:["Auth"],responses:{201:{description:"OK"},400:{description:"Bad Request"},401:{description:"Unauthorized"}},requestBody:{content:{"application/json":{schema:On}}}};var Tn={type:"object",additionalProperties:!1,properties:{uploadId:{type:"string",description:""},partEtags:{type:"array",description:"",items:{type:"string"}}},required:["uploadId","partEtags"]},oe={summary:"Complete Multipart Upload",security:[{BearerAuth:[]}],description:"This operation completes a previously executed multipart upload. Multipart uploads are initiated via push operations.",operationId:"completeUpload",tags:["Media"],responses:{204:{description:"Created."},400:{description:"Bad Request"},401:{description:"Unauthorized"}},requestBody:{content:{"application/json":{schema:Tn}}}};var lt=t=>({type:"object",description:"Holds a query object that specifies how the graph should be queried from a given entry point. The entry point can be a node ID or an edge pointing do a set of nodes",additionalProperties:!1,properties:{as:{type:"string",description:"Defines an optional alias for the query object, which is currently ignored by the API."},role:{type:"string",description:"Defines the role which will be used to check the rights of the given node. If no role is given, the rights of the current user will be used."},reverse:{type:"boolean",description:"Defines if the edge should be read out in reverse"},edges:{type:"object",description:"Specifies a hashmap of edge types `fromType/toType` which should further be fetched from a given node or another parent edge query.",additionalProperties:t},include:{type:"object",description:'Specifies which data should be returned for the given node or for multiple nodes the given edge type (e.g. "todo-app/todo-list") is pointing to',additionalProperties:!1,example:{node:!0,metadata:!0,rights:!0,files:!1,edges:!1},properties:{node:{type:"boolean",description:"`true` when the node(s) data should be included in the response. `false` when they should explicitly be excluded from the response."},edges:{type:"boolean",description:"`true` when the edges should be included in the response. `false` when they should explicitly be excluded from the response."},metadata:{type:"boolean",description:"`true` when edge metadata data should be included in the response. `false` when they should explicitly be excluded from the response."},rights:{type:"boolean",description:"`true` when the node rights should be included in the response. `false` when they should explicitly be excluded from the response."},files:{type:"boolean",description:"`true` when the node files should be included in the response. `false` when they should explicitly be excluded from the response."}}}}}),EB={type:"object",additionalProperties:{$ref:"#/definitions/Query"},definitions:{Query:lt({$ref:"#/definitions/Query"})}},ne={summary:"Pull Graph",security:[{BearerAuth:[]}],description:"This operation pulls a graph based on a given hashmap of queries.",operationId:"pull",responses:{200:{description:"OK"},400:{description:"Bad Request"},401:{description:"Unauthorized"}},requestBody:{content:{"application/json":{schema:{type:"object",example:{"d2c33f10-06e9-40bb-92e5-1fc4aaa58f95":{edges:{"todo-app/todo-list":{include:{node:!0,rights:!0,files:!0,metadata:!0},edges:{"todo-list/todo":{include:{node:!0,metadata:!0,rights:!0,files:!0}},"node/video":{include:{node:!0,metadata:!0,rights:!0,files:!0}}}},"todo-app/feedback":{include:{edges:!0,rights:!0}}}},"64fcd6b1-7efe-483f-a4bb-748f5544e2da":{edges:{"todo-app/info":{include:{metadata:!0}}}},"ccfcaab1-88fb-4358-baca-f9fca0074ad0":{include:{node:!0}}},additionalProperties:{$ref:"#/components/schemas/Query"}}}}}};var Bn={type:"object",additionalProperties:!1,properties:{nodes:{type:"object",description:"The nodes hashmap.",example:{"e1d05e83-4122-4fd9-9502-d12e7867b4d6":{id:"e1d05e83-4122-4fd9-9502-d12e7867b4d6",someProp:"someVal"}},additionalProperties:{oneOf:[{type:"boolean",const:!1,description:"`false` when the node should be deleted."},{type:"object",additionalProperties:!0,properties:{id:{type:"string",description:"The id of the node which should be updated.",example:"e1d05e83-4122-4fd9-9502-d12e7867b4d6",minLength:1}},required:["id"]}]}},edges:{type:"object",description:"`fromType`s: A `fromType` hashmap representing all `fromType`s of all present edges.",example:{"todo-app":{"e1d05e83-4122-4fd9-9502-d12e7867b4d6":{"todo-list":{"6da76147-c72a-4819-8efe-f4f8e06b6be6":{order:"1"}}}}},additionalProperties:{type:"object",description:"`fromId`s: A `from` hashmap representing all `fromId`s of all edges pointing from the given `fromType`.",example:{"e1d05e83-4122-4fd9-9502-d12e7867b4d6":{"todo-list":{"6da76147-c72a-4819-8efe-f4f8e06b6be6":{order:"1"}}}},additionalProperties:{type:"object",description:"`toType`s: A `toType` hashmap representing all `toType`s of all edges pointing from the given `fromType` and `fromId`.",example:{"todo-list":{"6da76147-c72a-4819-8efe-f4f8e06b6be6":{order:"1"}}},additionalProperties:{type:"object",description:"`toId`s: A `toId` hashmap representing all `toId`s of all edges pointing from the given `fromType`, `fromId`, `toType` and `toId`.",example:{"6da76147-c72a-4819-8efe-f4f8e06b6be6":{order:"1"}},additionalProperties:{oneOf:[{type:"boolean",description:"`true` when the edge should be created. `false` when the edge should be deleted."},{type:"object",description:"Is interpreted as `true` meaning the edge should be created. Object contains additional metadata to be set for the given edge.",additionalProperties:{oneOf:[{type:"string"},{type:"number"},{type:"boolean"},{type:"null"},{type:"array",items:{oneOf:[{type:"string"},{type:"number"},{type:"boolean"},{type:"null"}]}}]}}]}}}}},rights:{type:"object",description:"`id`s: A node `id` hashmap representing all nodes which rights should be updated for.",example:{"e1d05e83-4122-4fd9-9502-d12e7867b4d6":{user:{"test@mail.de":{read:!0,write:!0,admin:!0}},inherit:{from:"6da76147-c72a-4819-8efe-f4f8e06b6be6"}}},additionalProperties:{type:"object",description:"emails: An email hashmap representing all users which rights should be updated for on the given node.",properties:{user:{type:"object",description:"",example:{"test@mail.de":{read:!0,write:!0,admin:!0}},additionalProperties:{type:"object",description:"rights: A right hashmap representing all rights which should be updated for the given user on the given node.",example:{read:!0,write:!0,admin:!0},properties:{read:{type:"boolean",example:!0,description:"`true` to allow, `false` to disallow"},write:{type:"boolean",example:!0,description:"`true` to allow, `false` to disallow"},admin:{type:"boolean",example:!0,description:"`true` to allow, `false` to disallow"}}}},inherit:{type:"object",description:"Represents right inheritance for the given node from another node denoted in the `from` property. All rights of the given node are deleted and copied from the other node.",example:{from:"6da76147-c72a-4819-8efe-f4f8e06b6be6"},properties:{from:{type:"string",description:"the node id of the node from which the rights should be copied."}},required:["from"]}}}},files:{type:"object",description:"`id`s: A node `id` hashmap representing all nodes which files should be uploaded for.",example:{"e1d05e83-4122-4fd9-9502-d12e7867b4d6":{someVideo:{filename:"my-video.mp4",contentType:"video/mp4",fileSize:25e6,partSize:5242880},someTextFile:{filename:"my-file.txt",contentType:"text/plain",fileSize:250}}},additionalProperties:{type:"object",description:"`propName`s: A `propName` hashmap representing all properties which files should be attached with on the given node.",example:{someVideo:{filename:"my-video.mp4",contentType:"video/mp4",fileSize:25e6,partSize:5242880}},additionalProperties:{oneOf:[{type:"boolean",const:!1,description:"`false` when the file should be deleted."},{type:"object",description:"File metadata describing the upload to be initialized.",example:{filename:"my-video.mp4",contentType:"video/mp4",fileSize:25e6,partSize:5242880},properties:{filename:{type:"string",example:"my-video.mp4",description:"The filename as uploaded to the server and presented by the signed URL during download.",minLength:1},contentType:{type:"string",example:"video/mp4",description:"Mime type of the file to upload.",minLength:1},fileSize:{type:"integer",example:25e6,description:"Size of the file to be uploaded in bytes",minimum:1},partSize:{type:"integer",example:5242880,default:5242880,description:"Intended part size in bytes in case of a multipart upload.",minimum:5242880}},required:["filename","contentType","fileSize"]}]}}}}},ie={summary:"Push Graph",security:[{BearerAuth:[]}],description:"This operation pushes the graph from the request body into the database.",operationId:"push",responses:{200:{description:"OK"},400:{description:"Bad Request"},401:{description:"Unauthorized"}},requestBody:{content:{"application/json":{schema:Bn}}}};var ae=(t="",r="")=>({openapi:"3.0.0-rc2",servers:[{url:t}],info:{description:"This is the API for a got backend which manages nodes, edges and access rights for nodes.",version:r,title:"Got API",contact:{email:"api@gothub.io"}},paths:{"/pull":{post:ne},"/push":{post:ie},"/media/complete-upload":{post:oe},"/auth/login-init":{post:Gt},"/auth/login-verify":{post:Jt},"/auth/login-refresh":{post:Yt},"/auth/register-init":{post:Qt},"/auth/register-verify":{post:Zt},"/auth/register-verify-resend":{post:$t},"/auth/reset-password-init":{post:re},"/auth/reset-password-verify":{post:te},"/auth/invite-user":{post:ee}},components:{securitySchemes:{BearerAuth:{type:"http",scheme:"bearer",bearerFormat:"JWT"}},schemas:{Query:lt({$ref:"#/components/schemas/Query"})}}});var Pn=`
<!DOCTYPE html>
<html>
  <head>
    <title>Got API</title>
    <!-- needed for adaptive design -->
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,700|Roboto:300,400,700" rel="stylesheet">

    <!--
    Redoc doesn't change outer page styles
    -->
    <style>
      body {
        margin: 0;
        padding: 0;
      }
      span.JIFSj.eqivia.sc-fbIWvP.sc-hmbstg {
        display: block;
        margin-bottom: 4px;
      }
    </style>
  </head>
  <body>
    <redoc spec-url='${zr}api'></redoc>
    <script src="https://cdn.jsdelivr.net/npm/redoc@latest/bundles/redoc.standalone.js"> </script>
  </body>
</html>
`,ue=async t=>t.headers.Accept&&t.headers.Accept.includes("text/html")?{statusCode:200,headers:{"Content-Type":"text/html",...mt},body:Pn}:{statusCode:200,headers:{"Content-Type":"application/json",...mt},body:JSON.stringify(ae(zr,process.env.npm_package_version))};0&&(module.exports={handleHttp});
